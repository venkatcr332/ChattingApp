import{A as Cl,B as ps,C as xy,D as Oy,E as O,F as lt,G as Fe,H as Bf,I as Py,J as gs,K as Je,L as On,M as wl,N as jf,O as ky,P as Pr,Q as ms,R as Uf,S as Fy,T as Ly,U as Vy,V as _s,W as Dl,X as We,Y as ct,Z as Hf,a as y,b as j,c as Te,d as by,e as vl,f as Cy,g as wy,h as v,i as Or,j as yl,k as Dy,l as Ey,m as Iy,n as Ve,o as Ty,p as Vf,q as Sy,r as fn,s as My,t as Ay,u as bl,v as Ae,w as Ny,x as Ry,y as Rt,z as ui}from"./chunk-QXR52QQ4.js";function jy(e,t){return Object.is(e,t)}var Le=null,El=!1,Wf=1,pt=Symbol("SIGNAL");function J(e){let t=Le;return Le=e,t}function Uy(){return Le}var ys={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Tl(e){if(El)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(e);let t=Le.nextProducerIndex++;if(Al(Le),t<Le.producerNode.length&&Le.producerNode[t]!==e&&vs(Le)){let n=Le.producerNode[t];Ml(n,Le.producerIndexOfThis[t])}Le.producerNode[t]!==e&&(Le.producerNode[t]=e,Le.producerIndexOfThis[t]=vs(Le)?Wy(e,Le,t):0),Le.producerLastReadVersion[t]=e.version}function HT(){Wf++}function Hy(e){if(!(vs(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Wf)){if(!e.producerMustRecompute(e)&&!qf(e)){By(e);return}e.producerRecomputeValue(e),By(e)}}function $y(e){if(e.liveConsumerNode===void 0)return;let t=El;El=!0;try{for(let n of e.liveConsumerNode)n.dirty||$T(n)}finally{El=t}}function Gy(){return Le?.consumerAllowSignalWrites!==!1}function $T(e){e.dirty=!0,$y(e),e.consumerMarkedDirty?.(e)}function By(e){e.dirty=!1,e.lastCleanEpoch=Wf}function Sl(e){return e&&(e.nextProducerIndex=0),J(e)}function zf(e,t){if(J(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(vs(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ml(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function qf(e){Al(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(Hy(n),i!==n.version))return!0}return!1}function Kf(e){if(Al(e),vs(e))for(let t=0;t<e.producerNode.length;t++)Ml(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Wy(e,t,n){if(zy(e),e.liveConsumerNode.length===0&&qy(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=Wy(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ml(e,t){if(zy(e),e.liveConsumerNode.length===1&&qy(e))for(let i=0;i<e.producerNode.length;i++)Ml(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Al(r),r.producerIndexOfThis[i]=t}}function vs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Al(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function zy(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function qy(e){return e.producerNode!==void 0}function Ky(e){let t=Object.create(GT);t.computation=e;let n=()=>{if(Hy(t),Tl(t),t.value===Il)throw t.error;return t.value};return n[pt]=t,n}var $f=Symbol("UNSET"),Gf=Symbol("COMPUTING"),Il=Symbol("ERRORED"),GT=j(y({},ys),{value:$f,dirty:!0,error:null,equal:jy,kind:"computed",producerMustRecompute(e){return e.value===$f||e.value===Gf},producerRecomputeValue(e){if(e.value===Gf)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Gf;let n=Sl(e),i,r=!1;try{i=e.computation(),J(null),r=t!==$f&&t!==Il&&i!==Il&&e.equal(t,i)}catch(o){i=Il,e.error=o}finally{zf(e,n)}if(r){e.value=t;return}e.value=i,e.version++}});function WT(){throw new Error}var Qy=WT;function Zy(){Qy()}function Yy(e){Qy=e}var zT=null;function Jy(e){let t=Object.create(Qf);t.value=e;let n=()=>(Tl(t),t.value);return n[pt]=t,n}function Nl(e,t){Gy()||Zy(),e.equal(e.value,t)||(e.value=t,qT(e))}function Xy(e,t){Gy()||Zy(),Nl(e,t(e.value))}var Qf=j(y({},ys),{equal:jy,value:void 0,kind:"signal"});function qT(e){e.version++,HT(),$y(e),zT?.()}function M(e){return typeof e=="function"}function kr(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Rl=kr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Hi(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var De=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(M(i))try{i()}catch(o){t=o instanceof Rl?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{e0(o)}catch(s){t=t??[],s instanceof Rl?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Rl(t)}}add(t){var n;if(t&&t!==this)if(this.closed)e0(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Hi(n,t)}remove(t){let{_finalizers:n}=this;n&&Hi(n,t),t instanceof e&&t._removeParent(this)}};De.EMPTY=(()=>{let e=new De;return e.closed=!0,e})();var Zf=De.EMPTY;function xl(e){return e instanceof De||e&&"closed"in e&&M(e.remove)&&M(e.add)&&M(e.unsubscribe)}function e0(e){M(e)?e():e.unsubscribe()}var Yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fr={setTimeout(e,t,...n){let{delegate:i}=Fr;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Fr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ol(e){Fr.setTimeout(()=>{let{onUnhandledError:t}=Yt;if(t)t(e);else throw e})}function $i(){}var t0=Yf("C",void 0,void 0);function n0(e){return Yf("E",void 0,e)}function i0(e){return Yf("N",e,void 0)}function Yf(e,t,n){return{kind:e,value:t,error:n}}var Gi=null;function Lr(e){if(Yt.useDeprecatedSynchronousErrorHandling){let t=!Gi;if(t&&(Gi={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=Gi;if(Gi=null,n)throw i}}else e()}function r0(e){Yt.useDeprecatedSynchronousErrorHandling&&Gi&&(Gi.errorThrown=!0,Gi.error=e)}var Wi=class extends De{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,xl(t)&&t.add(this)):this.destination=ZT}static create(t,n,i){return new Pn(t,n,i)}next(t){this.isStopped?Xf(i0(t),this):this._next(t)}error(t){this.isStopped?Xf(n0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Xf(t0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KT=Function.prototype.bind;function Jf(e,t){return KT.call(e,t)}var eh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Pl(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Pl(i)}else Pl(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Pl(n)}}},Pn=class extends Wi{constructor(t,n,i){super();let r;if(M(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Yt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Jf(t.next,o),error:t.error&&Jf(t.error,o),complete:t.complete&&Jf(t.complete,o)}):r=t}this.destination=new eh(r)}};function Pl(e){Yt.useDeprecatedSynchronousErrorHandling?r0(e):Ol(e)}function QT(e){throw e}function Xf(e,t){let{onStoppedNotification:n}=Yt;n&&Fr.setTimeout(()=>n(e,t))}var ZT={closed:!0,next:$i,error:QT,complete:$i};var Vr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $e(e){return e}function th(...e){return nh(e)}function nh(e){return e.length===0?$e:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var A=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=JT(n)?n:new Pn(n,i,r);return Lr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=o0(i),new i((r,o)=>{let s=new Pn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Vr](){return this}pipe(...n){return nh(n)(this)}toPromise(n){return n=o0(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function o0(e){var t;return(t=e??Yt.Promise)!==null&&t!==void 0?t:Promise}function YT(e){return e&&M(e.next)&&M(e.error)&&M(e.complete)}function JT(e){return e&&e instanceof Wi||YT(e)&&xl(e)}function ih(e){return M(e?.lift)}function F(e){return t=>{if(ih(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function k(e,t,n,i,r){return new rh(e,t,n,i,r)}var rh=class extends Wi{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Br(){return F((e,t)=>{let n=null;e._refCount++;let i=k(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var jr=class extends A{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ih(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new De;let n=this.getSubject();t.add(this.source.subscribe(k(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=De.EMPTY)}return t}refCount(){return Br()(this)}};var s0=kr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var G=(()=>{class e extends A{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new kl(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new s0}next(n){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Zf:(this.currentObservers=null,o.push(n),new De(()=>{this.currentObservers=null,Hi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new A;return n.source=this,n}}return e.create=(t,n)=>new kl(t,n),e})(),kl=class extends G{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Zf}};var Ne=class extends G{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var bs={now(){return(bs.delegate||Date).now()},delegate:void 0};var Cs=class extends G{constructor(t=1/0,n=1/0,i=bs){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var Fl=class extends De{constructor(t,n){super()}schedule(t,n=0){return this}};var ws={setInterval(e,t,...n){let{delegate:i}=ws;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=ws;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Ur=class extends Fl{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return ws.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&ws.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hi(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Hr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};Hr.now=bs.now;var $r=class extends Hr{constructor(t,n=Hr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var di=new $r(Ur),oh=di;var Ll=class extends Ur{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,n,i):(t.flush(this),0)}};var Vl=class extends $r{};var sh=new Vl(Ll);var Re=new A(e=>e.complete());function Bl(e){return e&&M(e.schedule)}function ah(e){return e[e.length-1]}function fi(e){return M(ah(e))?e.pop():void 0}function hn(e){return Bl(ah(e))?e.pop():void 0}function a0(e,t){return typeof ah(e)=="number"?e.pop():t}var Gr=e=>e&&typeof e.length=="number"&&typeof e!="function";function jl(e){return M(e?.then)}function Ul(e){return M(e[Vr])}function Hl(e){return Symbol.asyncIterator&&M(e?.[Symbol.asyncIterator])}function $l(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function XT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gl=XT();function Wl(e){return M(e?.[Gl])}function zl(e){return Cy(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield vl(n.read());if(r)return yield vl(void 0);yield yield vl(i)}}finally{n.releaseLock()}})}function ql(e){return M(e?.getReader)}function X(e){if(e instanceof A)return e;if(e!=null){if(Ul(e))return eS(e);if(Gr(e))return tS(e);if(jl(e))return nS(e);if(Hl(e))return l0(e);if(Wl(e))return iS(e);if(ql(e))return rS(e)}throw $l(e)}function eS(e){return new A(t=>{let n=e[Vr]();if(M(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tS(e){return new A(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function nS(e){return new A(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ol)})}function iS(e){return new A(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function l0(e){return new A(t=>{oS(e,t).catch(n=>t.error(n))})}function rS(e){return l0(zl(e))}function oS(e,t){var n,i,r,o;return by(this,void 0,void 0,function*(){try{for(n=wy(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function ut(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function gt(e,t=0){return F((n,i)=>{n.subscribe(k(i,r=>ut(i,e,()=>i.next(r),t),()=>ut(i,e,()=>i.complete(),t),r=>ut(i,e,()=>i.error(r),t)))})}function xt(e,t=0){return F((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function c0(e,t){return X(e).pipe(xt(t),gt(t))}function u0(e,t){return X(e).pipe(xt(t),gt(t))}function d0(e,t){return new A(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function f0(e,t){return new A(n=>{let i;return ut(n,t,()=>{i=e[Gl](),ut(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>M(i?.return)&&i.return()})}function Kl(e,t){if(!e)throw new Error("Iterable cannot be null");return new A(n=>{ut(n,t,()=>{let i=e[Symbol.asyncIterator]();ut(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function h0(e,t){return Kl(zl(e),t)}function p0(e,t){if(e!=null){if(Ul(e))return c0(e,t);if(Gr(e))return d0(e,t);if(jl(e))return u0(e,t);if(Hl(e))return Kl(e,t);if(Wl(e))return f0(e,t);if(ql(e))return h0(e,t)}throw $l(e)}function se(e,t){return t?p0(e,t):X(e)}function T(...e){let t=hn(e);return se(e,t)}function Wr(e,t){let n=M(e)?e:()=>e,i=r=>r.error(n());return new A(t?r=>t.schedule(i,0,r):i)}function lh(e){return!!e&&(e instanceof A||M(e.lift)&&M(e.subscribe))}var kn=kr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function g0(e){return e instanceof Date&&!isNaN(e)}function S(e,t){return F((n,i)=>{let r=0;n.subscribe(k(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:sS}=Array;function aS(e,t){return sS(t)?e(...t):e(t)}function zr(e){return S(t=>aS(e,t))}var{isArray:lS}=Array,{getPrototypeOf:cS,prototype:uS,keys:dS}=Object;function Ql(e){if(e.length===1){let t=e[0];if(lS(t))return{args:t,keys:null};if(fS(t)){let n=dS(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function fS(e){return e&&typeof e=="object"&&cS(e)===uS}function Zl(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function qr(...e){let t=hn(e),n=fi(e),{args:i,keys:r}=Ql(e);if(i.length===0)return se([],t);let o=new A(hS(i,t,r?s=>Zl(r,s):$e));return n?o.pipe(zr(n)):o}function hS(e,t,n=$e){return i=>{m0(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)m0(t,()=>{let c=se(e[l],t),u=!1;c.subscribe(k(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function m0(e,t,n){e?ut(n,e,t):t()}function _0(e,t,n,i,r,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&t.complete()},h=m=>c<i?g(m):l.push(m),g=m=>{o&&t.next(m),c++;let C=!1;X(n(m,u++)).subscribe(k(t,x=>{r?.(x),o?h(x):t.next(x)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<i;){let x=l.shift();s?ut(t,s,()=>g(x)):g(x)}f()}catch(x){t.error(x)}}))};return e.subscribe(k(t,h,()=>{d=!0,f()})),()=>{a?.()}}function be(e,t,n=1/0){return M(t)?be((i,r)=>S((o,s)=>t(i,o,r,s))(X(e(i,r))),n):(typeof t=="number"&&(n=t),F((i,r)=>_0(i,r,e,n)))}function hi(e=1/0){return be($e,e)}function v0(){return hi(1)}function pi(...e){return v0()(se(e,hn(e)))}function Yl(e){return new A(t=>{X(e()).subscribe(t)})}function ch(...e){let t=fi(e),{args:n,keys:i}=Ql(e),r=new A(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;X(n[u]).subscribe(k(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?Zl(i,a):a),o.complete())}))}});return t?r.pipe(zr(t)):r}var pS=["addListener","removeListener"],gS=["addEventListener","removeEventListener"],mS=["on","off"];function Ot(e,t,n,i){if(M(n)&&(i=n,n=void 0),i)return Ot(e,t,n).pipe(zr(i));let[r,o]=yS(e)?gS.map(s=>a=>e[s](t,a,n)):_S(e)?pS.map(y0(e,t)):vS(e)?mS.map(y0(e,t)):[];if(!r&&Gr(e))return be(s=>Ot(s,t,n))(X(e));if(!r)throw new TypeError("Invalid event target");return new A(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function y0(e,t){return n=>i=>e[n](t,i)}function _S(e){return M(e.addListener)&&M(e.removeListener)}function vS(e){return M(e.on)&&M(e.off)}function yS(e){return M(e.addEventListener)&&M(e.removeEventListener)}function uh(e=0,t,n=oh){let i=-1;return t!=null&&(Bl(t)?n=t:i=t),new A(r=>{let o=g0(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function zi(...e){let t=hn(e),n=a0(e,1/0),i=e;return i.length?i.length===1?X(i[0]):hi(n)(se(i,t)):Re}var{isArray:bS}=Array;function Jl(e){return e.length===1&&bS(e[0])?e[0]:e}function Se(e,t){return F((n,i)=>{let r=0;n.subscribe(k(i,o=>e.call(t,o,r++)&&i.next(o)))})}function dh(...e){return e=Jl(e),e.length===1?X(e[0]):new A(CS(e))}function CS(e){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<e.length;i++)n.push(X(e[i]).subscribe(k(t,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}t.next(r)})))}}function Ds(...e){let t=fi(e),n=Jl(e);return n.length?new A(i=>{let r=n.map(()=>[]),o=n.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<n.length;s++)X(n[s]).subscribe(k(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Re}function gi(e){return F((t,n)=>{let i=null,r=!1,o;i=t.subscribe(k(n,void 0,void 0,s=>{o=X(e(s,gi(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function b0(e,t,n,i,r){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(k(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Fn(e,t){return M(t)?be(e,t,1):be(e,1)}function fh(e,t=di){return F((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,i.next(c)}};function l(){let c=s+e,u=t.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}a()}n.subscribe(k(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function mi(e){return F((t,n)=>{let i=!1;t.subscribe(k(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function Pt(e){return e<=0?()=>Re:F((t,n)=>{let i=0;t.subscribe(k(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function Xl(e,t=$e){return e=e??wS,F((n,i)=>{let r,o=!0;n.subscribe(k(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function wS(e,t){return e===t}function ec(e=DS){return F((t,n)=>{let i=!1;t.subscribe(k(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function DS(){return new kn}function hh(...e){return t=>pi(t,T(...e))}function Ln(e){return F((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Jt(e,t){let n=arguments.length>=2;return i=>i.pipe(e?Se((r,o)=>e(r,o,i)):$e,Pt(1),n?mi(t):ec(()=>new kn))}function Kr(e){return e<=0?()=>Re:F((t,n)=>{let i=[];t.subscribe(k(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function ph(e,t){let n=arguments.length>=2;return i=>i.pipe(e?Se((r,o)=>e(r,o,i)):$e,Kr(1),n?mi(t):ec(()=>new kn))}function Qr(e,t){return F(b0(e,t,arguments.length>=2,!0))}function Es(e={}){let{connector:t=()=>new G,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},g=()=>{let m=s;h(),m?.unsubscribe()};return F((m,C)=>{c++,!d&&!u&&f();let x=l=l??t();C.add(()=>{c--,c===0&&!d&&!u&&(a=gh(g,r))}),x.subscribe(C),!s&&c>0&&(s=new Pn({next:de=>x.next(de),error:de=>{d=!0,f(),a=gh(h,n,de),x.error(de)},complete:()=>{u=!0,f(),a=gh(h,i),x.complete()}}),X(m).subscribe(s))})(o)}}function gh(e,t,...n){if(t===!0){e();return}if(t===!1)return;let i=new Pn({next:()=>{i.unsubscribe(),e()}});return X(t(...n)).subscribe(i)}function tc(e,t,n){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:n}=e:i=e??1/0,Es({connector:()=>new Cs(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function mh(e){return F((t,n)=>{let i=!1,r=0;t.subscribe(k(n,o=>(i||(i=!e(o,r++)))&&n.next(o)))})}function nc(...e){let t=hn(e);return F((n,i)=>{(t?pi(e,n,t):pi(e,n)).subscribe(i)})}function ce(e,t){return F((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(k(i,l=>{r?.unsubscribe();let c=0,u=o++;X(e(l,u)).subscribe(r=k(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ic(e,t){return M(t)?ce(()=>e,t):ce(()=>e)}function ze(e){return F((t,n)=>{X(e).subscribe(k(n,()=>n.complete(),$i)),!n.closed&&t.subscribe(n)})}function xe(e,t,n){let i=M(e)||t||n?{next:e,error:t,complete:n}:e;return i?F((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(k(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):$e}function Zr(...e){let t=fi(e);return F((n,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)X(e[l]).subscribe(k(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every($e))&&(s=null))},$i));n.subscribe(k(i,l=>{if(a){let c=[l,...o];i.next(t?t(...c):c)}}))})}var rb="https://g.co/ng/security#xss",D=class extends Error{code;constructor(t,n){super(jc(t,n)),this.code=t}};function jc(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var ob=Symbol("InputSignalNode#UNSET"),ES=j(y({},Qf),{transformFn:void 0,applyValueToInputSignal(e,t){Nl(e,t)}});function sb(e,t){let n=Object.create(ES);n.value=e,n.transformFn=t?.transform;function i(){if(Tl(n),n.value===ob)throw new D(-950,!1);return n.value}return i[pt]=n,i}function Vs(e){return{toString:e}.toString()}var rc="__parameters__";function IS(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function ab(e,t,n){return Vs(()=>{let i=IS(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(rc)?l[rc]:Object.defineProperty(l,rc,{value:[]})[rc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var mt=globalThis;function he(e){for(let t in e)if(e[t]===he)return t;throw Error("Could not find renamed property on target object.")}function TS(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function et(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(et).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Nh(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var SS=he({__forward_ref__:he});function wi(e){return e.__forward_ref__=wi,e.toString=function(){return et(this())},e}function Xe(e){return lb(e)?e():e}function lb(e){return typeof e=="function"&&e.hasOwnProperty(SS)&&e.__forward_ref__===wi}function w(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function U(e){return{providers:e.providers||[],imports:e.imports||[]}}function Uc(e){return C0(e,ub)||C0(e,db)}function cb(e){return Uc(e)!==null}function C0(e,t){return e.hasOwnProperty(t)?e[t]:null}function MS(e){let t=e&&(e[ub]||e[db]);return t||null}function w0(e){return e&&(e.hasOwnProperty(D0)||e.hasOwnProperty(AS))?e[D0]:null}var ub=he({\u0275prov:he}),D0=he({\u0275inj:he}),db=he({ngInjectableDef:he}),AS=he({ngInjectorDef:he}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=w({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fb(e){return e&&!!e.\u0275providers}var NS=he({\u0275cmp:he}),RS=he({\u0275dir:he}),xS=he({\u0275pipe:he}),OS=he({\u0275mod:he}),hc=he({\u0275fac:he}),Ms=he({__NG_ELEMENT_ID__:he}),E0=he({__NG_ENV_ID__:he});function Hc(e){return typeof e=="string"?e:e==null?"":String(e)}function PS(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Hc(e)}function kS(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new D(-200,e)}function Tp(e,t){throw new D(-201,!1)}var W=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(W||{}),Rh;function hb(){return Rh}function dt(e){let t=Rh;return Rh=e,t}function pb(e,t,n){let i=Uc(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&W.Optional)return null;if(t!==void 0)return t;Tp(e,"Injector")}var FS={},Ns=FS,xh="__NG_DI_FLAG__",pc="ngTempTokenPath",LS="ngTokenPath",VS=/\n/gm,BS="\u0275",I0="__source",to;function jS(){return to}function _i(e){let t=to;return to=e,t}function US(e,t=W.Default){if(to===void 0)throw new D(-203,!1);return to===null?pb(e,void 0,t):to.get(e,t&W.Optional?null:void 0,t)}function _(e,t=W.Default){return(hb()||US)(Xe(e),t)}function p(e,t=W.Default){return _(e,$c(t))}function $c(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Oh(e){let t=[];for(let n=0;n<e.length;n++){let i=Xe(e[n]);if(Array.isArray(i)){if(i.length===0)throw new D(900,!1);let r,o=W.Default;for(let s=0;s<i.length;s++){let a=i[s],l=HS(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(_(r,o))}else t.push(_(i))}return t}function gb(e,t){return e[xh]=t,e.prototype[xh]=t,e}function HS(e){return e[xh]}function $S(e,t,n,i){let r=e[pc];throw t[I0]&&r.unshift(t[I0]),e.message=GS(`
`+e.message,r,n,i),e[LS]=r,e[pc]=null,e}function GS(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==BS?e.slice(2):e;let r=et(t);if(Array.isArray(t))r=t.map(et).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):et(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(VS,`
  `)}`}var Qe=gb(ab("Optional"),8);var WS=gb(ab("SkipSelf"),4);function Qi(e,t){let n=e.hasOwnProperty(hc);return n?e[hc]:null}function zS(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function qS(e){return e.flat(Number.POSITIVE_INFINITY)}function Sp(e,t){e.forEach(n=>Array.isArray(n)?Sp(n,t):t(n))}function mb(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function gc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function KS(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function QS(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function Mp(e,t,n){let i=Bs(e,t);return i>=0?e[i|1]=n:(i=~i,QS(e,i,t,n)),i}function _h(e,t){let n=Bs(e,t);if(n>=0)return e[n|1]}function Bs(e,t){return ZS(e,t,1)}function ZS(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var io={},ft=[],ro=new b(""),_b=new b("",-1),vb=new b(""),mc=class{get(t,n=Ns){if(n===Ns){let i=new Error(`NullInjectorError: No provider for ${et(t)}!`);throw i.name="NullInjectorError",i}return n}};function yb(e,t){let n=e[OS]||null;if(!n&&t===!0)throw new Error(`Type ${et(e)} does not have '\u0275mod' property.`);return n}function Vn(e){return e[NS]||null}function bb(e){return e[RS]||null}function Cb(e){return e[xS]||null}function wb(e){let t=Vn(e)||bb(e)||Cb(e);return t!==null&&t.standalone}function vn(e){return{\u0275providers:e}}function YS(...e){return{\u0275providers:Db(!0,e),\u0275fromNgModule:!0}}function Db(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return Sp(t,s=>{let a=s;Ph(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Eb(r,o),n}function Eb(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];Ap(r,o=>{t(o,i)})}}function Ph(e,t,n,i){if(e=Xe(e),!e)return!1;let r=null,o=w0(e),s=!o&&Vn(e);if(!o&&!s){let l=e.ngModule;if(o=w0(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Ph(c,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{Sp(o.imports,u=>{Ph(u,t,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Eb(c,t)}if(!a){let c=Qi(r)||(()=>new r);t({provide:r,useFactory:c,deps:ft},r),t({provide:vb,useValue:r,multi:!0},r),t({provide:ro,useValue:()=>_(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;Ap(l,u=>{t(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function Ap(e,t){for(let n of e)fb(n)&&(n=n.\u0275providers),Array.isArray(n)?Ap(n,t):t(n)}var JS=he({provide:String,useValue:he});function Ib(e){return e!==null&&typeof e=="object"&&JS in e}function XS(e){return!!(e&&e.useExisting)}function eM(e){return!!(e&&e.useFactory)}function oo(e){return typeof e=="function"}function tM(e){return!!e.useClass}var Gc=new b(""),lc={},nM={},vh;function Wc(){return vh===void 0&&(vh=new mc),vh}var Ee=class{},Rs=class extends Ee{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,Fh(t,s=>this.processProvider(s)),this.records.set(_b,Yr(void 0,this)),r.has("environment")&&this.records.set(Ee,Yr(void 0,this));let o=this.records.get(Gc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vb,ft,W.Self))}destroy(){Ts(this),this._destroyed=!0;let t=J(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(t)}}onDestroy(t){return Ts(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Ts(this);let n=_i(this),i=dt(void 0),r;try{return t()}finally{_i(n),dt(i)}}get(t,n=Ns,i=W.Default){if(Ts(this),t.hasOwnProperty(E0))return t[E0](this);i=$c(i);let r,o=_i(this),s=dt(void 0);try{if(!(i&W.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=aM(t)&&Uc(t);c&&this.injectableDefInScope(c)?l=Yr(kh(t),lc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&W.Self?Wc():this.parent;return n=i&W.Optional&&n===Ns?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[pc]=a[pc]||[]).unshift(et(t)),o)throw a;return $S(a,t,"R3InjectorError",this.source)}else throw a}finally{dt(s),_i(o)}}resolveInjectorInitializers(){let t=J(null),n=_i(this),i=dt(void 0),r;try{let o=this.get(ro,ft,W.Self);for(let s of o)s()}finally{_i(n),dt(i),J(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(et(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Xe(t);let n=oo(t)?t:Xe(t&&t.provide),i=rM(t);if(!oo(t)&&t.multi===!0){let r=this.records.get(n);r||(r=Yr(void 0,lc,!0),r.factory=()=>Oh(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=J(null);try{return n.value===lc&&(n.value=nM,n.value=n.factory()),typeof n.value=="object"&&n.value&&sM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{J(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Xe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function kh(e){let t=Uc(e),n=t!==null?t.factory:Qi(e);if(n!==null)return n;if(e instanceof b)throw new D(204,!1);if(e instanceof Function)return iM(e);throw new D(204,!1)}function iM(e){if(e.length>0)throw new D(204,!1);let n=MS(e);return n!==null?()=>n.factory(e):()=>new e}function rM(e){if(Ib(e))return Yr(void 0,e.useValue);{let t=Tb(e);return Yr(t,lc)}}function Tb(e,t,n){let i;if(oo(e)){let r=Xe(e);return Qi(r)||kh(r)}else if(Ib(e))i=()=>Xe(e.useValue);else if(eM(e))i=()=>e.useFactory(...Oh(e.deps||[]));else if(XS(e))i=()=>_(Xe(e.useExisting));else{let r=Xe(e&&(e.useClass||e.provide));if(oM(e))i=()=>new r(...Oh(e.deps));else return Qi(r)||kh(r)}return i}function Ts(e){if(e.destroyed)throw new D(205,!1)}function Yr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function oM(e){return!!e.deps}function sM(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function aM(e){return typeof e=="function"||typeof e=="object"&&e instanceof b}function Fh(e,t){for(let n of e)Array.isArray(n)?Fh(n,t):n&&fb(n)?Fh(n.\u0275providers,t):t(n)}function Be(e,t){e instanceof Rs&&Ts(e);let n,i=_i(e),r=dt(void 0);try{return t()}finally{_i(i),dt(r)}}function Sb(){return hb()!==void 0||jS()!=null}function Np(e){if(!Sb())throw new D(-203,!1)}function lM(e){let t=mt.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function cM(e){return typeof e=="function"}var qn=0,Q=1,L=2,qe=3,tn=4,ht=5,xs=6,_c=7,Ft=8,Os=9,Bn=10,Ie=11,Ps=12,T0=13,ho=14,Lt=15,Zi=16,Jr=17,jn=18,zc=19,Mb=20,vi=21,yh=22,vc=23,_t=24,Ke=25,Ab=1;var Yi=7,yc=8,so=9,vt=10;function yi(e){return Array.isArray(e)&&typeof e[Ab]=="object"}function Kn(e){return Array.isArray(e)&&e[Ab]===!0}function Rp(e){return(e.flags&4)!==0}function or(e){return e.componentOffset>-1}function qc(e){return(e.flags&1)===1}function Un(e){return!!e.template}function bc(e){return(e[L]&512)!==0}function js(e){return(e[L]&256)===256}var Lh=class{previousValue;currentValue;firstChange;constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Nb(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}var Qn=(()=>{let e=()=>Rb;return e.ngInherit=!0,e})();function Rb(e){return e.type.prototype.ngOnChanges&&(e.setInput=dM),uM}function uM(){let e=Ob(this),t=e?.current;if(t){let n=e.previous;if(n===io)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function dM(e,t,n,i,r){let o=this.declaredInputs[i],s=Ob(e)||fM(e,{previous:io,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Lh(c&&c.currentValue,n,l===io),Nb(e,t,r,n)}var xb="__ngSimpleChanges__";function Ob(e){return e[xb]||null}function fM(e,t){return e[xb]=t}var S0=null;var kt=function(e,t,n){S0?.(e,t,n)},hM="svg",pM="math";function gn(e){for(;Array.isArray(e);)e=e[qn];return e}function Pb(e,t){return gn(t[e])}function nn(e,t){return gn(t[e.index])}function kb(e,t){return e.data[t]}function xp(e,t){return e[t]}function mn(e,t){let n=t[e];return yi(n)?n:n[qn]}function gM(e){return(e[L]&4)===4}function Op(e){return(e[L]&128)===128}function mM(e){return Kn(e[qe])}function ao(e,t){return t==null?null:e[t]}function Fb(e){e[Jr]=0}function Pp(e){e[L]&1024||(e[L]|=1024,Op(e)&&Qc(e))}function _M(e,t){for(;e>0;)t=t[ho],e--;return t}function Kc(e){return!!(e[L]&9216||e[_t]?.dirty)}function Vh(e){e[Bn].changeDetectionScheduler?.notify(9),e[L]&64&&(e[L]|=1024),Kc(e)&&Qc(e)}function Qc(e){e[Bn].changeDetectionScheduler?.notify(0);let t=Ji(e);for(;t!==null&&!(t[L]&8192||(t[L]|=8192,!Op(t)));)t=Ji(t)}function Lb(e,t){if(js(e))throw new D(911,!1);e[vi]===null&&(e[vi]=[]),e[vi].push(t)}function vM(e,t){if(e[vi]===null)return;let n=e[vi].indexOf(t);n!==-1&&e[vi].splice(n,1)}function Ji(e){let t=e[qe];return Kn(t)?t[qe]:t}function Vb(e){return e[_c]??=[]}function Bb(e){return e.cleanup??=[]}function yM(e,t,n,i){let r=Vb(t);r.push(n),e.firstCreatePass&&Bb(e).push(i,r.length-1)}var z={lFrame:Kb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bh=!1;function bM(){return z.lFrame.elementDepthCount}function CM(){z.lFrame.elementDepthCount++}function wM(){z.lFrame.elementDepthCount--}function Zc(){return z.bindingsEnabled}function jb(){return z.skipHydrationRootTNode!==null}function DM(e){return z.skipHydrationRootTNode===e}function EM(){z.skipHydrationRootTNode=null}function ee(){return z.lFrame.lView}function Oe(){return z.lFrame.tView}function Bt(e){return z.lFrame.contextLView=e,e[Ft]}function jt(e){return z.lFrame.contextLView=null,e}function yt(){let e=Ub();for(;e!==null&&e.type===64;)e=e.parent;return e}function Ub(){return z.lFrame.currentTNode}function IM(){let e=z.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function sr(e,t){let n=z.lFrame;n.currentTNode=e,n.isParent=t}function kp(){return z.lFrame.isParent}function Fp(){z.lFrame.isParent=!1}function TM(){return z.lFrame.contextLView}function Hb(){return Bh}function M0(e){let t=Bh;return Bh=e,t}function $b(){let e=z.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function SM(e){return z.lFrame.bindingIndex=e}function Yc(){return z.lFrame.bindingIndex++}function Gb(e){let t=z.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function MM(){return z.lFrame.inI18n}function AM(e,t){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=e,jh(t)}function NM(){return z.lFrame.currentDirectiveIndex}function jh(e){z.lFrame.currentDirectiveIndex=e}function RM(e){let t=z.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Wb(){return z.lFrame.currentQueryIndex}function Lp(e){z.lFrame.currentQueryIndex=e}function xM(e){let t=e[Q];return t.type===2?t.declTNode:t.type===1?e[ht]:null}function zb(e,t,n){if(n&W.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&W.Host);)if(r=xM(o),r===null||(o=o[ho],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=z.lFrame=qb();return i.currentTNode=t,i.lView=e,!0}function Vp(e){let t=qb(),n=e[Q];z.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function qb(){let e=z.lFrame,t=e===null?null:e.child;return t===null?Kb(e):t}function Kb(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Qb(){let e=z.lFrame;return z.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Zb=Qb;function Bp(){let e=Qb();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function OM(e){return(z.lFrame.contextLView=_M(e,z.lFrame.contextLView))[Ft]}function ar(){return z.lFrame.selectedIndex}function Xi(e){z.lFrame.selectedIndex=e}function jp(){let e=z.lFrame;return kb(e.tView,e.selectedIndex)}function PM(){return z.lFrame.currentNamespace}var Yb=!0;function Jc(){return Yb}function Xc(e){Yb=e}function kM(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=Rb(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Up(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function cc(e,t,n){Jb(e,t,3,n)}function uc(e,t,n,i){(e[L]&3)===n&&Jb(e,t,n,i)}function bh(e,t){let n=e[L];(n&3)===t&&(n&=16383,n+=1,e[L]=n)}function Jb(e,t,n,i){let r=i!==void 0?e[Jr]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[Jr]+=65536),(a<o||o==-1)&&(FM(e,n,t,l),e[Jr]=(e[Jr]&4294901760)+l+2),l++}function A0(e,t){kt(4,e,t);let n=J(null);try{t.call(e)}finally{J(n),kt(5,e,t)}}function FM(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[L]>>14<e[Jr]>>16&&(e[L]&3)===t&&(e[L]+=16384,A0(a,o)):A0(a,o)}var no=-1,er=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,i){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=i}};function LM(e){return e instanceof er}function VM(e){return(e.flags&8)!==0}function BM(e){return(e.flags&16)!==0}function jM(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];HM(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function UM(e){return e===3||e===4||e===6}function HM(e){return e.charCodeAt(0)===64}function lo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?N0(e,n,r,null,t[++i]):N0(e,n,r,null,null))}}return e}function N0(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var Ch={},Uh=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=$c(i);let r=this.injector.get(t,Ch,i);return r!==Ch||n===Ch?r:this.parentInjector.get(t,n,i)}};function Xb(e){return e!==no}function Cc(e){return e&32767}function $M(e){return e>>16}function wc(e,t){let n=$M(e),i=t;for(;n>0;)i=i[ho],n--;return i}var Hh=!0;function Dc(e){let t=Hh;return Hh=e,t}var GM=256,eC=GM-1,tC=5,WM=0,pn={};function zM(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Ms)&&(i=n[Ms]),i==null&&(i=n[Ms]=WM++);let r=i&eC,o=1<<r;t.data[e+(r>>tC)]|=o}function Ec(e,t){let n=nC(e,t);if(n!==-1)return n;let i=t[Q];i.firstCreatePass&&(e.injectorIndex=t.length,wh(i.data,e),wh(t,null),wh(i.blueprint,null));let r=Hp(e,t),o=e.injectorIndex;if(Xb(r)){let s=Cc(r),a=wc(r,t),l=a[Q].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function wh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function nC(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Hp(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=aC(r),i===null)return no;if(n++,r=r[ho],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return no}function $h(e,t,n){zM(e,t,n)}function iC(e,t,n){if(n&W.Optional||e!==void 0)return e;Tp(t,"NodeInjector")}function rC(e,t,n,i){if(n&W.Optional&&i===void 0&&(i=null),!(n&(W.Self|W.Host))){let r=e[Os],o=dt(void 0);try{return r?r.get(t,i,n&W.Optional):pb(t,i,n&W.Optional)}finally{dt(o)}}return iC(i,t,n)}function oC(e,t,n,i=W.Default,r){if(e!==null){if(t[L]&2048&&!(i&W.Self)){let s=ZM(e,t,n,i,pn);if(s!==pn)return s}let o=sC(e,t,n,i,pn);if(o!==pn)return o}return rC(t,n,i,r)}function sC(e,t,n,i,r){let o=KM(n);if(typeof o=="function"){if(!zb(t,e,i))return i&W.Host?iC(r,n,i):rC(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&W.Optional))Tp(n);else return s}finally{Zb()}}else if(typeof o=="number"){let s=null,a=nC(e,t),l=no,c=i&W.Host?t[Lt][ht]:null;for((a===-1||i&W.SkipSelf)&&(l=a===-1?Hp(e,t):t[a+8],l===no||!x0(i,!1)?a=-1:(s=t[Q],a=Cc(l),t=wc(l,t)));a!==-1;){let u=t[Q];if(R0(o,a,u.data)){let d=qM(a,t,n,s,i,c);if(d!==pn)return d}l=t[a+8],l!==no&&x0(i,t[Q].data[a+8]===c)&&R0(o,a,t)?(s=u,a=Cc(l),t=wc(l,t)):a=-1}}return r}function qM(e,t,n,i,r,o){let s=t[Q],a=s.data[e+8],l=i==null?or(a)&&Hh:i!=s&&(a.type&3)!==0,c=r&W.Host&&o===a,u=dc(a,s,n,l,c);return u!==null?ks(t,s,u,a):pn}function dc(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=i?a:a+u,f=r?a+u:c;for(let h=d;h<f;h++){let g=s[h];if(h<l&&n===g||h>=l&&g.type===n)return h}if(r){let h=s[l];if(h&&Un(h)&&h.type===n)return l}return null}function ks(e,t,n,i){let r=e[n],o=t.data;if(LM(r)){let s=r;s.resolving&&kS(PS(o[n]));let a=Dc(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?dt(s.injectImpl):null,u=zb(e,i,W.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&kM(n,o[n],t)}finally{c!==null&&dt(c),Dc(a),s.resolving=!1,Zb()}}return r}function KM(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ms)?e[Ms]:void 0;return typeof t=="number"?t>=0?t&eC:QM:t}function R0(e,t,n){let i=1<<e;return!!(n[t+(e>>tC)]&i)}function x0(e,t){return!(e&W.Self)&&!(e&W.Host&&t)}var Ki=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return oC(this._tNode,this._lView,t,$c(i),n)}};function QM(){return new Ki(yt(),ee())}function lr(e){return Vs(()=>{let t=e.prototype.constructor,n=t[hc]||Gh(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[hc]||Gh(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Gh(e){return lb(e)?()=>{let t=Gh(Xe(e));return t&&t()}:Qi(e)}function ZM(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[L]&2048&&!bc(s);){let a=sC(o,s,n,i|W.Self,pn);if(a!==pn)return a;let l=o.parent;if(!l){let c=s[Mb];if(c){let u=c.get(n,pn,i);if(u!==pn)return u}l=aC(s),s=s[ho]}o=l}return r}function aC(e){let t=e[Q],n=t.type;return n===2?t.declTNode:n===1?e[ht]:null}function O0(e,t=null,n=null,i){let r=lC(e,t,n,i);return r.resolveInjectorInitializers(),r}function lC(e,t=null,n=null,i,r=new Set){let o=[n||ft,YS(e)];return i=i||(typeof e=="object"?void 0:et(e)),new Rs(o,t||Wc(),i||null,r)}var oe=class e{static THROW_IF_NOT_FOUND=Ns;static NULL=new mc;static create(t,n){if(Array.isArray(t))return O0({name:""},n,t,"");{let i=t.name??"";return O0({name:i},t.parent,t.providers,i)}}static \u0275prov=w({token:e,providedIn:"any",factory:()=>_(_b)});static __NG_ELEMENT_ID__=-1};var YM=new b("");YM.__NG_ELEMENT_ID__=e=>{let t=yt();if(t===null)throw new D(204,!1);if(t.type&2)return t.value;if(e&W.Optional)return null;throw new D(204,!1)};var cC=!1,cr=(()=>{class e{static __NG_ELEMENT_ID__=JM;static __NG_ENV_ID__=n=>n}return e})(),Wh=class extends cr{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return Lb(this._lView,t),()=>vM(this._lView,t)}};function JM(){return new Wh(ee())}var tr=class{},$p=new b("",{providedIn:"root",factory:()=>!1});var uC=new b(""),dC=new b(""),yn=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ne(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}return e})(),eu=(()=>{class e{internalPendingTasks=p(yn);scheduler=p(tr);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(12),this.internalPendingTasks.remove(n))}}run(n){return Te(this,null,function*(){let i=this.add();try{return yield n()}finally{i()}})}static \u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}return e})(),zh=class extends G{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Sb()&&(this.destroyRef=p(cr,{optional:!0})??void 0,this.pendingTasks=p(yn,{optional:!0})??void 0)}emit(t){let n=J(null);try{super.next(t)}finally{J(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof De&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},fe=zh;function Ic(...e){}function fC(e){let t,n;function i(){e=Ic;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function P0(e){return queueMicrotask(()=>e()),()=>{e=Ic}}var Gp="isAngularZone",Tc=Gp+"_ID",XM=0,P=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new fe(!1);onMicrotaskEmpty=new fe(!1);onStable=new fe(!1);onError=new fe(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=cC}=t;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,nA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Gp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new D(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,eA,Ic,Ic);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},eA={};function Wp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function tA(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){fC(()=>{e.callbackScheduled=!1,qh(e),e.isCheckStableRunning=!0,Wp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),qh(e)}function nA(e){let t=()=>{tA(e)},n=XM++;e._inner=e._inner.fork({name:"angular",properties:{[Gp]:!0,[Tc]:n,[Tc+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(iA(l))return i.invokeTask(o,s,a,l);try{return k0(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),F0(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return k0(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!rA(l)&&t(),F0(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,qh(e),Wp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function qh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function k0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function F0(e){e._nesting--,Wp(e)}var Sc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new fe;onMicrotaskEmpty=new fe;onStable=new fe;onError=new fe;run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function iA(e){return hC(e,"__ignore_ng_zone__")}function rA(e){return hC(e,"__scheduler_tick__")}function hC(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function oA(e="zone.js",t){return e==="noop"?new Sc:e==="zone.js"?new P(t):e}var Hn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},sA=new b("",{providedIn:"root",factory:()=>{let e=p(P),t=p(Hn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function L0(e,t){return sb(e,t)}function aA(e){return sb(ob,e)}var pC=(L0.required=aA,L0);function lA(){return po(yt(),ee())}function po(e,t){return new bt(nn(e,t))}var bt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=lA}return e})();function cA(e){return e instanceof bt?e.nativeElement:e}var V0=new Set;function go(e){V0.has(e)||(V0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function uA(e){return typeof e=="function"&&e[pt]!==void 0}function mo(e,t){go("NgSignals");let n=Jy(e),i=n[pt];return t?.equal&&(i.equal=t.equal),n.set=r=>Nl(i,r),n.update=r=>Xy(i,r),n.asReadonly=dA.bind(n),n}function dA(){let e=this[pt];if(e.readonlyFn===void 0){let t=()=>this();t[pt]=e,e.readonlyFn=t}return e.readonlyFn}function gC(e){return uA(e)&&typeof e.set=="function"}function fA(){return this._results[Symbol.iterator]()}var Kh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new G}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=qS(t);(this._changesDetected=!zS(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=fA};function mC(e){return(e.flags&128)===128}var _C=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(_C||{}),vC=new Map,hA=0;function pA(){return hA++}function gA(e){vC.set(e[zc],e)}function Qh(e){vC.delete(e[zc])}var B0="__ngContext__";function ur(e,t){yi(t)?(e[B0]=t[zc],gA(t)):e[B0]=t}function yC(e){return CC(e[Ps])}function bC(e){return CC(e[tn])}function CC(e){for(;e!==null&&!Kn(e);)e=e[tn];return e}var Zh;function wC(e){Zh=e}function mA(){if(Zh!==void 0)return Zh;if(typeof document<"u")return document;throw new D(210,!1)}var zp=new b("",{providedIn:"root",factory:()=>_A}),_A="ng",qp=new b(""),Ze=new b("",{providedIn:"platform",factory:()=>"unknown"});var Kp=new b("",{providedIn:"root",factory:()=>mA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vA="h",yA="b";var DC=!1,bA=new b("",{providedIn:"root",factory:()=>DC});var Qp=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Qp||{}),_o=new b("");var Xr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Xr||{}),EC=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}return e})(),CA=[Xr.EarlyRead,Xr.Write,Xr.MixedReadWrite,Xr.Read],wA=(()=>{class e{ngZone=p(P);scheduler=p(tr);errorHandler=p(Hn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){p(_o,{optional:!0})}execute(){this.executing=!0;for(let n of CA)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[n]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>i.hooks[n](i.pipelinedValue),i.snapshot))}catch(r){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(7))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,i){return i?i.run(Qp.AFTER_NEXT_RENDER,n):n()}static \u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}return e})(),Yh=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,i,r,o=null){this.impl=t,this.hooks=n,this.once=i,this.snapshot=o,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function vo(e,t){!t?.injector&&Np(vo);let n=t?.injector??p(oe);return go("NgAfterNextRender"),EA(e,n,t,!0)}function DA(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function EA(e,t,n,i){let r=t.get(EC);r.impl??=t.get(wA);let o=t.get(_o,null,{optional:!0}),s=n?.phase??Xr.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(cr):null,l=new Yh(r.impl,DA(e,s),i,a,o?.snapshot(null));return r.impl.register(l),l}var IA=()=>null;function IC(e,t,n=!1){return IA(e,t,n)}function TC(e,t){let n=e.contentQueries;if(n!==null){let i=J(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];Lp(o),a.contentQueries(2,t[s],s)}}}finally{J(i)}}}function Jh(e,t,n){Lp(0);let i=J(null);try{t(e,n)}finally{J(i)}}function Zp(e,t,n){if(Rp(t)){let i=J(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{J(i)}}}var _n=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(_n||{});var Mc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rb})`}};function Us(e){return e instanceof Mc?e.changingThisBreaksApplicationSecurity:e}function SC(e,t){let n=TA(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${rb})`)}return n===t}function TA(e){return e instanceof Mc&&e.getTypeName()||null}var SA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function MC(e){return e=String(e),e.match(SA)?e:"unsafe:"+e}var Yp=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Yp||{});function AC(e){let t=MA();return t?t.sanitize(Yp.URL,e)||"":SC(e,"URL")?Us(e):MC(Hc(e))}function MA(){let e=ee();return e&&e[Bn].sanitizer}var AA=/^>|^->|<!--|-->|--!>|<!-$/g,NA=/(<|>)/g,RA="\u200B$1\u200B";function xA(e){return e.replace(AA,t=>t.replace(NA,RA))}function NC(e){return e instanceof Function?e():e}function OA(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}var RC="ng-template";function PA(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&OA(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Jp(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Jp(e){return e.type===4&&e.value!==RC}function kA(e,t,n){let i=e.type===4&&!n?RC:e.value;return t===i}function FA(e,t,n){let i=4,r=e.attrs,o=r!==null?BA(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Xt(i)&&!Xt(l))return!1;if(s&&Xt(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!kA(e,l,n)||l===""&&t.length===1){if(Xt(i))return!1;s=!0}}else if(i&8){if(r===null||!PA(e,r,l,n)){if(Xt(i))return!1;s=!0}}else{let c=t[++a],u=LA(l,r,Jp(e),n);if(u===-1){if(Xt(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(Xt(i))return!1;s=!0}}}}return Xt(i)||s}function Xt(e){return(e&1)===0}function LA(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return jA(t,e)}function xC(e,t,n=!1){for(let i=0;i<t.length;i++)if(FA(e,t[i],n))return!0;return!1}function VA(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function BA(e){for(let t=0;t<e.length;t++){let n=e[t];if(UM(n))return t}return e.length}function jA(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function UA(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function j0(e,t){return e?":not("+t.trim()+")":t}function HA(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Xt(s)&&(t+=j0(o,r),r=""),i=s,o=o||!Xt(i);n++}return r!==""&&(t+=j0(o,r)),t}function $A(e){return e.map(HA).join(",")}function GA(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!Xt(r))break;r=o}i++}return n.length&&t.push(1,...n),t}var Zn={};function WA(e,t){return e.createText(t)}function zA(e,t,n){e.setValue(t,n)}function qA(e,t){return e.createComment(xA(t))}function OC(e,t,n){return e.createElement(t,n)}function Ac(e,t,n,i,r){e.insertBefore(t,n,i,r)}function PC(e,t,n){e.appendChild(t,n)}function U0(e,t,n,i,r){i!==null?Ac(e,t,n,i,r):PC(e,t,n)}function KA(e,t,n){e.removeChild(null,t,n)}function QA(e,t,n){e.setAttribute(t,"style",n)}function ZA(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function kC(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&jM(e,t,i),r!==null&&ZA(e,t,r),o!==null&&QA(e,t,o)}function V(e=1){FC(Oe(),ee(),ar()+e,!1)}function FC(e,t,n,i){if(!i)if((t[L]&3)===3){let o=e.preOrderCheckHooks;o!==null&&cc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&uc(t,o,0,n)}Xi(n)}var bi=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(bi||{});function LC(e,t,n,i,r,o){let s=J(null);try{let a=null;r&bi.SignalBased&&(a=t[i][pt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&bi.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,i):Nb(t,a,i,o)}finally{J(s)}}function Xp(e,t,n,i,r,o,s,a,l,c,u){let d=t.blueprint.slice();return d[qn]=r,d[L]=i|4|128|8|64|1024,(c!==null||e&&e[L]&2048)&&(d[L]|=2048),Fb(d),d[qe]=d[ho]=e,d[Ft]=n,d[Bn]=s||e&&e[Bn],d[Ie]=a||e&&e[Ie],d[Os]=l||e&&e[Os]||null,d[ht]=o,d[zc]=pA(),d[xs]=u,d[Mb]=c,d[Lt]=t.type==2?e[Lt]:d,d}function VC(e,t,n,i,r){let o=ar(),s=i&2;try{Xi(-1),s&&t.length>Ke&&FC(e,t,Ke,!1),kt(s?2:0,r),n(i,r)}finally{Xi(o),kt(s?3:1,r)}}function eg(e,t,n){Zc()&&(ur(nn(n,t),t),BC(e,t,n))}function BC(e,t,n){rN(e,t,n),(n.flags&64)===64&&oN(e,t,n)}function tg(e,t,n=nn){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function YA(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=ng(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ng(e,t,n,i,r,o,s,a,l,c,u){let d=Ke+i,f=d+r,h=JA(d,f),g=typeof c=="function"?c():c;return h[Q]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function JA(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:Zn);return n}function XA(e,t,n,i){let o=i.get(bA,DC)||n===_n.ShadowDom,s=e.selectRootElement(t,o);return eN(s),s}function eN(e){tN(e)}var tN=()=>null;function nN(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function jC(e,t,n,i,r,o,s,a){let l=nn(t,n),c=t.inputs,u;!a&&c!=null&&(u=c[i])?(og(e,n,u,i,r),or(t)&&iN(n,t.index)):t.type&3?(i=nN(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)):t.type&12}function iN(e,t){let n=mn(t,e);n[L]&16||(n[L]|=64)}function rN(e,t,n){let i=n.directiveStart,r=n.directiveEnd;or(n)&&aN(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Ec(n,t);let o=n.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],l=ks(t,e,s,n);if(ur(l,t),o!==null&&uN(t,s-i,l,a,n,o),Un(a)){let c=mn(n.index,t);c[Ft]=ks(t,e,s,n)}}}function oN(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=NM();try{Xi(o);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];jh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&sN(l,c)}}finally{Xi(-1),jh(s)}}function sN(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function ig(e,t){let n=e.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];xC(t,o.selectors,!1)&&(i??=[],Un(o)?i.unshift(o):i.push(o))}return i}function UC(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function aN(e,t,n){let i=nn(t,e),r=YA(n),o=e[Bn].rendererFactory,s=rg(e,Xp(e,r,null,UC(n),i,t,null,o.createRenderer(i,n),null,null,null));return e[t.index]=s}function lN(e,t,n,i,r,o){let s=nn(e,t);cN(t[Ie],s,o,e.value,n,i,r)}function cN(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?Hc(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function uN(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];LC(i,n,l,c,u,d)}}function HC(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function rg(e,t){return e[Ps]?e[T0][tn]=t:e[Ps]=t,e[T0]=t,t}function $C(e,t){let n=e[Os],i=n?n.get(Hn,null):null;i&&i.handleError(t)}function og(e,t,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=t[s],u=e.data[s];LC(u,c,i,a,l,r)}}function dN(e,t){let n=mn(t,e),i=n[Q];fN(i,n);let r=n[qn];r!==null&&n[xs]===null&&(n[xs]=IC(r,n[Os])),sg(i,n,n[Ft])}function fN(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function sg(e,t,n){Vp(t);try{let i=e.viewQuery;i!==null&&Jh(1,i,n);let r=e.template;r!==null&&VC(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[jn]?.finishViewCreation(e),e.staticContentQueries&&TC(e,t),e.staticViewQueries&&Jh(2,e.viewQuery,n);let o=e.components;o!==null&&hN(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[L]&=-5,Bp()}}function hN(e,t){for(let n=0;n<t.length;n++)dN(e,t[n])}var $n=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}($n||{}),pN;function ag(e,t){return pN(e,t)}function lg(e){return(e.flags&32)===32}function eo(e,t,n,i,r){if(i!=null){let o,s=!1;Kn(i)?o=i:yi(i)&&(s=!0,i=i[qn]);let a=gn(i);e===0&&n!==null?r==null?PC(t,n,a):Ac(t,n,a,r||null,!0):e===1&&n!==null?Ac(t,n,a,r||null,!0):e===2?KA(t,a,s):e===3&&t.destroyNode(a),o!=null&&IN(t,e,o,n,r)}}function gN(e,t){GC(e,t),t[qn]=null,t[ht]=null}function mN(e,t,n,i,r,o){i[qn]=r,i[ht]=t,nu(e,i,n,1,r,o)}function GC(e,t){t[Bn].changeDetectionScheduler?.notify(10),nu(e,t,t[Ie],2,null,null)}function _N(e){let t=e[Ps];if(!t)return Dh(e[Q],e);for(;t;){let n=null;if(yi(t))n=t[Ps];else{let i=t[vt];i&&(n=i)}if(!n){for(;t&&!t[tn]&&t!==e;)yi(t)&&Dh(t[Q],t),t=t[qe];t===null&&(t=e),yi(t)&&Dh(t[Q],t),n=t&&t[tn]}t=n}}function vN(e,t,n,i){let r=vt+i,o=n.length;i>0&&(n[r-1][tn]=t),i<o-vt?(t[tn]=n[r],mb(n,vt+i,t)):(n.push(t),t[tn]=null),t[qe]=n;let s=t[Zi];s!==null&&n!==s&&WC(s,t);let a=t[jn];a!==null&&a.insertView(e),Vh(t),t[L]|=128}function WC(e,t){let n=e[so],i=t[qe];if(yi(i))e[L]|=2;else{let r=i[qe][Lt];t[Lt]!==r&&(e[L]|=2)}n===null?e[so]=[t]:n.push(t)}function cg(e,t){let n=e[so],i=n.indexOf(t);n.splice(i,1)}function Xh(e,t){if(e.length<=vt)return;let n=vt+t,i=e[n];if(i){let r=i[Zi];r!==null&&r!==e&&cg(r,i),t>0&&(e[n-1][tn]=i[tn]);let o=gc(e,vt+t);gN(i[Q],i);let s=o[jn];s!==null&&s.detachView(o[Q]),i[qe]=null,i[tn]=null,i[L]&=-129}return i}function zC(e,t){if(js(t))return;let n=t[Ie];n.destroyNode&&nu(e,t,n,3,null,null),_N(t)}function Dh(e,t){if(js(t))return;let n=J(null);try{t[L]&=-129,t[L]|=256,t[_t]&&Kf(t[_t]),bN(e,t),yN(e,t),t[Q].type===1&&t[Ie].destroy();let i=t[Zi];if(i!==null&&Kn(t[qe])){i!==t[qe]&&cg(i,t);let r=t[jn];r!==null&&r.detachView(e)}Qh(t)}finally{J(n)}}function yN(e,t){let n=e.cleanup,i=t[_c];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(t[_c]=null);let r=t[vi];if(r!==null){t[vi]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=t[vc];if(o!==null){t[vc]=null;for(let s of o)s.destroy()}}function bN(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof er)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];kt(4,a,l);try{l.call(a)}finally{kt(5,a,l)}}else{kt(4,r,o);try{o.call(r)}finally{kt(5,r,o)}}}}}function qC(e,t,n){return CN(e,t.parent,n)}function CN(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[qn];if(or(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===_n.None||r===_n.Emulated)return null}return nn(i,n)}function KC(e,t,n){return DN(e,t,n)}function wN(e,t,n){return e.type&40?nn(e,n):null}var DN=wN,H0;function tu(e,t,n,i){let r=qC(e,i,t),o=t[Ie],s=i.parent||t[ht],a=KC(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)U0(o,r,n[l],a,!1);else U0(o,r,n,a,!1);H0!==void 0&&H0(o,i,t,n,r)}function Ss(e,t){if(t!==null){let n=t.type;if(n&3)return nn(t,e);if(n&4)return ep(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return Ss(e,i);{let r=e[t.index];return Kn(r)?ep(-1,r):gn(r)}}else{if(n&128)return Ss(e,t.next);if(n&32)return ag(t,e)()||gn(e[t.index]);{let i=QC(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Ji(e[Lt]);return Ss(r,i)}else return Ss(e,t.next)}}}return null}function QC(e,t){if(t!==null){let i=e[Lt][ht],r=t.projection;return i.projection[r]}return null}function ep(e,t){let n=vt+e+1;if(n<t.length){let i=t[n],r=i[Q].firstChild;if(r!==null)return Ss(i,r)}return t[Yi]}function ug(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&t===0&&(a&&ur(gn(a),i),n.flags|=2),!lg(n))if(l&8)ug(e,t,n.child,i,r,o,!1),eo(t,e,r,a,o);else if(l&32){let c=ag(n,i),u;for(;u=c();)eo(t,e,r,u,o);eo(t,e,r,a,o)}else l&16?ZC(e,t,i,n,r,o):eo(t,e,r,a,o);n=s?n.projectionNext:n.next}}function nu(e,t,n,i,r,o){ug(n,i,e.firstChild,t,r,o,!1)}function EN(e,t,n){let i=t[Ie],r=qC(e,n,t),o=n.parent||t[ht],s=KC(o,n,t);ZC(i,0,t,n,r,s)}function ZC(e,t,n,i,r,o){let s=n[Lt],l=s[ht].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];eo(t,e,r,u,o)}else{let c=l,u=s[qe];mC(i)&&(c.flags|=128),ug(e,t,c,u,r,o,!0)}}function IN(e,t,n,i,r){let o=n[Yi],s=gn(n);o!==s&&eo(t,e,i,o,r);for(let a=vt;a<n.length;a++){let l=n[a];nu(l[Q],l,e,t,i,o)}}function TN(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:$n.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=$n.Important),e.setStyle(n,i,r,o))}}function YC(e,t,n,i){let r=J(null);try{let o=t.tView,a=e[L]&4096?4096:16,l=Xp(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[Zi]=c;let u=e[jn];return u!==null&&(l[jn]=u.createEmbeddedView(o)),sg(o,l,n),l}finally{J(r)}}function tp(e,t){return!t||t.firstChild===null||mC(e)}function JC(e,t,n,i=!0){let r=t[Q];if(vN(r,t,e,n),i){let s=ep(n,e),a=t[Ie],l=a.parentNode(e[Yi]);l!==null&&mN(r,e[ht],a,t,l,s)}let o=t[xs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Nc(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(gn(o)),Kn(o)&&SN(o,i);let s=n.type;if(s&8)Nc(e,t,n.child,i);else if(s&32){let a=ag(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=QC(t,n);if(Array.isArray(a))i.push(...a);else{let l=Ji(t[Lt]);Nc(l[Q],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function SN(e,t){for(let n=vt;n<e.length;n++){let i=e[n],r=i[Q].firstChild;r!==null&&Nc(i[Q],i,r,t)}e[Yi]!==e[qn]&&t.push(e[Yi])}var XC=[];function MN(e){return e[_t]??AN(e)}function AN(e){let t=XC.pop()??Object.create(RN);return t.lView=e,t}function NN(e){e.lView[_t]!==e&&(e.lView=null,XC.push(e))}var RN=j(y({},ys),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Qc(e.lView)},consumerOnSignalRead(){this.lView[_t]=this}});function xN(e){let t=e[_t]??Object.create(ON);return t.lView=e,t}var ON=j(y({},ys),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Ji(e.lView);for(;t&&!ew(t[Q]);)t=Ji(t);t&&Pp(t)},consumerOnSignalRead(){this.lView[_t]=this}});function ew(e){return e.type!==2}function tw(e){if(e[vc]===null)return;let t=!0;for(;t;){let n=!1;for(let i of e[vc])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=n&&!!(e[L]&8192)}}var PN=100;function nw(e,t=!0,n=0){let r=e[Bn].rendererFactory,o=!1;o||r.begin?.();try{kN(e,n)}catch(s){throw t&&$C(e,s),s}finally{o||r.end?.()}}function kN(e,t){let n=Hb();try{M0(!0),np(e,t);let i=0;for(;Kc(e);){if(i===PN)throw new D(103,!1);i++,np(e,1)}}finally{M0(n)}}function FN(e,t,n,i){if(js(t))return;let r=t[L],o=!1,s=!1;Vp(t);let a=!0,l=null,c=null;o||(ew(e)?(c=MN(t),l=Sl(c)):Uy()===null?(a=!1,c=xN(t),l=Sl(c)):t[_t]&&(Kf(t[_t]),t[_t]=null));try{Fb(t),SM(e.bindingStartIndex),n!==null&&VC(e,t,n,2,i);let u=(r&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&cc(t,h,null)}else{let h=e.preOrderHooks;h!==null&&uc(t,h,0,null),bh(t,0)}if(s||LN(t),tw(t),iw(t,0),e.contentQueries!==null&&TC(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&cc(t,h)}else{let h=e.contentHooks;h!==null&&uc(t,h,1),bh(t,1)}BN(e,t);let d=e.components;d!==null&&ow(t,d,0);let f=e.viewQuery;if(f!==null&&Jh(2,f,i),!o)if(u){let h=e.viewCheckHooks;h!==null&&cc(t,h)}else{let h=e.viewHooks;h!==null&&uc(t,h,2),bh(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[yh]){for(let h of t[yh])h();t[yh]=null}o||(t[L]&=-73)}catch(u){throw o||Qc(t),u}finally{c!==null&&(zf(c,l),a&&NN(c)),Bp()}}function iw(e,t){for(let n=yC(e);n!==null;n=bC(n))for(let i=vt;i<n.length;i++){let r=n[i];rw(r,t)}}function LN(e){for(let t=yC(e);t!==null;t=bC(t)){if(!(t[L]&2))continue;let n=t[so];for(let i=0;i<n.length;i++){let r=n[i];Pp(r)}}}function VN(e,t,n){let i=mn(t,e);rw(i,n)}function rw(e,t){Op(e)&&np(e,t)}function np(e,t){let i=e[Q],r=e[L],o=e[_t],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&qf(o)),s||=!1,o&&(o.dirty=!1),e[L]&=-9217,s)FN(i,e,i.template,e[Ft]);else if(r&8192){tw(e),iw(e,1);let a=i.components;a!==null&&ow(e,a,1)}}function ow(e,t,n){for(let i=0;i<t.length;i++)VN(e,t[i],n)}function BN(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Xi(~r);else{let o=r,s=n[++i],a=n[++i];AM(s,o);let l=t[o];kt(24,l),a(2,l),kt(25,l)}}}finally{Xi(-1)}}function dg(e,t){let n=Hb()?64:1088;for(e[Bn].changeDetectionScheduler?.notify(t);e;){e[L]|=n;let i=Ji(e);if(bc(e)&&!i)return e;e=i}return null}var nr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[Q];return Nc(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i}get context(){return this._lView[Ft]}get dirty(){return!!(this._lView[L]&9280)||!!this._lView[_t]?.dirty}set context(t){this._lView[Ft]=t}get destroyed(){return js(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[qe];if(Kn(t)){let n=t[yc],i=n?n.indexOf(this):-1;i>-1&&(Xh(t,i),gc(n,i))}this._attachedToViewContainer=!1}zC(this._lView[Q],this._lView)}onDestroy(t){Lb(this._lView,t)}markForCheck(){dg(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Pp(this._cdRefInjectingView||this._lView)}detach(){this._lView[L]&=-129}reattach(){Vh(this._lView),this._lView[L]|=128}detectChanges(){this._lView[L]|=1024,nw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=bc(this._lView),n=this._lView[Zi];n!==null&&!t&&cg(n,this._lView),GC(this._lView[Q],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=t;let n=bc(this._lView),i=this._lView[Zi];i!==null&&!n&&WC(i,this._lView),Vh(this._lView)}},Gn=(()=>{class e{static __NG_ELEMENT_ID__=HN}return e})(),jN=Gn,UN=class extends jN{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=YC(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new nr(r)}};function HN(){return iu(yt(),ee())}function iu(e,t){return e.type&4?new UN(t,e,po(e,t)):null}function Hs(e,t,n,i,r){let o=e.data[t];if(o===null)o=$N(e,t,n,i,r),MM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=IM();o.injectorIndex=s===null?-1:s.injectorIndex}return sr(o,!0),o}function $N(e,t,n,i,r){let o=Ub(),s=kp(),a=s?o:o&&o.parent,l=e.data[t]=WN(e,a,n,t,i,r);return GN(e,l,o,s),l}function GN(e,t,n,i){e.firstChild===null&&(e.firstChild=t),n!==null&&(i?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function WN(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return jb()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var k4=new RegExp(`^(\\d+)*(${yA}|${vA})*(.*)`);var zN=()=>null;function ip(e,t){return zN(e,t)}var rp=class{},Rc=class{},op=class{resolveComponentFactory(t){throw Error(`No component factory found for ${et(t)}.`)}},co=class{static NULL=new op},uo=class{},yo=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>qN()}return e})();function qN(){let e=ee(),t=yt(),n=mn(t.index,e);return(yi(n)?n:e)[Ie]}var KN=(()=>{class e{static \u0275prov=w({token:e,providedIn:"root",factory:()=>null})}return e})();function sp(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=Nh(r,a);else if(o==2){let l=a,c=t[++s];i=Nh(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function N(e,t=W.Default){let n=ee();if(n===null)return _(e,t);let i=yt();return oC(i,n,Xe(e),t)}function sw(){let e="invalid";throw new Error(e)}function aw(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function fg(e,t,n,i,r){let o=i===null?null:{"":-1},s=r(e,n);if(s!==null){let[a,l]=ZN(e,n,s);JN(e,t,n,a,o,l)}o!==null&&i!==null&&QN(n,i,o)}function QN(e,t,n){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new D(-301,!1);i.push(t[r],o)}}function ZN(e,t,n){let i=[],r=null;for(let o of n)o.findHostDirectiveDefs!==null&&(r??=new Map,o.findHostDirectiveDefs(o,i,r)),Un(o)&&(i.push(o),YN(e,t,i.length-1));return or(t)?i.push(...n.slice(1)):i.push(...n),[i,r]}function YN(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function JN(e,t,n,i,r,o){for(let c=0;c<i.length;c++)$h(Ec(n,t),e,i[c].type);oR(n,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=aw(e,t,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=lo(n.mergedAttrs,u.hostAttrs),tR(e,n,t,l,u),rR(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}XN(e,n,o)}function XN(e,t,n){let i=t.directiveStart,r=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;l=$0(0,d.inputs,u,l,h),c=$0(1,d.outputs,u,c,g);let m=l!==null&&s!==null&&!Jp(t)?eR(l,u,s):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function $0(e,t,n,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;i??={};let a,l=bi.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?G0(i,n,c,a,l):G0(i,n,c,a)}return i}function G0(e,t,n,i,r){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,i):o=e[n]=[t,i],r!==void 0&&o.push(r)}function eR(e,t,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function tR(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=Qi(r.type,!0)),s=new er(o,Un(r),N);e.blueprint[i]=s,n[i]=s,nR(e,t,i,aw(e,n,r.hostVars,Zn),r)}function nR(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;iR(s)!=a&&s.push(a),s.push(n,i,o)}}function iR(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function rR(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Un(t)&&(n[""]=e)}}function oR(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function lw(e,t,n,i,r,o,s,a){let l=t.consts,c=ao(l,s),u=Hs(t,e,2,i,c);return o&&fg(t,n,u,ao(l,a),r),u.mergedAttrs=lo(u.mergedAttrs,u.attrs),u.attrs!==null&&sp(u,u.attrs,!1),u.mergedAttrs!==null&&sp(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function cw(e,t){Up(e,t),Rp(t)&&e.queries.elementEnd(t)}var xc=class extends co{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Vn(t);return new ir(n,this.ngModule)}};function W0(e,t){let n=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let r=e[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:bi.None;t?n.push({propName:s,templateName:i,isSignal:(a&bi.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function sR(e,t,n){let i=t instanceof Ee?t:t?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new Uh(n,i):n}function aR(e){let t=e.get(uo,null);if(t===null)throw new D(407,!1);let n=e.get(KN,null),i=e.get(tr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:i}}function lR(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return OC(t,n,n==="svg"?hM:n==="math"?pM:null)}var ir=class extends Rc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let t=this.componentDef,n=t.inputTransforms,i=W0(t.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return W0(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=$A(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,i,r){let o=J(null);try{let s=this.componentDef,a=i?["ng-version","19.1.6"]:GA(this.componentDef.selectors[0]),l=ng(0,null,null,1,0,null,null,null,null,[a],null),c=sR(s,r||this.ngModule,t),u=aR(c),d=u.rendererFactory.createRenderer(null,s),f=i?XA(d,i,s.encapsulation,c):lR(s,d),h=Xp(null,l,null,512|UC(s),null,null,u,d,c,null,IC(f,c,!0));h[Ke]=f,Vp(h);let g=null;try{let m=lw(Ke,l,h,"#host",()=>[this.componentDef],!0,0);f&&(kC(d,f,m),ur(f,h)),BC(l,h,m),Zp(l,m,h),cw(l,m),n!==void 0&&cR(m,this.ngContentSelectors,n),g=mn(m.index,h),h[Ft]=g[Ft],sg(l,h,null)}catch(m){throw g!==null&&Qh(g),Qh(h),m}finally{Bp()}return new ap(this.componentType,h)}finally{J(o)}}},ap=class extends rp{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=kb(n[Q],Ke),this.location=po(this._tNode,n),this.instance=mn(this._tNode.index,n)[Ft],this.hostView=this.changeDetectorRef=new nr(n,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;og(o[Q],o,r,t,n),this.previousInputValues.set(t,n);let s=mn(this._tNode.index,o);dg(s,1)}}get injector(){return new Ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function cR(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Yn=(()=>{class e{static __NG_ELEMENT_ID__=uR}return e})();function uR(){let e=yt();return dw(e,ee())}var dR=Yn,uw=class extends dR{_lContainer;_hostTNode;_hostLView;constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return po(this._hostTNode,this._hostLView)}get injector(){return new Ki(this._hostTNode,this._hostLView)}get parentInjector(){let t=Hp(this._hostTNode,this._hostLView);if(Xb(t)){let n=wc(t,this._hostLView),i=Cc(t),r=n[Q].data[i+8];return new Ki(r,n)}else return new Ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=z0(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=ip(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,tp(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!cM(t),a;if(s)a=n;else{let g=n||{};a=g.index,i=g.injector,r=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?t:new ir(Vn(t)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(Ee,null);m&&(o=m)}let u=Vn(l.componentType??{}),d=ip(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,r,f,o);return this.insertImpl(h.hostView,a,tp(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(mM(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[qe],c=new uw(l,l[ht],l[qe]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return JC(s,r,o,i),t.attachToViewContainerRef(),mb(Eh(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=z0(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=Xh(this._lContainer,n);i&&(gc(Eh(this._lContainer),n),zC(i[Q],i))}detach(t){let n=this._adjustIndex(t,-1),i=Xh(this._lContainer,n);return i&&gc(Eh(this._lContainer),n)!=null?new nr(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function z0(e){return e[yc]}function Eh(e){return e[yc]||(e[yc]=[])}function dw(e,t){let n,i=t[e.index];return Kn(i)?n=i:(n=HC(i,t,null,e),t[e.index]=n,rg(t,n)),hR(n,t,e,i),new uw(n,e,t)}function fR(e,t){let n=e[Ie],i=n.createComment(""),r=nn(t,e),o=n.parentNode(r);return Ac(n,o,i,n.nextSibling(r),!1),i}var hR=mR,pR=()=>!1;function gR(e,t,n){return pR(e,t,n)}function mR(e,t,n,i){if(e[Yi])return;let r;n.type&8?r=gn(i):r=fR(t,n),e[Yi]=r}var lp=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},cp=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)hg(t,n).matches!==null&&this.queries[n].setDirty()}},up=class{flags;read;predicate;constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=ER(t):this.predicate=t}},dp=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},fp=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,_R(n,o)),this.matchTNodeWithReadOption(t,n,dc(n,t,o,!1,!1))}else i===Gn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,dc(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===bt||r===Yn||r===Gn&&n.type&4)this.addMatch(n.index,-2);else{let o=dc(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function _R(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function vR(e,t){return e.type&11?po(e,t):e.type&4?iu(e,t):null}function yR(e,t,n,i){return n===-1?vR(t,e):n===-2?bR(e,t,i):ks(e,e[Q],n,t)}function bR(e,t,n){if(n===bt)return po(t,e);if(n===Gn)return iu(t,e);if(n===Yn)return dw(t,e)}function fw(e,t,n,i){let r=t[jn].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(yR(t,u,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function hp(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=fw(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=vt;d<u.length;d++){let f=u[d];f[Zi]===f[qe]&&hp(f[Q],f,c,i)}if(u[so]!==null){let d=u[so];for(let f=0;f<d.length;f++){let h=d[f];hp(h[Q],h,c,i)}}}}}return i}function CR(e,t){return e[jn].queries[t].queryList}function wR(e,t,n){let i=new Kh((n&4)===4);return yM(e,t,i,i.destroy),(t[jn]??=new cp).queries.push(new lp(i))-1}function DR(e,t,n){let i=Oe();return i.firstCreatePass&&(IR(i,new up(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),wR(i,ee(),t)}function ER(e){return e.split(",").map(t=>t.trim())}function IR(e,t,n){e.queries===null&&(e.queries=new dp),e.queries.track(new fp(t,n))}function hg(e,t){return e.queries.getByIndex(t)}function TR(e,t){let n=e[Q],i=hg(n,t);return i.crossesNgTemplate?hp(n,e,t,[]):fw(n,e,i,t)}function SR(e){let t=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=e(r);n.set(r,o=s.then(RR))}return o}return Oc.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,f)=>{a.push(""),s.push(i(d).then(h=>{a[c+f]=h,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>xR(o));t.push(l)}),AR(),Promise.all(t).then(()=>{})}var Oc=new Map,MR=new Set;function AR(){let e=Oc;return Oc=new Map,e}function NR(){return Oc.size===0}function RR(e){return typeof e=="string"?e:e.text()}function xR(e){MR.delete(e)}var Ci=class{},Fs=class{};var Pc=class extends Ci{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new xc(this);constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n;let o=yb(t);this._bootstrapComponents=NC(o.bootstrap),this._r3Injector=lC(t,n,[{provide:Ci,useValue:this},{provide:co,useValue:this.componentFactoryResolver},...i],et(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},kc=class extends Fs{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Pc(this.moduleType,t,[])}};function OR(e,t,n){return new Pc(e,t,n,!1)}var pp=class extends Ci{injector;componentFactoryResolver=new xc(this);instance=null;constructor(t){super();let n=new Rs([...t.providers,{provide:Ci,useValue:this},{provide:co,useValue:this.componentFactoryResolver}],t.parent||Wc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ru(e,t,n=null){return new pp({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var PR=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Db(!1,n.type),r=i.length>0?ru([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=w({token:e,providedIn:"environment",factory:()=>new e(_(Ee))})}return e})();function te(e){return Vs(()=>{let t=hw(e),n=j(y({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===_C.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(PR).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||_n.Emulated,styles:e.styles||ft,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&go("NgStandalone"),pw(n);let i=e.dependencies;return n.directiveDefs=K0(i,!1),n.pipeDefs=K0(i,!0),n.id=LR(n),n})}function kR(e){return Vn(e)||bb(e)}function FR(e){return e!==null}function H(e){return Vs(()=>({type:e.type,bootstrap:e.bootstrap||ft,declarations:e.declarations||ft,imports:e.imports||ft,exports:e.exports||ft,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function q0(e,t){if(e==null)return io;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a=bi.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(n[o]=a!==bi.None?[i,a]:i,t[o]=s):n[o]=i}return n}function Ge(e){return Vs(()=>{let t=hw(e);return pw(t),t})}function pg(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function hw(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||io,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ft,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:q0(e.inputs,t),outputs:q0(e.outputs),debugInfo:null}}function pw(e){e.features?.forEach(t=>t(e))}function K0(e,t){if(!e)return null;let n=t?Cb:kR;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(FR)}function LR(e){let t=0,n=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function VR(e){return Object.getPrototypeOf(e.prototype).constructor}function bn(e){let t=VR(e.type),n=!0,i=[e];for(;t;){let r;if(Un(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new D(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=oc(e.inputs),s.inputTransforms=oc(e.inputTransforms),s.declaredInputs=oc(e.declaredInputs),s.outputs=oc(e.outputs);let a=r.hostBindings;a&&$R(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&UR(e,l),c&&HR(e,c),BR(e,r),TS(e.outputs,r.outputs),Un(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===bn&&(n=!1)}}t=Object.getPrototypeOf(t)}jR(i)}function BR(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];if(i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function jR(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=lo(r.hostAttrs,n=lo(n,r.hostAttrs))}}function oc(e){return e===io?{}:e===ft?[]:e}function UR(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function HR(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function $R(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function gw(e){return WR(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function GR(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function WR(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function mw(e,t,n){return e[t]=n}function Wn(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function _w(e,t,n,i){let r=Wn(e,t,n);return Wn(e,t+1,i)||r}function zR(e,t,n,i,r){let o=_w(e,t,n,i);return Wn(e,t+2,r)||o}function qR(e,t,n,i,r,o,s,a,l){let c=t.consts,u=Hs(t,e,4,s||null,a||null);Zc()&&fg(t,n,u,ao(c,l),ig),u.mergedAttrs=lo(u.mergedAttrs,u.attrs),Up(t,u);let d=u.tView=ng(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function vw(e,t,n,i,r,o,s,a,l,c){let u=n+Ke,d=t.firstCreatePass?qR(u,t,e,i,r,o,s,a,l):t.data[u];sr(d,!1);let f=KR(t,e,d,n);Jc()&&tu(t,e,f,d),ur(f,e);let h=HC(f,e,f,d);return e[u]=h,rg(e,h),gR(h,d,e),qc(d)&&eg(t,e,d),l!=null&&tg(e,d,c),d}function tt(e,t,n,i,r,o,s,a){let l=ee(),c=Oe(),u=ao(c.consts,o);return vw(l,c,e,t,n,i,r,u,s,a),tt}var KR=QR;function QR(e,t,n,i){return Xc(!0),t[Ie].createComment("")}var gg=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var mg=new b(""),$s=new b(""),ou=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(n,i,r){this._ngZone=n,this.registry=i,_g||(ZR(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}static \u0275fac=function(i){return new(i||e)(_(P),_(su),_($s))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),su=(()=>{class e{_applications=new Map;registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return _g?.findTestabilityInTree(this,n,i)??null}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function ZR(e){_g=e}var _g;function dr(e){return!!e&&typeof e.then=="function"}function yw(e){return!!e&&typeof e.subscribe=="function"}var au=new b("");var bw=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=p(au,{optional:!0})??[];injector=p(oe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=Be(this.injector,r);if(dr(o))n.push(o);else if(yw(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),YR=(()=>{class e{static \u0275prov=w({token:e,providedIn:"root",factory:()=>new gp})}return e})(),gp=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,i=this.queues.get(n);i.has(t)&&(i.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(t)||(this.queuedEffectCount++,i.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}},lu=new b("");function JR(){Yy(()=>{throw new D(600,!1)})}function XR(e){return e.isBoundToModule}var ex=10;function Cw(e,t){return Array.isArray(t)?t.reduce(Cw,e):y(y({},e),t)}var Vt=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=p(sA);afterRenderManager=p(EC);zonelessEnabled=p($p);rootEffectScheduler=p(YR);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new G;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=p(yn).hasPendingTasks.pipe(S(n=>!n));constructor(){p(_o,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=p(Ee);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){let r=n instanceof Rc;if(!this._injector.get(bw).done){let f=!r&&wb(n),h=!1;throw new D(405,h)}let s;r?s=n:s=this._injector.get(co).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=XR(s)?void 0:this._injector.get(Ci),l=i||s.selector,c=s.create(oe.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(mg,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),fc(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let i=this.tracingSnapshot;this.tracingSnapshot=null,i.run(Qp.CHANGE_DETECTION,this._tick),i.dispose();return}if(this._runningTick)throw new D(101,!1);let n=J(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,J(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(uo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<ex;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)tx(i,r,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Kc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;fc(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(lu,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>fc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fc(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function tx(e,t,n,i){if(!n&&!Kc(e))return;nw(e,t,n&&!i?0:1)}function bo(e,t,n,i){let r=ee(),o=Yc();if(Wn(r,o,t)){let s=Oe(),a=jp();lN(a,r,e,t,n,i)}return bo}function nx(e,t,n,i){return Wn(e,Yc(),n)?t+Hc(n)+i:Zn}function sc(e,t){return e<<17|t<<2}function rr(e){return e>>17&32767}function ix(e){return(e&2)==2}function rx(e,t){return e&131071|t<<17}function mp(e){return e|2}function fo(e){return(e&131068)>>2}function Ih(e,t){return e&-131069|t<<2}function ox(e){return(e&1)===1}function _p(e){return e|1}function sx(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=rr(s),l=fo(s);e[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Bs(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let f=rr(e[a+1]);e[i+1]=sc(f,a),f!==0&&(e[f+1]=Ih(e[f+1],i)),e[a+1]=rx(e[a+1],i)}else e[i+1]=sc(a,0),a!==0&&(e[a+1]=Ih(e[a+1],i)),a=i;else e[i+1]=sc(l,0),a===0?a=i:e[l+1]=Ih(e[l+1],i),l=i;c&&(e[i+1]=mp(e[i+1])),Q0(e,u,i,!0),Q0(e,u,i,!1),ax(t,u,e,i,o),s=sc(a,l),o?t.classBindings=s:t.styleBindings=s}function ax(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Bs(o,t)>=0&&(n[i+1]=_p(n[i+1]))}function Q0(e,t,n,i){let r=e[n+1],o=t===null,s=i?rr(r):fo(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];lx(l,t)&&(a=!0,e[s+1]=i?_p(c):mp(c)),s=i?rr(c):fo(c)}a&&(e[n+1]=i?mp(r):_p(r))}function lx(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Bs(e,t)>=0:!1}var en={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cx(e){return e.substring(en.key,en.keyEnd)}function ux(e){return dx(e),ww(e,Dw(e,0,en.textEnd))}function ww(e,t){let n=en.textEnd;return n===t?-1:(t=en.keyEnd=fx(e,en.key=t,n),Dw(e,t,n))}function dx(e){en.key=0,en.keyEnd=0,en.value=0,en.valueEnd=0,en.textEnd=e.length}function Dw(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function fx(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function ue(e,t,n){let i=ee(),r=Yc();if(Wn(i,r,t)){let o=Oe(),s=jp();jC(o,s,i,e,t,i[Ie],n,!1)}return ue}function vp(e,t,n,i,r){let o=t.inputs,s=r?"class":"style";og(e,n,o[s],s,i)}function fr(e,t){return px(e,t,null,!0),fr}function cu(e){gx(Cx,hx,e,!0)}function hx(e,t){for(let n=ux(t);n>=0;n=ww(t,n))Mp(e,cx(t),!0)}function px(e,t,n,i){let r=ee(),o=Oe(),s=Gb(2);if(o.firstUpdatePass&&Iw(o,e,s,i),t!==Zn&&Wn(r,s,t)){let a=o.data[ar()];Tw(o,a,r,r[Ie],e,r[s+1]=Dx(t,n),i,s)}}function gx(e,t,n,i){let r=Oe(),o=Gb(2);r.firstUpdatePass&&Iw(r,null,o,i);let s=ee();if(n!==Zn&&Wn(s,o,n)){let a=r.data[ar()];if(Sw(a,i)&&!Ew(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Nh(l,n||"")),vp(r,a,s,n,i)}else wx(r,a,s,s[Ie],s[o+1],s[o+1]=bx(e,t,n),i,o)}}function Ew(e,t){return t>=e.expandoStartIndex}function Iw(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[ar()],s=Ew(e,n);Sw(o,i)&&t===null&&!s&&(t=!1),t=mx(r,o,t,i),sx(r,o,t,n,s,i)}}function mx(e,t,n,i){let r=RM(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Th(null,e,t,n,i),n=Ls(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=Th(r,e,t,n,i),o===null){let l=_x(e,t,i);l!==void 0&&Array.isArray(l)&&(l=Th(null,e,t,l[1],i),l=Ls(l,t.attrs,i),vx(e,t,i,l))}else o=yx(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function _x(e,t,n){let i=n?t.classBindings:t.styleBindings;if(fo(i)!==0)return e[rr(i)]}function vx(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[rr(r)]=i}function yx(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=Ls(i,s,n)}return Ls(i,t.attrs,n)}function Th(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=Ls(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function Ls(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Mp(e,s,n?!0:t[++o]))}return e===void 0?null:e}function bx(e,t,n){if(n==null||n==="")return ft;let i=[],r=Us(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function Cx(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&Mp(e,i,n)}function wx(e,t,n,i,r,o,s,a){r===Zn&&(r=ft);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=l<r.length?r[l+1]:void 0,h=c<o.length?o[c+1]:void 0,g=null,m;u===d?(l+=2,c+=2,f!==h&&(g=d,m=h)):d===null||u!==null&&u<d?(l+=2,g=u):(c+=2,g=d,m=h),g!==null&&Tw(e,t,n,i,g,m,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function Tw(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=ox(c)?Z0(l,t,n,r,fo(c),s):void 0;if(!Fc(u)){Fc(o)||ix(c)&&(o=Z0(l,null,n,r,a,s));let d=Pb(ar(),n);TN(i,s,d,r,o)}}function Z0(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[r+1];f===Zn&&(f=d?ft:void 0);let h=d?_h(f,i):u===i?f:void 0;if(c&&!Fc(h)&&(h=_h(l,i)),Fc(h)&&(a=h,s))return a;let g=e[r+1];r=s?rr(g):fo(g)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=_h(l,i))}return a}function Fc(e){return e!==void 0}function Dx(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=et(Us(e)))),e}function Sw(e,t){return(e.flags&(t?8:16))!==0}function E(e,t,n,i){let r=ee(),o=Oe(),s=Ke+e,a=r[Ie],l=o.firstCreatePass?lw(s,o,r,t,ig,Zc(),n,i):o.data[s],c=Ex(o,r,l,a,t,e);r[s]=c;let u=qc(l);return sr(l,!0),kC(a,c,l),!lg(l)&&Jc()&&tu(o,r,c,l),bM()===0&&ur(c,r),CM(),u&&(eg(o,r,l),Zp(o,l,r)),i!==null&&tg(r,l),E}function I(){let e=yt();kp()?Fp():(e=e.parent,sr(e,!1));let t=e;DM(t)&&EM(),wM();let n=Oe();return n.firstCreatePass&&cw(n,t),t.classesWithoutHost!=null&&VM(t)&&vp(n,t,ee(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&BM(t)&&vp(n,t,ee(),t.stylesWithoutHost,!1),I}function Y(e,t,n,i){return E(e,t,n,i),I(),Y}var Ex=(e,t,n,i,r,o)=>(Xc(!0),OC(i,r,PM()));function Ix(e,t,n,i,r){let o=t.consts,s=ao(o,i),a=Hs(t,e,8,"ng-container",s);s!==null&&sp(a,s,!0);let l=ao(o,r);return Zc()&&fg(t,n,a,l,ig),a.mergedAttrs=lo(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function uu(e,t,n){let i=ee(),r=Oe(),o=e+Ke,s=r.firstCreatePass?Ix(o,r,i,t,n):r.data[o];sr(s,!0);let a=Tx(r,i,s,e);return i[o]=a,Jc()&&tu(r,i,a,s),ur(a,i),qc(s)&&(eg(r,i,s),Zp(r,s,i)),n!=null&&tg(i,s),uu}function du(){let e=yt(),t=Oe();return kp()?Fp():(e=e.parent,sr(e,!1)),t.firstCreatePass&&(Up(t,e),Rp(e)&&t.queries.elementEnd(e)),du}var Tx=(e,t,n,i)=>(Xc(!0),qA(t[Ie],""));function hr(){return ee()}var qi=void 0;function Sx(e){let t=e,n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var Mx=["en",[["a","p"],["AM","PM"],qi],[["AM","PM"],qi,qi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qi,"{1} 'at' {0}",qi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Sx],Sh={};function Ut(e){let t=Ax(e),n=Y0(t);if(n)return n;let i=t.split("-")[0];if(n=Y0(i),n)return n;if(i==="en")return Mx;throw new D(701,!1)}function Y0(e){return e in Sh||(Sh[e]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[e]),Sh[e]}var Me=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Me||{});function Ax(e){return e.toLowerCase().replace(/_/g,"-")}var Lc="en-US";var Nx=Lc;function Rx(e){typeof e=="string"&&(Nx=e.toLowerCase().replace(/_/g,"-"))}var xx=(e,t,n)=>{};function pe(e,t,n,i){let r=ee(),o=Oe(),s=yt();return Mw(o,r,r[Ie],s,e,t,i),pe}function Ox(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[_c],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Mw(e,t,n,i,r,o,s){let a=qc(i),c=e.firstCreatePass&&Bb(e),u=t[Ft],d=Vb(t),f=!0;if(i.type&3||s){let m=nn(i,t),C=s?s(m):m,x=d.length,de=s?we=>s(gn(we[i.index])):i.index,R=null;if(!s&&a&&(R=Ox(e,t,r,i.index)),R!==null){let we=R.__ngLastListenerFn__||R;we.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,f=!1}else{o=X0(i,t,u,o),xx(m,r,o);let we=n.listen(C,r,o);d.push(o,we),c&&c.push(r,de,x,x+1)}}else o=X0(i,t,u,o);let h=i.outputs,g;if(f&&h!==null&&(g=h[r])){let m=g.length;if(m)for(let C=0;C<m;C+=2){let x=g[C],de=g[C+1],Zt=t[x][de].subscribe(o),_l=d.length;d.push(o,Zt),c&&c.push(r,i.index,_l,-(_l+1))}}}function J0(e,t,n,i){let r=J(null);try{return kt(6,t,n),n(i)!==!1}catch(o){return $C(e,o),!1}finally{kt(7,t,n),J(r)}}function X0(e,t,n,i){return function r(o){if(o===Function)return i;let s=or(e)?mn(e.index,t):t;dg(s,5);let a=J0(t,n,i,o),l=r.__ngNextListenerFn__;for(;l;)a=J0(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Ht(e=1){return OM(e)}function Px(e,t){let n=null,i=VA(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?xC(e,o,!0):UA(i,o))return r}return n}function Aw(e){let t=ee()[Lt][ht];if(!t.projection){let n=e?e.length:1,i=t.projection=KS(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?Px(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Nw(e,t=0,n,i,r,o){let s=ee(),a=Oe(),l=i?e+1:null;l!==null&&vw(s,a,l,i,r,o,null,n);let c=Hs(a,Ke+e,16,null,n||null);c.projection===null&&(c.projection=t),Fp();let d=!s[xs]||jb();s[Lt][ht].projection[c.projection]===null&&l!==null?kx(s,a,l):d&&!lg(c)&&EN(a,s,c)}function kx(e,t,n){let i=Ke+n,r=t.data[i],o=e[i],s=ip(o,r.tView.ssrId),a=YC(e,r,void 0,{dehydratedView:s});JC(o,a,0,tp(r,s))}function fu(e,t,n){DR(e,t,n)}function Gs(e){let t=ee(),n=Oe(),i=Wb();Lp(i+1);let r=hg(n,i);if(e.dirty&&gM(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=TR(t,i);e.reset(o,cA),e.notifyOnChanges()}return!0}return!1}function Ws(){return CR(ee(),Wb())}function Fx(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}function zs(e){let t=TM();return xp(t,Ke+e)}function ne(e,t=""){let n=ee(),i=Oe(),r=e+Ke,o=i.firstCreatePass?Hs(i,r,1,t,null):i.data[r],s=Lx(i,n,o,t,e);n[r]=s,Jc()&&tu(i,n,s,o),sr(o,!1)}var Lx=(e,t,n,i,r)=>(Xc(!0),WA(t[Ie],i));function nt(e){return Di("",e,""),nt}function Di(e,t,n){let i=ee(),r=nx(i,e,t,n);return r!==Zn&&Vx(i,ar(),r),Di}function Vx(e,t,n){let i=Pb(t,e);zA(e[Ie],i,n)}function Cn(e,t,n){gC(t)&&(t=t());let i=ee(),r=Yc();if(Wn(i,r,t)){let o=Oe(),s=jp();jC(o,s,i,e,t,i[Ie],n,!1)}return Cn}function Jn(e,t){let n=gC(e);return n&&e.set(t),n}function wn(e,t){let n=ee(),i=Oe(),r=yt();return Mw(i,n,n[Ie],r,e,t),wn}function Bx(e,t,n){let i=Oe();if(i.firstCreatePass){let r=Un(e);yp(n,i.data,i.blueprint,r,!0),yp(t,i.data,i.blueprint,r,!1)}}function yp(e,t,n,i,r){if(e=Xe(e),Array.isArray(e))for(let o=0;o<e.length;o++)yp(e[o],t,n,i,r);else{let o=Oe(),s=ee(),a=yt(),l=oo(e)?e:Xe(e.provide),c=Tb(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(oo(e)||!e.multi){let h=new er(c,r,N),g=Ah(l,t,r?u:u+f,d);g===-1?($h(Ec(a,s),o,l),Mh(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=Ah(l,t,u+f,d),g=Ah(l,t,u,u+f),m=h>=0&&n[h],C=g>=0&&n[g];if(r&&!C||!r&&!m){$h(Ec(a,s),o,l);let x=Hx(r?Ux:jx,n.length,r,i,c);!r&&C&&(n[g].providerFactory=x),Mh(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=Rw(n[r?g:h],c,!r&&i);Mh(o,e,h>-1?h:g,x)}!r&&i&&C&&n[g].componentProviders++}}}function Mh(e,t,n,i){let r=oo(t),o=tM(t);if(r||o){let l=(o?Xe(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function Rw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ah(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function jx(e,t,n,i){return bp(this.multi,[])}function Ux(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ks(n,n[Q],this.providerFactory.index,i);o=a.slice(0,s),bp(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],bp(r,o);return o}function bp(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function Hx(e,t,n,i,r){let o=new er(e,n,N);return o.multi=[],o.index=t,o.componentProviders=0,Rw(o,r,i&&!n),o}function Co(e,t=[]){return n=>{n.providersResolver=(i,r)=>Bx(i,r?r(e):e,t)}}function xw(e,t){let n=e[t];return n===Zn?void 0:n}function $x(e,t,n,i,r,o,s){let a=t+n;return _w(e,a,r,o)?mw(e,a+2,s?i.call(s,r,o):i(r,o)):xw(e,a+2)}function Gx(e,t,n,i,r,o,s,a){let l=t+n;return zR(e,l,r,o,s)?mw(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):xw(e,l+3)}function $t(e,t){let n=Oe(),i,r=e+Ke;n.firstCreatePass?(i=Wx(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=Qi(i.type,!0)),s,a=dt(N);try{let l=Dc(!1),c=o();return Dc(l),Fx(n,ee(),r,c),c}finally{dt(a)}}function Wx(e,t){if(t)for(let n=t.length-1;n>=0;n--){let i=t[n];if(e===i.name)return i}}function hu(e,t,n,i){let r=e+Ke,o=ee(),s=xp(o,r);return Ow(o,r)?$x(o,$b(),t,s.transform,n,i,s):s.transform(n,i)}function pr(e,t,n,i,r){let o=e+Ke,s=ee(),a=xp(s,o);return Ow(s,o)?Gx(s,$b(),t,a.transform,n,i,r,a):a.transform(n,i,r)}function Ow(e,t){return e[Q].data[t].pure}function vg(e,t){return iu(e,t)}var ac=null;function zx(e){ac!==null&&(e.defaultEncapsulation!==ac.defaultEncapsulation||e.preserveWhitespaces!==ac.preserveWhitespaces)||(ac=e)}var zn=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},pu=new zn("19.1.6"),Cp=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},gu=(()=>{class e{compileModuleSync(n){return new kc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=yb(n),o=NC(r.declarations).reduce((s,a)=>{let l=Vn(a);return l&&s.push(new ir(l)),s},[]);return new Cp(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qx=new b("");function Kx(e,t,n){let i=new kc(n);return Promise.resolve(i)}function eb(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var Qx=(()=>{class e{zone=p(P);changeDetectionScheduler=p(tr);applicationRef=p(Vt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Zx({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new P(j(y({},Pw()),{scheduleInRootZone:n})),[{provide:P,useFactory:e},{provide:ro,multi:!0,useFactory:()=>{let i=p(Qx,{optional:!0});return()=>i.initialize()}},{provide:ro,multi:!0,useFactory:()=>{let i=p(Yx);return()=>{i.initialize()}}},t===!0?{provide:uC,useValue:!0}:[],{provide:dC,useValue:n??cC}]}function Pw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Yx=(()=>{class e{subscription=new De;initialized=!1;zone=p(P);pendingTasks=p(yn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{P.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Jx=(()=>{class e{appRef=p(Vt);taskService=p(yn);ngZone=p(P);zonelessEnabled=p($p);tracing=p(_o,{optional:!0});disableScheduling=p(uC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new De;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Tc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(p(dC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Sc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 13:{this.appRef.dirtyFlags|=16,i=!0;break}case 14:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{i=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?P0:fC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Tc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,P0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Xx(){return typeof $localize<"u"&&$localize.locale||Lc}var qs=new b("",{providedIn:"root",factory:()=>p(qs,W.Optional|W.SkipSelf)||Xx()});var Vc=new b(""),eO=new b("");function Is(e){return!e.moduleRef}function tO(e){let t=Is(e)?e.r3Injector:e.moduleRef.injector,n=t.get(P);return n.run(()=>{Is(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(Hn,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),Is(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Vc);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Vc);s.add(o),e.moduleRef.onDestroy(()=>{fc(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return iO(i,n,()=>{let o=t.get(bw);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(qs,Lc);if(Rx(s||Lc),!t.get(eO,!0))return Is(e)?t.get(Vt):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Is(e)){let l=t.get(Vt);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return nO(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function nO(e,t){let n=e.injector.get(Vt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new D(-403,!1);t.push(e)}function iO(e,t,n){try{let i=n();return dr(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}var kw=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,i){let r=i?.scheduleInRootZone,o=()=>oA(i?.ngZone,j(y({},Pw({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[Zx({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:tr,useExisting:Jx}],l=OR(n.moduleType,this.injector,a);return tO({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,i=[]){let r=Cw({},i);return Kx(this.injector,r,n).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(Vc,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(i){return new(i||e)(_(oe))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),As=null,Fw=new b("");function rO(e){if(As&&!As.get(Fw,!1))throw new D(400,!1);JR(),As=e;let t=e.get(kw);return aO(e),t}function yg(e,t,n=[]){let i=`Platform: ${t}`,r=new b(i);return(o=[])=>{let s=Lw();if(!s||s.injector.get(Fw,!1)){let a=[...n,...o,{provide:r,useValue:!0}];e?e(a):rO(oO(a,i))}return sO(r)}}function oO(e=[],t){return oe.create({name:t,providers:[{provide:Gc,useValue:"platform"},{provide:Vc,useValue:new Set([()=>As=null])},...e]})}function sO(e){let t=Lw();if(!t)throw new D(401,!1);return t}function Lw(){return As?.get(kw)??null}function aO(e){let t=e.get(qp,null);Be(e,()=>{t?.forEach(n=>n())})}function Ks(){return!1}var Xn=(()=>{class e{static __NG_ELEMENT_ID__=lO}return e})();function lO(e){return cO(yt(),ee(),(e&16)===16)}function cO(e,t,n){if(or(e)&&!n){let i=mn(e.index,t);return new nr(i,i)}else if(e.type&175){let i=t[Lt];return new nr(i,t)}return null}var wp=class{constructor(){}supports(t){return gw(t)}create(t){return new Dp(t)}},uO=(e,t)=>t,Dp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||uO}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<tb(i,r,o)?n:i,a=tb(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,g=h+f;u<=g&&g<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!gw(t))throw new D(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,GR(t,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new Ep(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Bc),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Bc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Ep=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Ip=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Bc=class{map=new Map;put(t){let n=t.trackById,i=this.map.get(n);i||(i=new Ip,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tb(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function nb(){return new bg([new wp])}var bg=(()=>{class e{factories;static \u0275prov=w({token:e,providedIn:"root",factory:nb});constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||nb()),deps:[[e,new WS,new Qe]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new D(901,!1)}}return e})();var Vw=yg(null,"core",[]),Bw=(()=>{class e{constructor(n){}static \u0275fac=function(i){return new(i||e)(_(Vt))};static \u0275mod=H({type:e});static \u0275inj=U({})}return e})();function Qs(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function wo(e,t){go("NgSignals");let n=Ky(e);return t?.equal&&(n[pt].equal=t.equal),n}function Dn(e){let t=J(null);try{return e()}finally{J(t)}}var ib=class{[pt];constructor(t){this[pt]=t}destroy(){this[pt].destroy()}};function mu(e,t){let n=Vn(e),i=t.elementInjector||Wc();return new ir(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function jw(e){let t=Vn(e);if(!t)return null;let n=new ir(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var qw=null;function En(){return qw}function Kw(e){qw??=e}var Iu=class{};var ke=new b(""),Sg=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:()=>p(hO),providedIn:"platform"})}return e})(),Qw=new b(""),hO=(()=>{class e extends Sg{_location;_history;_doc=p(ke);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return En().getBaseHref(this._doc)}onPopState(n){let i=En().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=En().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Mg(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Uw(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n)}function ti(e){return e&&e[0]!=="?"?"?"+e:e}var gr=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:()=>p(Ag),providedIn:"root"})}return e})(),Zw=new b(""),Ag=(()=>{class e extends gr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??p(ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Mg(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+ti(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+ti(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+ti(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||e)(_(Sg),_(Zw,8))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yw=(()=>{class e extends gr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=Mg(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+ti(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+ti(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||e)(_(Sg),_(Zw,8))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),Eo=(()=>{class e{_subject=new G;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=mO(Uw(Hw(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+ti(i))}normalize(n){return e.stripTrailingSlash(gO(this._basePath,Hw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=ti;static joinWithSlash=Mg;static stripTrailingSlash=Uw;static \u0275fac=function(i){return new(i||e)(_(gr))};static \u0275prov=w({token:e,factory:()=>pO(),providedIn:"root"})}return e})();function pO(){return new Eo(_(gr))}function gO(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Hw(e){return e.replace(/\/index.html$/,"")}function mO(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var it=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(it||{}),ge=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(ge||{}),Ct=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Ct||{}),Ei={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function _O(e){return Ut(e)[Me.LocaleId]}function vO(e,t,n){let i=Ut(e),r=[i[Me.DayPeriodsFormat],i[Me.DayPeriodsStandalone]],o=Gt(r,t);return Gt(o,n)}function yO(e,t,n){let i=Ut(e),r=[i[Me.DaysFormat],i[Me.DaysStandalone]],o=Gt(r,t);return Gt(o,n)}function bO(e,t,n){let i=Ut(e),r=[i[Me.MonthsFormat],i[Me.MonthsStandalone]],o=Gt(r,t);return Gt(o,n)}function CO(e,t){let i=Ut(e)[Me.Eras];return Gt(i,t)}function _u(e,t){let n=Ut(e);return Gt(n[Me.DateFormat],t)}function vu(e,t){let n=Ut(e);return Gt(n[Me.TimeFormat],t)}function yu(e,t){let i=Ut(e)[Me.DateTimeFormat];return Gt(i,t)}function Su(e,t){let n=Ut(e),i=n[Me.NumberSymbols][t];if(typeof i>"u"){if(t===Ei.CurrencyDecimal)return n[Me.NumberSymbols][Ei.Decimal];if(t===Ei.CurrencyGroup)return n[Me.NumberSymbols][Ei.Group]}return i}function Jw(e){if(!e[Me.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Me.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wO(e){let t=Ut(e);return Jw(t),(t[Me.ExtraData][2]||[]).map(i=>typeof i=="string"?Cg(i):[Cg(i[0]),Cg(i[1])])}function DO(e,t,n){let i=Ut(e);Jw(i);let r=[i[Me.ExtraData][0],i[Me.ExtraData][1]],o=Gt(r,t)||[];return Gt(o,n)||[]}function Gt(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function Cg(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var EO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,bu={},IO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Xw(e,t,n,i){let r=PO(e);t=ei(n,t)||t;let s=[],a;for(;t;)if(a=IO.exec(t),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;t=u}else{s.push(t);break}let l=r.getTimezoneOffset();i&&(l=tD(i,l),r=OO(r,i,!0));let c="";return s.forEach(u=>{let d=RO(u);c+=d?d(r,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Tu(e,t,n){let i=new Date(0);return i.setFullYear(e,t,n),i.setHours(0,0,0),i}function ei(e,t){let n=_O(e);if(bu[n]??={},bu[n][t])return bu[n][t];let i="";switch(t){case"shortDate":i=_u(e,Ct.Short);break;case"mediumDate":i=_u(e,Ct.Medium);break;case"longDate":i=_u(e,Ct.Long);break;case"fullDate":i=_u(e,Ct.Full);break;case"shortTime":i=vu(e,Ct.Short);break;case"mediumTime":i=vu(e,Ct.Medium);break;case"longTime":i=vu(e,Ct.Long);break;case"fullTime":i=vu(e,Ct.Full);break;case"short":let r=ei(e,"shortTime"),o=ei(e,"shortDate");i=Cu(yu(e,Ct.Short),[r,o]);break;case"medium":let s=ei(e,"mediumTime"),a=ei(e,"mediumDate");i=Cu(yu(e,Ct.Medium),[s,a]);break;case"long":let l=ei(e,"longTime"),c=ei(e,"longDate");i=Cu(yu(e,Ct.Long),[l,c]);break;case"full":let u=ei(e,"fullTime"),d=ei(e,"fullDate");i=Cu(yu(e,Ct.Full),[u,d]);break}return i&&(bu[n][t]=i),i}function Cu(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,i){return t!=null&&i in t?t[i]:n})),e}function rn(e,t,n="-",i,r){let o="";(e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function TO(e,t){return rn(e,3).substring(0,t)}function Pe(e,t,n=0,i=!1,r=!1){return function(o,s){let a=SO(e,o);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return TO(a,t);let l=Su(s,Ei.MinusSign);return rn(a,t,l,i,r)}}function SO(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function _e(e,t,n=it.Format,i=!1){return function(r,o){return MO(r,o,e,t,n,i)}}function MO(e,t,n,i,r,o){switch(n){case 2:return bO(t,r,i)[e.getMonth()];case 1:return yO(t,r,i)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let c=wO(t),u=DO(t,r,i),d=c.findIndex(f=>{if(Array.isArray(f)){let[h,g]=f,m=s>=h.hours&&a>=h.minutes,C=s<g.hours||s===g.hours&&a<g.minutes;if(h.hours<g.hours){if(m&&C)return!0}else if(m||C)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return vO(t,r,i)[s<12?0:1];case 3:return CO(t,i)[e.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function wu(e){return function(t,n,i){let r=-1*i,o=Su(n,Ei.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case 0:return(r>=0?"+":"")+rn(s,2,o)+rn(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+rn(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var AO=0,Eu=4;function NO(e){let t=Tu(e,AO,1).getDay();return Tu(e,0,1+(t<=Eu?Eu:Eu+7)-t)}function eD(e){let t=e.getDay(),n=t===0?-3:Eu-t;return Tu(e.getFullYear(),e.getMonth(),e.getDate()+n)}function wg(e,t=!1){return function(n,i){let r;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+o)/7)}else{let o=eD(n),s=NO(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return rn(r,e,Su(i,Ei.MinusSign))}}function Du(e,t=!1){return function(n,i){let o=eD(n).getFullYear();return rn(o,e,Su(i,Ei.MinusSign),t)}}var Dg={};function RO(e){if(Dg[e])return Dg[e];let t;switch(e){case"G":case"GG":case"GGG":t=_e(3,ge.Abbreviated);break;case"GGGG":t=_e(3,ge.Wide);break;case"GGGGG":t=_e(3,ge.Narrow);break;case"y":t=Pe(0,1,0,!1,!0);break;case"yy":t=Pe(0,2,0,!0,!0);break;case"yyy":t=Pe(0,3,0,!1,!0);break;case"yyyy":t=Pe(0,4,0,!1,!0);break;case"Y":t=Du(1);break;case"YY":t=Du(2,!0);break;case"YYY":t=Du(3);break;case"YYYY":t=Du(4);break;case"M":case"L":t=Pe(1,1,1);break;case"MM":case"LL":t=Pe(1,2,1);break;case"MMM":t=_e(2,ge.Abbreviated);break;case"MMMM":t=_e(2,ge.Wide);break;case"MMMMM":t=_e(2,ge.Narrow);break;case"LLL":t=_e(2,ge.Abbreviated,it.Standalone);break;case"LLLL":t=_e(2,ge.Wide,it.Standalone);break;case"LLLLL":t=_e(2,ge.Narrow,it.Standalone);break;case"w":t=wg(1);break;case"ww":t=wg(2);break;case"W":t=wg(1,!0);break;case"d":t=Pe(2,1);break;case"dd":t=Pe(2,2);break;case"c":case"cc":t=Pe(7,1);break;case"ccc":t=_e(1,ge.Abbreviated,it.Standalone);break;case"cccc":t=_e(1,ge.Wide,it.Standalone);break;case"ccccc":t=_e(1,ge.Narrow,it.Standalone);break;case"cccccc":t=_e(1,ge.Short,it.Standalone);break;case"E":case"EE":case"EEE":t=_e(1,ge.Abbreviated);break;case"EEEE":t=_e(1,ge.Wide);break;case"EEEEE":t=_e(1,ge.Narrow);break;case"EEEEEE":t=_e(1,ge.Short);break;case"a":case"aa":case"aaa":t=_e(0,ge.Abbreviated);break;case"aaaa":t=_e(0,ge.Wide);break;case"aaaaa":t=_e(0,ge.Narrow);break;case"b":case"bb":case"bbb":t=_e(0,ge.Abbreviated,it.Standalone,!0);break;case"bbbb":t=_e(0,ge.Wide,it.Standalone,!0);break;case"bbbbb":t=_e(0,ge.Narrow,it.Standalone,!0);break;case"B":case"BB":case"BBB":t=_e(0,ge.Abbreviated,it.Format,!0);break;case"BBBB":t=_e(0,ge.Wide,it.Format,!0);break;case"BBBBB":t=_e(0,ge.Narrow,it.Format,!0);break;case"h":t=Pe(3,1,-12);break;case"hh":t=Pe(3,2,-12);break;case"H":t=Pe(3,1);break;case"HH":t=Pe(3,2);break;case"m":t=Pe(4,1);break;case"mm":t=Pe(4,2);break;case"s":t=Pe(5,1);break;case"ss":t=Pe(5,2);break;case"S":t=Pe(6,1);break;case"SS":t=Pe(6,2);break;case"SSS":t=Pe(6,3);break;case"Z":case"ZZ":case"ZZZ":t=wu(0);break;case"ZZZZZ":t=wu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=wu(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=wu(2);break;default:return null}return Dg[e]=t,t}function tD(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function xO(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function OO(e,t,n){let i=n?-1:1,r=e.getTimezoneOffset(),o=tD(t,r);return xO(e,i*(o-r))}function PO(e){if($w(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[r,o=1,s=1]=e.split("-").map(a=>+a);return Tu(r,o-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let i;if(i=e.match(EO))return kO(i)}let t=new Date(e);if(!$w(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function kO(e){let t=new Date(0),n=0,i=0,r=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-i,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,a,l,c),t}function $w(e){return e instanceof Date&&!isNaN(e.valueOf())}function Mu(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Eg=class{$implicit;ngForOf;index;count;constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Au=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Eg(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),Gw(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);Gw(o,r)})}static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||e)(N(Yn),N(Gn),N(bg))};static \u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function Gw(e,t){e.context.$implicit=t.item}var Ii=(()=>{class e{_viewContainer;_context=new Ig;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,i){this._viewContainer=n,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Ww("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Ww("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||e)(N(Yn),N(Gn))};static \u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Ig=class{$implicit=null;ngIf=null};function Ww(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${et(t)}'.`)}function nD(e,t){return new D(2100,!1)}var FO="mediumDate",LO=new b(""),VO=new b(""),Nu=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r}transform(n,i,r,o){if(n==null||n===""||n!==n)return null;try{let s=i??this.defaultOptions?.dateFormat??FO,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Xw(n,s,o||this.locale,a)}catch(s){throw nD(e,s.message)}}static \u0275fac=function(i){return new(i||e)(N(qs,16),N(LO,24),N(VO,24))};static \u0275pipe=pg({name:"date",type:e,pure:!0})}return e})();var Io=(()=>{class e{transform(n,i,r){if(n==null)return null;if(!this.supports(n))throw nD(e,n);return n.slice(i,r)}supports(n){return typeof n=="string"||Array.isArray(n)}static \u0275fac=function(i){return new(i||e)};static \u0275pipe=pg({name:"slice",type:e,pure:!1})}return e})();var iD=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=H({type:e});static \u0275inj=U({})}return e})(),rD="browser",BO="server";function Zs(e){return e===BO}var oD=(()=>{class e{static \u0275prov=w({token:e,providedIn:"root",factory:()=>new Tg(p(ke),window)})}return e})(),Tg=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=jO(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function jO(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var Do=class{};var Js=class{},xu=class{},mr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=n.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.addHeaderEntry(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(n):this.headers.set(i,[n])}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Rg=class{encodeKey(t){return sD(t)}encodeValue(t){return sD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function UO(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var HO=/%(\d[a-f0-9])/gi,$O={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sD(e){return encodeURIComponent(e).replace(HO,(t,n)=>$O[n]??t)}function Ru(e){return`${e}`}var Ti=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Rg,t.fromString){if(t.fromObject)throw new D(2805,!1);this.map=UO(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(Ru):[Ru(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Ru(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Ru(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var xg=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function GO(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function aD(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function lD(e){return typeof Blob<"u"&&e instanceof Blob}function cD(e){return typeof FormData<"u"&&e instanceof FormData}function WO(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var uD="Content-Type",dD="Accept",gD="X-Request-URL",mD="text/plain",_D="application/json",zO=`${_D}, ${mD}, */*`,Ys=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,i,r){this.url=n,this.method=t.toUpperCase();let o;if(GO(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new mr,this.context??=new xg,!this.params)this.params=new Ti,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||aD(this.body)||lD(this.body)||cD(this.body)||WO(this.body)?this.body:this.body instanceof Ti?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||cD(this.body)?null:lD(this.body)?this.body.type||null:aD(this.body)?null:typeof this.body=="string"?mD:this.body instanceof Ti?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?_D:null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new e(n,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},To=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(To||{}),Xs=class{headers;status;statusText;url;ok;type;constructor(t,n=200,i="OK"){this.headers=t.headers||new mr,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Og=class e extends Xs{constructor(t={}){super(t)}type=To.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ou=class e extends Xs{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=To.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Pu=class extends Xs{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},qO=200,KO=204;function Ng(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var QO=(()=>{class e{handler;constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof Ys)o=n;else{let l;r.headers instanceof mr?l=r.headers:l=new mr(r.headers);let c;r.params&&(r.params instanceof Ti?c=r.params:c=new Ti({fromObject:r.params})),o=new Ys(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=T(o).pipe(Fn(l=>this.handler.handle(l)));if(n instanceof Ys||r.observe==="events")return s;let a=s.pipe(Se(l=>l instanceof Ou));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new D(2806,!1);return l.body}));case"blob":return a.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new D(2807,!1);return l.body}));case"text":return a.pipe(S(l=>{if(l.body!==null&&typeof l.body!="string")throw new D(2808,!1);return l.body}));case"json":default:return a.pipe(S(l=>l.body))}case"response":return a;default:throw new D(2809,!1)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Ti().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,Ng(r,i))}post(n,i,r={}){return this.request("POST",n,Ng(r,i))}put(n,i,r={}){return this.request("PUT",n,Ng(r,i))}static \u0275fac=function(i){return new(i||e)(_(Js))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();var ZO=new b("");function vD(e,t){return t(e)}function YO(e,t){return(n,i)=>t.intercept(n,{handle:r=>e(r,i)})}function JO(e,t,n){return(i,r)=>Be(n,()=>t(i,o=>e(o,r)))}var XO=new b(""),Pg=new b(""),eP=new b(""),yD=new b("",{providedIn:"root",factory:()=>!0});function tP(){let e=null;return(t,n)=>{e===null&&(e=(p(XO,{optional:!0})??[]).reduceRight(YO,vD));let i=p(yn);if(p(yD)){let o=i.add();return e(t,n).pipe(Ln(()=>i.remove(o)))}else return e(t,n)}}var fD=(()=>{class e extends Js{backend;injector;chain=null;pendingTasks=p(yn);contributeToStability=p(yD);constructor(n,i){super(),this.backend=n,this.injector=i}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Pg),...this.injector.get(eP,[])]));this.chain=i.reduceRight((r,o)=>JO(r,o,this.injector),vD)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(Ln(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||e)(_(xu),_(Ee))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();var nP=/^\)\]\}',?\n/,iP=RegExp(`^${gD}:`,"m");function rP(e){return"responseURL"in e&&e.responseURL?e.responseURL:iP.test(e.getAllResponseHeaders())?e.getResponseHeader(gD):null}var hD=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new D(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?se(i.\u0275loadImpl()):T(null)).pipe(ce(()=>new A(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((m,C)=>s.setRequestHeader(m,C.join(","))),n.headers.has(dD)||s.setRequestHeader(dD,zO),!n.headers.has(uD)){let m=n.detectContentTypeHeader();m!==null&&s.setRequestHeader(uD,m)}if(n.responseType){let m=n.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=s.statusText||"OK",C=new mr(s.getAllResponseHeaders()),x=rP(s)||n.url;return l=new Og({headers:C,status:s.status,statusText:m,url:x}),l},u=()=>{let{headers:m,status:C,statusText:x,url:de}=c(),R=null;C!==KO&&(R=typeof s.response>"u"?s.responseText:s.response),C===0&&(C=R?qO:0);let we=C>=200&&C<300;if(n.responseType==="json"&&typeof R=="string"){let Zt=R;R=R.replace(nP,"");try{R=R!==""?JSON.parse(R):null}catch(_l){R=Zt,we&&(we=!1,R={error:_l,text:R})}}we?(o.next(new Ou({body:R,headers:m,status:C,statusText:x,url:de||void 0})),o.complete()):o.error(new Pu({error:R,headers:m,status:C,statusText:x,url:de||void 0}))},d=m=>{let{url:C}=c(),x=new Pu({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});o.error(x)},f=!1,h=m=>{f||(o.next(c()),f=!0);let C={type:To.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(C.total=m.total),n.responseType==="text"&&s.responseText&&(C.partialText=s.responseText),o.next(C)},g=m=>{let C={type:To.UploadProgress,loaded:m.loaded};m.lengthComputable&&(C.total=m.total),o.next(C)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:To.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||e)(_(Do))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),bD=new b(""),oP="XSRF-TOKEN",sP=new b("",{providedIn:"root",factory:()=>oP}),aP="X-XSRF-TOKEN",lP=new b("",{providedIn:"root",factory:()=>aP}),ku=class{},cP=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mu(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(i){return new(i||e)(_(ke),_(Ze),_(sP))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();function uP(e,t){let n=e.url.toLowerCase();if(!p(bD)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let i=p(ku).getToken(),r=p(lP);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}var CD=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(CD||{});function dP(e,t){return{\u0275kind:e,\u0275providers:t}}function fP(...e){let t=[QO,hD,fD,{provide:Js,useExisting:fD},{provide:xu,useFactory:()=>p(ZO,{optional:!0})??p(hD)},{provide:Pg,useValue:uP,multi:!0},{provide:bD,useValue:!0},{provide:ku,useClass:cP}];for(let n of e)t.push(...n.\u0275providers);return vn(t)}var pD=new b("");function hP(){return dP(CD.LegacyInterceptors,[{provide:pD,useFactory:tP},{provide:Pg,useExisting:pD,multi:!0}])}var wD=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=H({type:e});static \u0275inj=U({providers:[fP(hP())]})}return e})();var Fg=class extends Iu{supportsDOMEvents=!0},Lg=class e extends Fg{static makeCurrent(){Kw(new e)}onAndCancel(t,n,i,r){return t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=pP();return n==null?null:gP(n)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Mu(document.cookie,t)}},ea=null;function pP(){return ea=ea||document.querySelector("base"),ea?ea.getAttribute("href"):null}function gP(e){return new URL(e,document.baseURI).pathname}var Vg=class{addToWindow(t){mt.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new D(5103,!1);return o},mt.getAllAngularTestabilities=()=>t.getAllTestabilities(),mt.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let r=mt.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};mt.frameworkStabilizers||(mt.frameworkStabilizers=[]),mt.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let r=t.getTestability(n);return r??(i?En().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},mP=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),Bg=new b(""),MD=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new D(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||e)(_(Bg),_(P))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),Lu=class{_doc;constructor(t){this._doc=t}manager},Fu="ng-app-id";function DD(e){for(let t of e)t.remove()}function ED(e,t){let n=t.createElement("style");return n.textContent=e,n}function _P(e,t,n,i){let r=e.head?.querySelectorAll(`style[${Fu}="${t}"],link[${Fu}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Fu),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function jg(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var AD=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.isServer=Zs(o),_P(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,ED);i?.forEach(r=>this.addUsage(r,this.external,jg))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(DD(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])DD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,ED(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,jg(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Fu,this.appId),n.appendChild(i)}static \u0275fac=function(i){return new(i||e)(_(ke),_(zp),_(Kp,8),_(Ze))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),kg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hg=/%COMP%/g;var ND="%COMP%",vP=`_nghost-${ND}`,yP=`_ngcontent-${ND}`,bP=!0,CP=new b("",{providedIn:"root",factory:()=>bP});function wP(e){return yP.replace(Hg,e)}function DP(e){return vP.replace(Hg,e)}function RD(e,t){return t.map(n=>n.replace(Hg,e))}var ID=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Zs(a),this.defaultRenderer=new ta(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===_n.ShadowDom&&(i=j(y({},i),{encapsulation:_n.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Vu?r.applyToHost(n):r instanceof na&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(i.encapsulation){case _n.Emulated:o=new Vu(l,c,i,this.appId,u,s,a,d,f);break;case _n.ShadowDom:return new Ug(l,c,n,i,s,a,this.nonce,d,f);default:o=new na(l,c,i,u,s,a,d,f);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||e)(_(MD),_(AD),_(zp),_(CP),_(ke),_(Ze),_(P),_(Kp),_(_o,8))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),ta=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,i,r,o){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(kg[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(TD(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(TD(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new D(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=kg[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=kg[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&($n.DashCase|$n.Important)?t.style.setProperty(n,i,r&$n.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&$n.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i,r){if(typeof t=="string"&&(t=En().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);let o=this.decoratePreventDefault(i);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,r)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function TD(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ug=class extends ta{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,i,r,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=RD(r.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=r.getExternalStyles?.();if(d)for(let f of d){let h=jg(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},na=class extends ta{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,i,r,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=c?RD(c,u):u,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Vu=class extends na{contentAttr;hostAttr;constructor(t,n,i,r,o,s,a,l,c){let u=r+"-"+i.id;super(t,n,i,o,s,a,l,c,u),this.contentAttr=wP(u),this.hostAttr=DP(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},EP=(()=>{class e extends Lu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(_(ke))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),SD=["alt","control","meta","shift"],IP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TP={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},SP=(()=>{class e extends Lu{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>En().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),SD.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=IP[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),SD.forEach(s=>{if(s!==r){let a=TP[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||e)(_(ke))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();function MP(){Lg.makeCurrent()}function AP(){return new Hn}function NP(){return wC(document),document}var RP=[{provide:Ze,useValue:rD},{provide:qp,useValue:MP,multi:!0},{provide:ke,useFactory:NP,deps:[]}],xD=yg(Vw,"browser",RP);var xP=[{provide:$s,useClass:Vg,deps:[]},{provide:mg,useClass:ou,deps:[P,su,$s]},{provide:ou,useClass:ou,deps:[P,su,$s]}],OP=[{provide:Gc,useValue:"root"},{provide:Hn,useFactory:AP,deps:[]},{provide:Bg,useClass:EP,multi:!0,deps:[ke]},{provide:Bg,useClass:SP,multi:!0,deps:[ke]},ID,AD,MD,{provide:uo,useExisting:ID},{provide:Do,useClass:mP,deps:[]},[]],OD=(()=>{class e{constructor(){}static \u0275fac=function(i){return new(i||e)};static \u0275mod=H({type:e});static \u0275inj=U({providers:[...OP,...xP],imports:[iD,Bw]})}return e})();var PD=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||e)(_(ke))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var GD=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||e)(N(yo),N(bt))};static \u0275dir=Ge({type:e})}return e})(),PP=(()=>{class e extends GD{static \u0275fac=(()=>{let n;return function(r){return(n||(n=lr(e)))(r||e)}})();static \u0275dir=Ge({type:e,features:[bn]})}return e})(),WD=new b("");var kP={provide:WD,useExisting:wi(()=>Si),multi:!0};function FP(){let e=En()?En().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var LP=new b(""),Si=(()=>{class e extends GD{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!FP())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||e)(N(yo),N(bt),N(LP,8))};static \u0275dir=Ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&pe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Co([kP]),bn]})}return e})();function VP(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}var Gg=new b(""),zD=new b("");function BP(e){return VP(e.value)?{required:!0}:null}function FD(e){return null}function qD(e){return e!=null}function KD(e){return dr(e)?se(e):e}function QD(e){let t={};return e.forEach(n=>{t=n!=null?y(y({},t),n):t}),Object.keys(t).length===0?null:t}function ZD(e,t){return t.map(n=>n(e))}function jP(e){return!e.validate}function YD(e){return e.map(t=>jP(t)?t:n=>t.validate(n))}function UP(e){if(!e)return null;let t=e.filter(qD);return t.length==0?null:function(n){return QD(ZD(n,t))}}function Wg(e){return e!=null?UP(YD(e)):null}function HP(e){if(!e)return null;let t=e.filter(qD);return t.length==0?null:function(n){let i=ZD(n,t).map(KD);return ch(i).pipe(S(QD))}}function zg(e){return e!=null?HP(YD(e)):null}function LD(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function $P(e){return e._rawValidators}function GP(e){return e._rawAsyncValidators}function $g(e){return e?Array.isArray(e)?e:[e]:[]}function ju(e,t){return Array.isArray(e)?e.includes(t):e===t}function VD(e,t){let n=$g(t);return $g(e).forEach(r=>{ju(n,r)||n.push(r)}),n}function BD(e,t){return $g(t).filter(n=>!ju(e,n))}var Uu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Ao=class extends Uu{name;get formDirective(){return null}get path(){return null}},la=class extends Uu{_parent=null;name=null;valueAccessor=null},Hu=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},WP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},iq=j(y({},WP),{"[class.ng-submitted]":"isSubmitted"}),Ro=(()=>{class e extends Hu{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(N(la,2))};static \u0275dir=Ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&fr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[bn]})}return e})(),zu=(()=>{class e extends Hu{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(N(Ao,10))};static \u0275dir=Ge({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&fr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[bn]})}return e})();var ia="VALID",Bu="INVALID",So="PENDING",ra="DISABLED",No=class{},$u=class extends No{value;source;constructor(t,n){super(),this.value=t,this.source=n}},sa=class extends No{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},aa=class extends No{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Mo=class extends No{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function JD(e){return(qu(e)?e.validators:e)||null}function zP(e){return Array.isArray(e)?Wg(e):e||null}function XD(e,t){return(qu(t)?t.asyncValidators:e)||null}function qP(e){return Array.isArray(e)?zg(e):e||null}function qu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function KP(e,t,n){let i=e.controls;if(!(t?Object.keys(i):i).length)throw new D(1e3,"");if(!i[n])throw new D(1001,"")}function QP(e,t,n){e._forEachChild((i,r)=>{if(n[r]===void 0)throw new D(1002,"")})}var Gu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Dn(this.statusReactive)}set status(t){Dn(()=>this.statusReactive.set(t))}_status=wo(()=>this.statusReactive());statusReactive=mo(void 0);get valid(){return this.status===ia}get invalid(){return this.status===Bu}get pending(){return this.status==So}get disabled(){return this.status===ra}get enabled(){return this.status!==ra}errors;get pristine(){return Dn(this.pristineReactive)}set pristine(t){Dn(()=>this.pristineReactive.set(t))}_pristine=wo(()=>this.pristineReactive());pristineReactive=mo(!0);get dirty(){return!this.pristine}get touched(){return Dn(this.touchedReactive)}set touched(t){Dn(()=>this.touchedReactive.set(t))}_touched=wo(()=>this.touchedReactive());touchedReactive=mo(!1);get untouched(){return!this.touched}_events=new G;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(VD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(VD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(BD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(BD(t,this._rawAsyncValidators))}hasValidator(t){return ju(this._rawValidators,t)}hasAsyncValidator(t){return ju(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(j(y({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new aa(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new aa(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(j(y({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new sa(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new sa(!0,i))}markAsPending(t={}){this.status=So;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Mo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(j(y({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ra,this.errors=null,this._forEachChild(r=>{r.disable(j(y({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new $u(this.value,i)),this._events.next(new Mo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ia,this._forEachChild(i=>{i.enable(j(y({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(j(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ia||this.status===So)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new $u(this.value,n)),this._events.next(new Mo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(j(y({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ra:ia}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=So,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=KD(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Mo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?ra:this.errors?Bu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(So)?So:this._anyControlsHaveStatus(Bu)?Bu:ia}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new sa(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new aa(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){qu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=zP(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=qP(this._rawAsyncValidators)}},Wu=class extends Gu{constructor(t,n,i){super(JD(n),XD(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){QP(this,!0,t),Object.keys(t).forEach(i=>{KP(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var qg=new b("",{providedIn:"root",factory:()=>Kg}),Kg="always";function ZP(e,t){return[...t.path,e]}function eE(e,t,n=Kg){tE(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),JP(e,t),ek(e,t),XP(e,t),YP(e,t)}function jD(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function YP(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function tE(e,t){let n=$P(e);t.validator!==null?e.setValidators(LD(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=GP(e);t.asyncValidator!==null?e.setAsyncValidators(LD(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();jD(t._rawValidators,r),jD(t._rawAsyncValidators,r)}function JP(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&nE(e,t)})}function XP(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&nE(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function nE(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ek(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function tk(e,t){e==null,tE(e,t)}function nk(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function ik(e){return Object.getPrototypeOf(e.constructor)===PP}function rk(e,t){e._syncPendingControls(),t.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ok(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===Si?n=o:ik(o)?i=o:r=o}),r||i||n||null}var sk={provide:Ao,useExisting:wi(()=>ca)},oa=Promise.resolve(),ca=(()=>{class e extends Ao{callSetDisabledState;get submitted(){return Dn(this.submittedReactive)}_submitted=wo(()=>this.submittedReactive());submittedReactive=mo(!1);_directives=new Set;form;ngSubmit=new fe;options;constructor(n,i,r){super(),this.callSetDisabledState=r,this.form=new Wu({},Wg(n),zg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){oa.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),eE(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){oa.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){oa.then(()=>{let i=this._findContainer(n.path),r=new Wu({});tk(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){oa.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){oa.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),rk(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(i){return new(i||e)(N(Gg,10),N(zD,10),N(qg,8))};static \u0275dir=Ge({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&pe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Co([sk]),bn]})}return e})();function UD(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function HD(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var ak=class extends Gu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,i){super(JD(n),XD(i,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(HD(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){UD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){UD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){HD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var lk={provide:la,useExisting:wi(()=>_r)},$D=Promise.resolve(),_r=(()=>{class e extends la{_changeDetectorRef;callSetDisabledState;control=new ak;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new fe;constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ok(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),nk(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){eE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){$D.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&Qs(i);$D.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?ZP(n,this._parent):[n]}static \u0275fac=function(i){return new(i||e)(N(Ao,9),N(Gg,10),N(zD,10),N(WD,10),N(Xn,8),N(qg,8))};static \u0275dir=Ge({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Co([lk]),bn,Qn]})}return e})(),Ku=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ge({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var ck=(()=>{class e{_validator=FD;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):FD,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ge({type:e,features:[Qn]})}return e})();var uk={provide:Gg,useExisting:wi(()=>ua),multi:!0};var ua=(()=>{class e extends ck{required;inputName="required";normalizeInput=Qs;createValidator=n=>BP;enabled(n){return n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=lr(e)))(r||e)}})();static \u0275dir=Ge({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&bo("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Co([uk]),bn]})}return e})();var dk=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=H({type:e});static \u0275inj=U({})}return e})();var iE=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:qg,useValue:n.callSetDisabledState??Kg}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=H({type:e});static \u0275inj=U({imports:[dk]})}return e})();var $="primary",Ea=Symbol("RouteTitle"),em=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Lo(e){return new em(e)}function hk(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function pk(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!In(e[n],t[n]))return!1;return!0}function In(e,t){let n=e?tm(e):void 0,i=t?tm(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!hE(e[r],t[r]))return!1;return!0}function tm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function hE(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function pE(e){return e.length>0?e[e.length-1]:null}function Ni(e){return lh(e)?e:dr(e)?se(Promise.resolve(e)):T(e)}var gk={exact:mE,subset:_E},gE={exact:mk,subset:_k,ignored:()=>!0};function rE(e,t,n){return gk[n.paths](e.root,t.root,n.matrixParams)&&gE[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function mk(e,t){return In(e,t)}function mE(e,t,n){if(!yr(e.segments,t.segments)||!Yu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!mE(e.children[i],t.children[i],n))return!1;return!0}function _k(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>hE(e[n],t[n]))}function _E(e,t,n){return vE(e,t,t.segments,n)}function vE(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!yr(r,n)||t.hasChildren()||!Yu(r,n,i))}else if(e.segments.length===n.length){if(!yr(e.segments,n)||!Yu(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!_E(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!yr(e.segments,r)||!Yu(e.segments,r,i)||!e.children[$]?!1:vE(e.children[$],t,o,i)}}function Yu(e,t,n){return t.every((i,r)=>gE[n](e[r].parameters,i.parameters))}var ri=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ae([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Lo(this.queryParams),this._queryParamMap}toString(){return bk.serialize(this)}},ae=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ju(this)}},vr=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Lo(this.parameters),this._parameterMap}toString(){return bE(this)}};function vk(e,t){return yr(e,t)&&e.every((n,i)=>In(n.parameters,t[i].parameters))}function yr(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function yk(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===$&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==$&&(n=n.concat(t(r,i)))}),n}var Ia=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:()=>new Vo,providedIn:"root"})}return e})(),Vo=class{parse(t){let n=new im(t);return new ri(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${da(t.root,!0)}`,i=Dk(t.queryParams),r=typeof t.fragment=="string"?`#${Ck(t.fragment)}`:"";return`${n}${i}${r}`}},bk=new Vo;function Ju(e){return e.segments.map(t=>bE(t)).join("/")}function da(e,t){if(!e.hasChildren())return Ju(e);if(t){let n=e.children[$]?da(e.children[$],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==$&&i.push(`${r}:${da(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=yk(e,(i,r)=>r===$?[da(e.children[$],!1)]:[`${r}:${da(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[$]!=null?`${Ju(e)}/${n[0]}`:`${Ju(e)}/(${n.join("//")})`}}function yE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qu(e){return yE(e).replace(/%3B/gi,";")}function Ck(e){return encodeURI(e)}function nm(e){return yE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xu(e){return decodeURIComponent(e)}function oE(e){return Xu(e.replace(/\+/g,"%20"))}function bE(e){return`${nm(e.path)}${wk(e.parameters)}`}function wk(e){return Object.entries(e).map(([t,n])=>`;${nm(t)}=${nm(n)}`).join("")}function Dk(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Qu(n)}=${Qu(r)}`).join("&"):`${Qu(n)}=${Qu(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var Ek=/^[^\/()?;#]+/;function Zg(e){let t=e.match(Ek);return t?t[0]:""}var Ik=/^[^\/()?;=#]+/;function Tk(e){let t=e.match(Ik);return t?t[0]:""}var Sk=/^[^=?&#]+/;function Mk(e){let t=e.match(Sk);return t?t[0]:""}var Ak=/^[^&#]+/;function Nk(e){let t=e.match(Ak);return t?t[0]:""}var im=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[$]=new ae(t,n)),i}parseSegment(){let t=Zg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(t),new vr(Xu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=Tk(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Zg(this.remaining);r&&(i=r,this.capture(i))}t[Xu(n)]=Xu(i)}parseQueryParam(t){let n=Mk(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=Nk(this.remaining);s&&(i=s,this.capture(i))}let r=oE(n),o=oE(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Zg(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new D(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=$);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[$]:new ae([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new D(4011,!1)}};function CE(e){return e.segments.length>0?new ae([],{[$]:e}):e}function wE(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=wE(r);if(i===$&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new ae(e.segments,t);return Rk(n)}function Rk(e){if(e.numberOfChildren===1&&e.children[$]){let t=e.children[$];return new ae(e.segments.concat(t.segments),t.children)}return e}function ma(e){return e instanceof ri}function xk(e,t,n=null,i=null){let r=DE(e);return EE(r,t,n,i)}function DE(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new ae(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=CE(i);return t??r}function EE(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return Yg(r,r,r,n,i);let o=Ok(t);if(o.toRoot())return Yg(r,r,new ae([],{}),n,i);let s=Pk(o,r,e),a=s.processChildren?ha(s.segmentGroup,s.index,o.commands):TE(s.segmentGroup,s.index,o.commands);return Yg(r,s.segmentGroup,a,n,i)}function ed(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function _a(e){return typeof e=="object"&&e!=null&&e.outlets}function Yg(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=IE(e,t,n);let a=CE(wE(s));return new ri(a,o,r)}function IE(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=IE(o,t,n)}),new ae(e.segments,i)}var td=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&ed(i[0]))throw new D(4003,!1);let r=i.find(_a);if(r&&r!==pE(i))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ok(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new td(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new td(n,t,i)}var Po=class{segmentGroup;processChildren;index;constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function Pk(e,t,n){if(e.isAbsolute)return new Po(t,!0,0);if(!n)return new Po(t,!1,NaN);if(n.parent===null)return new Po(n,!0,0);let i=ed(e.commands[0])?0:1,r=n.segments.length-1+i;return kk(n,r,e.numberOfDoubleDots)}function kk(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new D(4005,!1);r=i.segments.length}return new Po(i,!1,r-o)}function Fk(e){return _a(e[0])?e[0].outlets:{[$]:e}}function TE(e,t,n){if(e??=new ae([],{}),e.segments.length===0&&e.hasChildren())return ha(e,t,n);let i=Lk(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new ae(e.segments.slice(0,i.pathIndex),{});return o.children[$]=new ae(e.segments.slice(i.pathIndex),e.children),ha(o,0,r)}else return i.match&&r.length===0?new ae(e.segments,{}):i.match&&!e.hasChildren()?rm(e,t,n):i.match?ha(e,0,r):rm(e,t,n)}function ha(e,t,n){if(n.length===0)return new ae(e.segments,{});{let i=Fk(n),r={};if(Object.keys(i).some(o=>o!==$)&&e.children[$]&&e.numberOfChildren===1&&e.children[$].segments.length===0){let o=ha(e.children[$],t,n);return new ae(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=TE(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ae(e.segments,r)}}function Lk(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(_a(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!aE(l,c,s))return o;i+=2}else{if(!aE(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function rm(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(_a(o)){let l=Vk(o.outlets);return new ae(i,l)}if(r===0&&ed(n[0])){let l=e.segments[t];i.push(new vr(l.path,sE(n[0]))),r++;continue}let s=_a(o)?o.outlets[$]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&ed(a)?(i.push(new vr(s,sE(a))),r+=2):(i.push(new vr(s,{})),r++)}return new ae(i,{})}function Vk(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=rm(new ae([],{}),0,i))}),t}function sE(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function aE(e,t,n){return e==n.path&&In(t,n.parameters)}var pa="imperative",je=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(je||{}),Wt=class{id;url;constructor(t,n){this.id=t,this.url=n}},Bo=class extends Wt{type=je.NavigationStart;navigationTrigger;restoredState;constructor(t,n,i="imperative",r=null){super(t,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},oi=class extends Wt{urlAfterRedirects;type=je.NavigationEnd;constructor(t,n,i){super(t,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Dt||{}),nd=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(nd||{}),ii=class extends Wt{reason;code;type=je.NavigationCancel;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mi=class extends Wt{reason;code;type=je.NavigationSkipped;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}},va=class extends Wt{error;target;type=je.NavigationError;constructor(t,n,i,r){super(t,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},id=class extends Wt{urlAfterRedirects;state;type=je.RoutesRecognized;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},om=class extends Wt{urlAfterRedirects;state;type=je.GuardsCheckStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sm=class extends Wt{urlAfterRedirects;state;shouldActivate;type=je.GuardsCheckEnd;constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},am=class extends Wt{urlAfterRedirects;state;type=je.ResolveStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lm=class extends Wt{urlAfterRedirects;state;type=je.ResolveEnd;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cm=class{route;type=je.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},um=class{route;type=je.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dm=class{snapshot;type=je.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fm=class{snapshot;type=je.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hm=class{snapshot;type=je.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pm=class{snapshot;type=je.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rd=class{routerEvent;position;anchor;type=je.Scroll;constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ya=class{},jo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function Bk(e,t){return e.providers&&!e._injector&&(e._injector=ru(e.providers,t,`Route: ${e.path}`)),e._injector??t}function on(e){return e.outlet||$}function jk(e,t){let n=e.filter(i=>on(i)===t);return n.push(...e.filter(i=>on(i)!==t)),n}function Ta(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var gm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ta(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Sa(this.rootInjector)}},Sa=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new gm(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||e)(_(Ee))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),od=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=mm(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=mm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=_m(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return _m(t,this._root).map(n=>n.value)}};function mm(e,t){if(e===t.value)return t;for(let n of t.children){let i=mm(e,n);if(i)return i}return null}function _m(e,t){if(e===t.value)return[t];for(let n of t.children){let i=_m(e,n);if(i.length)return i.unshift(t),i}return[]}var wt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Oo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var sd=class extends od{snapshot;constructor(t,n){super(t),this.snapshot=n,Tm(this,t)}toString(){return this.snapshot.toString()}};function SE(e){let t=Uk(e),n=new Ne([new vr("",{})]),i=new Ne({}),r=new Ne({}),o=new Ne({}),s=new Ne(""),a=new Uo(n,i,o,s,r,$,e,t.root);return a.snapshot=t.root,new sd(new wt(a,[]),t)}function Uk(e){let t={},n={},i={},r="",o=new ko([],t,i,r,n,$,e,null,{});return new ld("",new wt(o,[]))}var Uo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(S(c=>c[Ea]))??T(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(S(t=>Lo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(S(t=>Lo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ad(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:y(y({},t.params),e.params),data:y(y({},t.data),e.data),resolve:y(y(y(y({},e.data),t.data),r?.data),e._resolvedData)}:i={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},r&&AE(r)&&(i.resolve[Ea]=r.title),i}var ko=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ea]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Lo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Lo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ld=class extends od{url;constructor(t,n){super(n),this.url=t,Tm(this,n)}toString(){return ME(this._root)}};function Tm(e,t){t.value._routerState=e,t.children.forEach(n=>Tm(e,n))}function ME(e){let t=e.children.length>0?` { ${e.children.map(ME).join(", ")} } `:"";return`${e.value}${t}`}function Jg(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,In(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),In(t.params,n.params)||e.paramsSubject.next(n.params),pk(t.url,n.url)||e.urlSubject.next(n.url),In(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function vm(e,t){let n=In(e.params,t.params)&&vk(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||vm(e.parent,t.parent))}function AE(e){return typeof e.title=="string"||e.title===null}var Hk=new b(""),Ma=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=$;activateEvents=new fe;deactivateEvents=new fe;attachEvents=new fe;detachEvents=new fe;routerOutletData=pC(void 0);parentContexts=p(Sa);location=p(Yn);changeDetector=p(Xn);inputBinder=p(hd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ym(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Qn]})}return e})(),ym=class e{route;childContexts;parent;outletData;__ngOutletInjector(t){return new e(this.route,this.childContexts,t,this.outletData)}constructor(t,n,i,r){this.route=t,this.childContexts=n,this.parent=i,this.outletData=r}get(t,n){return t===Uo?this.route:t===Sa?this.childContexts:t===Hk?this.outletData:this.parent.get(t,n)}},hd=new b(""),lE=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=qr([i.queryParams,i.params,i.data]).pipe(ce(([o,s,a],l)=>(a=y(y(y({},o),s),a),l===0?T(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=jw(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();function $k(e,t,n){let i=ba(e,t._root,n?n._root:void 0);return new sd(i,t)}function ba(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=Gk(e,t,n);return new wt(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ba(e,a)),s}}let i=Wk(t.value),r=t.children.map(o=>ba(e,o));return new wt(i,r)}}function Gk(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return ba(e,i,r);return ba(e,i)})}function Wk(e){return new Uo(new Ne(e.url),new Ne(e.params),new Ne(e.queryParams),new Ne(e.fragment),new Ne(e.data),e.outlet,e.component,e)}var Ca=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},NE="ngNavigationCancelingError";function cd(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=ma(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=RE(!1,Dt.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function RE(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[NE]=!0,n.cancellationCode=t,n}function zk(e){return xE(e)&&ma(e.url)}function xE(e){return!!e&&e[NE]}var qk=(e,t,n,i)=>S(r=>(new bm(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),bm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Jg(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=Oo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Oo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Oo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=Oo(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new pm(o.value.snapshot))}),t.children.length&&this.forwardEvent(new fm(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(Jg(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jg(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},ud=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Fo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function Kk(e,t,n){let i=e._root,r=t?t._root:null;return fa(i,r,n,[i.value])}function Qk(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function $o(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!cb(e)?e:t.get(e):i}function fa(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Oo(t);return e.children.forEach(s=>{Zk(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ga(a,n.getContext(s),r)),r}function Zk(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Yk(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ud(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fa(e,t,a?a.children:null,i,r):fa(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Fo(a.outlet.component,s))}else s&&ga(t,a,r),r.canActivateChecks.push(new ud(i)),o.component?fa(e,null,a?a.children:null,i,r):fa(e,null,n,i,r);return r}function Yk(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!yr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!yr(e.url,t.url)||!In(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vm(e,t)||!In(e.queryParams,t.queryParams);case"paramsChange":default:return!vm(e,t)}}function ga(e,t,n){let i=Oo(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?ga(s,t.children.getContext(o),n):ga(s,null,n):ga(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Fo(t.outlet.component,r)):n.canDeactivateChecks.push(new Fo(null,r)):n.canDeactivateChecks.push(new Fo(null,r))}function Aa(e){return typeof e=="function"}function Jk(e){return typeof e=="boolean"}function Xk(e){return e&&Aa(e.canLoad)}function eF(e){return e&&Aa(e.canActivate)}function tF(e){return e&&Aa(e.canActivateChild)}function nF(e){return e&&Aa(e.canDeactivate)}function iF(e){return e&&Aa(e.canMatch)}function OE(e){return e instanceof kn||e?.name==="EmptyError"}var Zu=Symbol("INITIAL_VALUE");function Ho(){return ce(e=>qr(e.map(t=>t.pipe(Pt(1),nc(Zu)))).pipe(S(t=>{for(let n of t)if(n!==!0){if(n===Zu)return Zu;if(n===!1||rF(n))return n}return!0}),Se(t=>t!==Zu),Pt(1)))}function rF(e){return ma(e)||e instanceof Ca}function oF(e,t){return be(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?T(j(y({},n),{guardsResult:!0})):sF(s,i,r,e).pipe(be(a=>a&&Jk(a)?aF(i,o,e,t):T(a)),S(a=>j(y({},n),{guardsResult:a})))})}function sF(e,t,n,i){return se(e).pipe(be(r=>fF(r.component,r.route,n,t,i)),Jt(r=>r!==!0,!0))}function aF(e,t,n,i){return se(t).pipe(Fn(r=>pi(cF(r.route.parent,i),lF(r.route,i),dF(e,r.path,n),uF(e,r.route,n))),Jt(r=>r!==!0,!0))}function lF(e,t){return e!==null&&t&&t(new hm(e)),T(!0)}function cF(e,t){return e!==null&&t&&t(new dm(e)),T(!0)}function uF(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return T(!0);let r=i.map(o=>Yl(()=>{let s=Ta(t)??n,a=$o(o,s),l=eF(a)?a.canActivate(t,e):Be(s,()=>a(t,e));return Ni(l).pipe(Jt())}));return T(r).pipe(Ho())}function dF(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Qk(s)).filter(s=>s!==null).map(s=>Yl(()=>{let a=s.guards.map(l=>{let c=Ta(s.node)??n,u=$o(l,c),d=tF(u)?u.canActivateChild(i,e):Be(c,()=>u(i,e));return Ni(d).pipe(Jt())});return T(a).pipe(Ho())}));return T(o).pipe(Ho())}function fF(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return T(!0);let s=o.map(a=>{let l=Ta(t)??r,c=$o(a,l),u=nF(c)?c.canDeactivate(e,t,n,i):Be(l,()=>c(e,t,n,i));return Ni(u).pipe(Jt())});return T(s).pipe(Ho())}function hF(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return T(!0);let o=r.map(s=>{let a=$o(s,e),l=Xk(a)?a.canLoad(t,n):Be(e,()=>a(t,n));return Ni(l)});return T(o).pipe(Ho(),PE(i))}function PE(e){return th(xe(t=>{if(typeof t!="boolean")throw cd(e,t)}),S(t=>t===!0))}function pF(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return T(!0);let o=r.map(s=>{let a=$o(s,e),l=iF(a)?a.canMatch(t,n):Be(e,()=>a(t,n));return Ni(l)});return T(o).pipe(Ho(),PE(i))}var wa=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Da=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function xo(e){return Wr(new wa(e))}function gF(e){return Wr(new D(4e3,!1))}function mF(e){return Wr(RE(!1,Dt.GuardRejected))}var Cm=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return T(i);if(r.numberOfChildren>1||!r.children[$])return gF(`${t.redirectTo}`);r=r.children[$]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:g,title:m}=r,C=Be(o,()=>a({params:h,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:m}));if(C instanceof ri)throw new Da(C);n=C}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new Da(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new ri(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new ae(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new D(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},wm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _F(e,t,n,i,r){let o=kE(e,t,n);return o.matched?(i=Bk(t,i),pF(i,t,n,r).pipe(S(s=>s===!0?o:y({},wm)))):T(o)}function kE(e,t,n){if(t.path==="**")return vF(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?y({},wm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||hk)(n,e,t);if(!r)return y({},wm);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?y(y({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function vF(e){return{matched:!0,parameters:e.length>0?pE(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function cE(e,t,n,i){return n.length>0&&CF(e,n,i)?{segmentGroup:new ae(t,bF(i,new ae(n,e.children))),slicedSegments:[]}:n.length===0&&wF(e,n,i)?{segmentGroup:new ae(e.segments,yF(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new ae(e.segments,e.children),slicedSegments:n}}function yF(e,t,n,i){let r={};for(let o of n)if(pd(e,t,o)&&!i[on(o)]){let s=new ae([],{});r[on(o)]=s}return y(y({},i),r)}function bF(e,t){let n={};n[$]=t;for(let i of e)if(i.path===""&&on(i)!==$){let r=new ae([],{});n[on(i)]=r}return n}function CF(e,t,n){return n.some(i=>pd(e,t,i)&&on(i)!==$)}function wF(e,t,n){return n.some(i=>pd(e,t,i))}function pd(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function DF(e,t,n){return t.length===0&&!e.children[n]}var Dm=class{};function EF(e,t,n,i,r,o,s="emptyOnly"){return new Em(e,t,n,i,r,s,o).recognize()}var IF=31,Em=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Cm(this.urlSerializer,this.urlTree)}noMatchError(t){return new D(4002,`'${t.segmentGroup}'`)}recognize(){let t=cE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(S(({children:n,rootSnapshot:i})=>{let r=new wt(i,n),o=new ld("",r),s=xk(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new ko([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),$,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,$,n).pipe(S(i=>({children:i,rootSnapshot:n})),gi(i=>{if(i instanceof Da)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof wa?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(S(s=>s instanceof wt?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return se(o).pipe(Fn(s=>{let a=i.children[s],l=jk(n,s);return this.processSegmentGroup(t,l,a,s,r)}),Qr((s,a)=>(s.push(...a),s)),mi(null),ph(),be(s=>{if(s===null)return xo(i);let a=FE(s);return TF(a),T(a)}))}processSegment(t,n,i,r,o,s,a){return se(n).pipe(Fn(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,o,s,a).pipe(gi(c=>{if(c instanceof wa)return T(null);throw c}))),Jt(l=>!!l),gi(l=>{if(OE(l))return DF(i,r,o)?T(new Dm):xo(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,l){return on(i)!==s&&(s===$||!pd(r,o,i))?xo(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,l):xo(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=kE(n,r,o);if(!l)return xo(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>IF&&(this.allowRedirects=!1));let h=new ko(o,c,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,uE(r),on(r),r.component??r._loadedComponent??null,r,dE(r)),g=ad(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(r,m).pipe(be(C=>this.processSegment(t,i,n,C.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=_F(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(ce(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(ce(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=l,g=new ko(f,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,uE(i),on(i),i.component??i._loadedComponent??null,i,dE(i)),m=ad(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:C,slicedSegments:x}=cE(n,f,h,c);if(x.length===0&&C.hasChildren())return this.processChildren(u,c,C,g).pipe(S(R=>new wt(g,R)));if(c.length===0&&x.length===0)return T(new wt(g,[]));let de=on(i)===o;return this.processSegment(u,c,C,x,de?$:o,!0,g).pipe(S(R=>new wt(g,R instanceof wt?[R]:[])))}))):xo(n)))}getChildConfig(t,n,i){return n.children?T({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?T({routes:n._loadedRoutes,injector:n._loadedInjector}):hF(t,n,i,this.urlSerializer).pipe(be(r=>r?this.configLoader.loadChildren(t,n).pipe(xe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):mF(n))):T({routes:[],injector:t})}};function TF(e){e.sort((t,n)=>t.value.outlet===$?-1:n.value.outlet===$?1:t.value.outlet.localeCompare(n.value.outlet))}function SF(e){let t=e.value.routeConfig;return t&&t.path===""}function FE(e){let t=[],n=new Set;for(let i of e){if(!SF(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=FE(i.children);t.push(new wt(i.value,r))}return t.filter(i=>!n.has(i))}function uE(e){return e.data||{}}function dE(e){return e.resolve||{}}function MF(e,t,n,i,r,o){return be(s=>EF(e,t,n,i,s.extractedUrl,r,o).pipe(S(({state:a,tree:l})=>j(y({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function AF(e,t){return be(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return T(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of LE(l))s.add(c);let a=0;return se(s).pipe(Fn(l=>o.has(l)?NF(l,i,e,t):(l.data=ad(l,l.parent,e).resolve,T(void 0))),xe(()=>a++),Kr(1),be(l=>a===s.size?T(n):Re))})}function LE(e){let t=e.children.map(n=>LE(n)).flat();return[e,...t]}function NF(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!AE(r)&&(o[Ea]=r.title),RF(o,e,t,i).pipe(S(s=>(e._resolvedData=s,e.data=ad(e,e.parent,n).resolve,null)))}function RF(e,t,n,i){let r=tm(e);if(r.length===0)return T({});let o={};return se(r).pipe(be(s=>xF(e[s],t,n,i).pipe(Jt(),xe(a=>{if(a instanceof Ca)throw cd(new Vo,a);o[s]=a}))),Kr(1),S(()=>o),gi(s=>OE(s)?Re:Wr(s)))}function xF(e,t,n,i){let r=Ta(t)??i,o=$o(e,r),s=o.resolve?o.resolve(t,n):Be(r,()=>o(t,n));return Ni(s)}function Xg(e){return ce(t=>{let n=e(t);return n?se(n).pipe(S(()=>t)):T(t)})}var VE=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===$);return i}getResolvedTitleForRoute(n){return n.data[Ea]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:()=>p(OF),providedIn:"root"})}return e})(),OF=(()=>{class e extends VE{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(_(PD))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Na=new b("",{providedIn:"root",factory:()=>({})}),PF=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=te({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&Y(0,"router-outlet")},dependencies:[Ma],encapsulation:2})}return e})();function Sm(e){let t=e.children&&e.children.map(Sm),n=t?j(y({},e),{children:t}):y({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==$&&(n.component=PF),n}var dd=new b(""),Mm=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=p(gu);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return T(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Ni(n.loadComponent()).pipe(S(BE),xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ln(()=>{this.componentLoaders.delete(n)})),r=new jr(i,()=>new G).pipe(Br());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return T({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=kF(i,this.compiler,n,this.onLoadEndListener).pipe(Ln(()=>{this.childrenLoaders.delete(i)})),s=new jr(o,()=>new G).pipe(Br());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kF(e,t,n,i){return Ni(e.loadChildren()).pipe(S(BE),be(r=>r instanceof Fs||Array.isArray(r)?T(r):se(t.compileModuleAsync(r))),S(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(dd,[],{optional:!0,self:!0}).flat()),{routes:s.map(Sm),injector:o}}))}function FF(e){return e&&typeof e=="object"&&"default"in e}function BE(e){return FF(e)?e.default:e}var Am=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:()=>p(LF),providedIn:"root"})}return e})(),LF=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jE=new b(""),UE=new b("");function VF(e,t,n){let i=e.get(UE),r=e.get(ke);return e.get(P).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),BF(e))),{onViewTransitionCreated:l}=i;return l&&Be(e,()=>l({transition:a,from:t,to:n})),s})}function BF(e){return new Promise(t=>{vo({read:()=>setTimeout(t)},{injector:e})})}var HE=new b(""),Nm=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new G;transitionAbortSubject=new G;configLoader=p(Mm);environmentInjector=p(Ee);destroyRef=p(cr);urlSerializer=p(Ia);rootContexts=p(Sa);location=p(Eo);inputBindingEnabled=p(hd,{optional:!0})!==null;titleStrategy=p(VE);options=p(Na,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=p(Am);createViewTransition=p(jE,{optional:!0});navigationErrorHandler=p(HE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>T(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new cm(r)),i=r=>this.events.next(new um(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(j(y(y({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new Ne({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:pa,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Se(o=>o.id!==0),S(o=>j(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ce(o=>{let s=!1,a=!1;return T(o).pipe(ce(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Dt.SupersededByNewNavigation),Re;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?j(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Mi(l.id,this.urlSerializer.serialize(l.rawUrl),d,nd.IgnoredSameUrlNavigation)),l.resolve(!1),Re}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return T(l).pipe(ce(d=>{let f=this.transitions?.getValue();return this.events.next(new Bo(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Re:Promise.resolve(d)}),MF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=j(y({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new id(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:g,extras:m}=l,C=new Bo(d,this.urlSerializer.serialize(f),h,g);this.events.next(C);let x=SE(this.rootComponentType).snapshot;return this.currentTransition=o=j(y({},l),{targetSnapshot:x,urlAfterRedirects:f,extras:j(y({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,T(o)}else{let d="";return this.events.next(new Mi(l.id,this.urlSerializer.serialize(l.extractedUrl),d,nd.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Re}}),xe(l=>{let c=new om(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),S(l=>(this.currentTransition=o=j(y({},l),{guards:Kk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),oF(this.environmentInjector,l=>this.events.next(l)),xe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw cd(this.urlSerializer,l.guardsResult);let c=new sm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Se(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Dt.GuardRejected),!1)),Xg(l=>{if(l.guards.canActivateChecks.length)return T(l).pipe(xe(c=>{let u=new am(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ce(c=>{let u=!1;return T(c).pipe(AF(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Dt.NoDataFromResolver)}}))}),xe(c=>{let u=new lm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Xg(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(xe(f=>{u.component=f}),S(()=>{})));for(let f of u.children)d.push(...c(f));return d};return qr(c(l.targetSnapshot.root)).pipe(mi(null),Pt(1))}),Xg(()=>this.afterPreactivation()),ce(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?se(u).pipe(S(()=>o)):T(o)}),S(l=>{let c=$k(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=j(y({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),xe(()=>{this.events.next(new ya)}),qk(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Pt(1),xe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ze(this.transitionAbortSubject.pipe(xe(l=>{throw l}))),Ln(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Dt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),gi(l=>{if(this.destroyed)return o.resolve(!1),Re;if(a=!0,xE(l))this.events.next(new ii(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),zk(l)?this.events.next(new jo(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new va(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Ca){let{message:d,cancellationCode:f}=cd(this.urlSerializer,u);this.events.next(new ii(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new jo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Re}))}))}cancelNavigationTransition(n,i,r){let o=new ii(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jF(e){return e!==pa}var UF=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:()=>p(HF),providedIn:"root"})}return e})(),Im=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},HF=(()=>{class e extends Im{static \u0275fac=(()=>{let n;return function(r){return(n||(n=lr(e)))(r||e)}})();static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$E=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:()=>p($F),providedIn:"root"})}return e})(),$F=(()=>{class e extends $E{location=p(Eo);urlSerializer=p(Ia);options=p(Na,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=p(Am);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ri;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=SE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Bo)this.stateMemento=this.createStateMemento();else if(n instanceof Mi)this.rawUrlTree=i.initialUrl;else if(n instanceof id){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else n instanceof ya?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof ii&&(n.code===Dt.GuardRejected||n.code===Dt.NoDataFromResolver)?this.restoreHistory(i):n instanceof va?this.restoreHistory(i,!0):n instanceof oi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=n instanceof ri?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=y(y({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=lr(e)))(r||e)}})();static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function GE(e,t){e.events.pipe(Se(n=>n instanceof oi||n instanceof ii||n instanceof va||n instanceof Mi),S(n=>n instanceof oi||n instanceof Mi?0:(n instanceof ii?n.code===Dt.Redirect||n.code===Dt.SupersededByNewNavigation:!1)?2:1),Se(n=>n!==2),Pt(1)).subscribe(()=>{t()})}var GF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ai=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=p(gg);stateManager=p($E);options=p(Na,{optional:!0})||{};pendingTasks=p(yn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=p(Nm);urlSerializer=p(Ia);location=p(Eo);urlHandlingStrategy=p(Am);_events=new G;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=p(UF);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=p(dd,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!p(hd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new De;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ii&&i.code!==Dt.Redirect&&i.code!==Dt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof oi)this.navigated=!0;else if(i instanceof jo){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=y({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||jF(r.source)},s);this.scheduleNavigation(a,pa,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}qF(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=y({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Sm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=r?r.snapshot:this.routerState.snapshot.root;d=DE(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return EE(d,n,u,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=ma(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,pa,null,i)}navigate(n,i={skipLocationChange:!1}){return zF(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=y({},GF):i===!1?r=y({},WF):r=i,ma(n))return rE(this.currentUrlTree,n,r);let o=this.parseUrl(n);return rE(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return GE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zF(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new D(4008,!1)}function qF(e){return!(e instanceof ya)&&!(e instanceof jo)}var fd=class{};var KF=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Se(n=>n instanceof oi),Fn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=ru(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return se(r).pipe(hi())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=T(null);let o=r.pipe(be(s=>s===null?T(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return se([o,s]).pipe(hi())}else return o})}static \u0275fac=function(i){return new(i||e)(_(Ai),_(gu),_(Ee),_(fd),_(Mm))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),WE=new b(""),QF=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Bo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof oi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Mi&&n.code===nd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){sw()};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();function ZF(e){return e.routerState.root}function Ra(e,t){return{\u0275kind:e,\u0275providers:t}}function YF(){let e=p(oe);return t=>{let n=e.get(Vt);if(t!==n.components[0])return;let i=e.get(Ai),r=e.get(zE);e.get(Rm)===1&&i.initialNavigation(),e.get(qE,null,W.Optional)?.setUpPreloading(),e.get(WE,null,W.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var zE=new b("",{factory:()=>new G}),Rm=new b("",{providedIn:"root",factory:()=>1});function JF(){return Ra(2,[{provide:Rm,useValue:0},{provide:au,multi:!0,deps:[oe],useFactory:t=>{let n=t.get(Qw,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(Ai),o=t.get(zE);GE(r,()=>{i(!0)}),t.get(Nm).afterPreactivation=()=>(i(!0),o.closed?T(void 0):o),r.initialNavigation()}))}}])}function XF(){return Ra(3,[{provide:au,multi:!0,useFactory:()=>{let t=p(Ai);return()=>{t.setUpLocationChangeListener()}}},{provide:Rm,useValue:2}])}var qE=new b("");function eL(e){return Ra(0,[{provide:qE,useExisting:KF},{provide:fd,useExisting:e}])}function tL(){return Ra(8,[lE,{provide:hd,useExisting:lE}])}function nL(e){let t=[{provide:jE,useValue:VF},{provide:UE,useValue:y({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ra(9,t)}var iL=[Eo,{provide:Ia,useClass:Vo},Ai,Sa,{provide:Uo,useFactory:ZF,deps:[Ai]},Mm,[]],xm=(()=>{class e{constructor(){}static forRoot(n,i){return{ngModule:e,providers:[iL,[],{provide:dd,multi:!0,useValue:n},[],i?.errorHandler?{provide:HE,useValue:i.errorHandler}:[],{provide:Na,useValue:i||{}},i?.useHash?oL():sL(),rL(),i?.preloadingStrategy?eL(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?aL(i):[],i?.bindToComponentInputs?tL().\u0275providers:[],i?.enableViewTransitions?nL().\u0275providers:[],lL()]}}static forChild(n){return{ngModule:e,providers:[{provide:dd,multi:!0,useValue:n}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=H({type:e});static \u0275inj=U({})}return e})();function rL(){return{provide:WE,useFactory:()=>{let e=p(oD),t=p(P),n=p(Na),i=p(Nm),r=p(Ia);return n.scrollOffset&&e.setOffset(n.scrollOffset),new QF(r,i,e,t,n)}}}function oL(){return{provide:gr,useClass:Yw}}function sL(){return{provide:gr,useClass:Ag}}function aL(e){return[e.initialNavigation==="disabled"?XF().\u0275providers:[],e.initialNavigation==="enabledBlocking"?JF().\u0275providers:[]]}var fE=new b("");function lL(){return[{provide:fE,useFactory:YF},{provide:lu,multi:!0,useExisting:fE}]}var cL="firebase",uL="11.3.1";We(cL,uL,"app");function zt(e){e===void 0&&(Np(zt),e=p(oe));let t=e.get(eu);return n=>new A(i=>{let r=t.add(),o=!1;function s(){o||(r(),o=!0)}let a=n.subscribe({next:l=>{i.next(l),s()},complete:()=>{i.complete(),s()},error:l=>{i.error(l),s()}});return a.add(()=>{i.unsubscribe(),s()}),a})}var qt=new zn("ANGULARFIRE2_VERSION");function md(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var xa=(e,t)=>{let n=t?[t]:Dl(),i=[];return n.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},sn=class{constructor(){return xa(dL)}},dL="app-check",gd=class{zone;delegate;constructor(t,n=sh){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,i){let r=this.zone,o=function(s){r?r.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,i)}},an=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=p(P);this.outsideAngular=n.runOutsideAngular(()=>new gd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new gd(typeof Zone>"u"?void 0:Zone.current,di))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fL(){return p(an)}var KE=!1;function Pm(e,t){Ks()&&(KE||(KE=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),console.warn(`Firebase API called outside injection context: ${t}(${e.name})`))}function hL(e){let t;try{t=p(P)}catch{Pm(e,"runOutsideAngular")}return t?t.runOutsideAngular(()=>e()):e()}function br(e){let t;try{t=p(P)}catch{Pm(e,"run")}return t?t.run(()=>e()):e()}var pL=(e,t,n)=>(...i)=>(t&&setTimeout(t,0),Be(n,()=>br(()=>e.apply(void 0,i)))),ln=(e,t)=>function(){let n,i=arguments,r,o,s;try{r=fL(),o=p(eu),s=p(oe)}catch{return Pm(e,"\u0275zoneWrap"),e.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(t&&(n||=br(()=>o.add())),i[l]=pL(i[l],n,s));let a=hL(()=>e.apply(this,i));return t?a instanceof A?a.pipe(xt(r.outsideAngular),gt(r.insideAngular),zt(s)):a instanceof Promise?br(()=>new Promise((l,c)=>{o.run(()=>a).then(u=>Be(s,()=>br(()=>l(u))),u=>Be(s,()=>br(()=>c(u))))})):typeof a=="function"&&n?function(){return setTimeout(n,0),a.apply(this,arguments)}:br(()=>a):a instanceof A?a.pipe(xt(r.outsideAngular),gt(r.insideAngular)):br(()=>a)};var si=class{constructor(t){return t}},Cr=class{constructor(){return Dl()}};function gL(e){return e&&e.length===1?e[0]:new si(_s())}var km=new b("angularfire2._apps"),mL={provide:si,useFactory:gL,deps:[[new Qe,km]]},_L={provide:Cr,deps:[[new Qe,km]]};function vL(e){return(t,n)=>{let i=n.get(Ze);We("angularfire",qt.full,"core"),We("angularfire",qt.full,"app"),We("angular",pu.full,i.toString());let r=t.runOutsideAngular(()=>e(n));return new si(r)}}function Fm(e,...t){return vn([mL,_L,{provide:km,useFactory:vL(e),multi:!0,deps:[P,oe,an,...t]}])}var Lm=ln(Vy,!0);var yL=new Map,bL={activated:!1,tokenObservers:[]},CL={initialized:!1,enabled:!1};function cn(e){return yL.get(e)||Object.assign({},bL)}function e1(){return CL}var wL="https://content-firebaseappcheck.googleapis.com/v1";var DL="exchangeDebugToken",ZE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},l6=24*60*60*1e3;var Bm=class{constructor(t,n,i,r,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return Te(this,null,function*(){this.stop();try{this.pending=new Ve,this.pending.promise.catch(n=>{}),yield EL(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ve,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function EL(e){return new Promise(t=>{setTimeout(t,e)})}var IL={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ri=new Ay("appCheck","AppCheck",IL);function t1(e){if(!cn(e).activated)throw Ri.create("use-before-activation",{appName:e.name})}function n1(i,r){return Te(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(e,a)}catch(h){throw Ri.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw Ri.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw Ri.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function i1(e,t){let{projectId:n,appId:i,apiKey:r}=e.options;return{url:`${wL}/projects/${n}/apps/${i}:${DL}?key=${r}`,body:{debug_token:t}}}var TL="firebase-app-check-database",SL=1,jm="firebase-app-check-store";var _d=null;function ML(){return _d||(_d=new Promise((e,t)=>{try{let n=indexedDB.open(TL,SL);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(Ri.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(jm,{keyPath:"compositeKey"})}}}catch(n){t(Ri.create("storage-open",{originalErrorMessage:n?.message}))}}),_d)}function AL(e,t){return NL(RL(e),t)}function NL(e,t){return Te(this,null,function*(){let i=(yield ML()).transaction(jm,"readwrite"),o=i.objectStore(jm).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(Ri.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function RL(e){return`${e.options.appId}-${e.name}`}var Um=new Pr("@firebase/app-check");function Vm(e,t){return My()?AL(e,t).catch(n=>{Um.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function r1(){return e1().enabled}function o1(){return Te(this,null,function*(){let e=e1();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var xL={error:"UNKNOWN_ERROR"};function OL(e){return yl.encodeString(JSON.stringify(e),!1)}function Hm(e,t=!1){return Te(this,null,function*(){let n=e.app;t1(n);let i=cn(n),r=i.token,o;if(r&&!Oa(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(Oa(l)?r=l:yield Vm(n,void 0))}if(!t&&r&&Oa(r))return{token:r.token};let s=!1;if(r1()){i.exchangeTokenPromise||(i.exchangeTokenPromise=n1(i1(n,yield o1()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield Vm(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield cn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Um.warn(l.message):Um.error(l),o=l}let a;return r?o?Oa(r)?a={token:r.token,internalError:o}:a=JE(o):(a={token:r.token},i.token=r,yield Vm(n,r)):a=JE(o),s&&LL(n,a),a})}function PL(e){return Te(this,null,function*(){let t=e.app;t1(t);let{provider:n}=cn(t);if(r1()){let i=yield o1(),{token:r}=yield n1(i1(t,i),e.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function kL(e,t,n,i){let{app:r}=e,o=cn(r),s={next:n,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Oa(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),YE(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>YE(e))}function s1(e,t){let n=cn(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function YE(e){let{app:t}=e,n=cn(t),i=n.tokenRefresher;i||(i=FL(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function FL(e){let{app:t}=e;return new Bm(()=>Te(this,null,function*(){let n=cn(t),i;if(n.token?i=yield Hm(e,!0):i=yield Hm(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=cn(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},ZE.RETRIAL_MIN_WAIT,ZE.RETRIAL_MAX_WAIT)}function LL(e,t){let n=cn(e).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function Oa(e){return e.expireTimeMillis-Date.now()>0}function JE(e){return{token:OL(xL),error:e}}var $m=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=cn(this.app);for(let n of t)s1(this.app,n.next);return Promise.resolve()}};function VL(e,t){return new $m(e,t)}function BL(e){return{getToken:t=>Hm(e,t),getLimitedUseToken:()=>PL(e),addTokenListener:t=>kL(e,"INTERNAL",t),removeTokenListener:t=>s1(e.app,t)}}var jL="@firebase/app-check",UL="0.8.11";var HL="app-check",XE="app-check-internal";function $L(){ms(new On(HL,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return VL(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(XE).initialize()})),ms(new On(XE,e=>{let t=e.getProvider("app-check").getImmediate();return BL(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),We(jL,UL)}$L();var GL=["localhost","0.0.0.0","127.0.0.1"],b6=typeof window<"u"&&GL.includes(window.location.hostname);var WL="firebase",zL="11.3.1";ct.registerVersion(WL,zL,"app-compat");var qL=["ngOnDestroy"],c1=(e,t,n,i={})=>new Proxy(e,{get:(r,o)=>n.runOutsideAngular(()=>{if(e[o])return i?.spy?.get&&i.spy.get(o,e[o]),e[o];if(qL.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,d),d})})})});var vd=class{constructor(t){return t}},Go=new b("angularfire2.app.options"),Wo=new b("angularfire2.app.name");function Pa(e,t,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=ct.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>ct.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;KL("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new vd(s)}var KL=(e,...t)=>{Ks()&&typeof console<"u"&&console[e](...t)},QL={provide:vd,useFactory:Pa,deps:[Go,P,[new Qe,Wo]]},u1=(()=>{class e{static initializeApp(n,i){return{ngModule:e,providers:[{provide:Go,useValue:n},{provide:Wo,useValue:i}]}}constructor(n){ct.registerVersion("angularfire",qt.full,"core"),ct.registerVersion("angularfire",qt.full,"app-compat"),ct.registerVersion("angular",pu.full,n.toString())}static \u0275fac=function(i){return new(i||e)(_(Ze))};static \u0275mod=H({type:e});static \u0275inj=U({providers:[QL]})}return e})();function yd(e,t,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return ZL(r,s)||(l1("error",`${t} was already initialized on the ${n} Firebase App with different settings.${YL?" You may need to reload as Firebase is not HMR aware.":""}`),l1("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}function ZL(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var YL=typeof module<"u"&&!!module.hot,l1=(e,...t)=>{Ks()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var Gm=new b("angularfire2.auth.use-emulator"),Wm=new b("angularfire2.auth.settings"),zm=new b("angularfire2.auth.tenant-id"),qm=new b("angularfire2.auth.langugage-code"),Km=new b("angularfire2.auth.use-device-language"),Qm=new b("angularfire.auth.persistence"),Zm=(e,t,n,i,r,o,s,a)=>yd(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,o,s,a]),rt=(()=>{class e{injector=p(Ee);authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,l,c,u,d,f,h){let g=new G,m=T(void 0).pipe(gt(s.outsideAngular),ce(()=>o.runOutsideAngular(()=>import("./chunk-AMEFCXF5.js"))),S(()=>Pa(n,o,i)),S(C=>Zm(C,o,a,c,u,d,l,f)),tc({bufferSize:1,refCount:!1}));if(Zs(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=T(null);else{m.pipe(Jt()).subscribe();let C=m.pipe(ce(R=>R.getRedirectResult().then(we=>we,()=>null)),zt(this.injector),tc({bufferSize:1,refCount:!1})),x=m.pipe(ce(R=>new A(we=>({unsubscribe:o.runOutsideAngular(()=>R.onAuthStateChanged(Zt=>we.next(Zt),Zt=>we.error(Zt),()=>we.complete()))})))),de=m.pipe(ce(R=>new A(we=>({unsubscribe:o.runOutsideAngular(()=>R.onIdTokenChanged(Zt=>we.next(Zt),Zt=>we.error(Zt),()=>we.complete()))}))));this.authState=C.pipe(ic(x),xt(s.outsideAngular),gt(s.insideAngular)),this.user=C.pipe(ic(de),xt(s.outsideAngular),gt(s.insideAngular)),this.idToken=this.user.pipe(ce(R=>R?se(R.getIdToken()):T(null))),this.idTokenResult=this.user.pipe(ce(R=>R?se(R.getIdTokenResult()):T(null))),this.credential=zi(C,g,this.authState.pipe(Se(R=>!R))).pipe(S(R=>R?.user?R:null),xt(s.outsideAngular),gt(s.insideAngular))}return c1(this,m,o,{spy:{apply:(C,x,de)=>{(C.startsWith("signIn")||C.startsWith("createUser"))&&de.then(R=>g.next(R))}}})}static \u0275fac=function(i){return new(i||e)(_(Go),_(Wo,8),_(Ze),_(P),_(an),_(Gm,8),_(Wm,8),_(zm,8),_(qm,8),_(Km,8),_(Qm,8),_(sn,8))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),d1=(()=>{class e{constructor(){ct.registerVersion("angularfire",qt.full,"auth-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=H({type:e});static \u0275inj=U({providers:[rt]})}return e})();var f1="@firebase/database",h1="1.0.12";var lv="";function cv(e){lv=e}var r_=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ae(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:bl(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var o_=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Rt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var G1=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new r_(t)}}catch{}return new o_},Er=G1("localStorage"),s_=G1("sessionStorage");var Qo=new Pr("@firebase/database"),W1=function(){let e=1;return function(){return e++}}(),z1=function(e){let t=Py(e),n=new Oy;n.update(t);let i=n.digest();return yl.encodeByteArray(i)},rl=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=rl.apply(null,i):typeof i=="object"?t+=Ae(i):t+=i,t+=" "}return t},Ir=null,p1=!0,q1=function(e,t){v(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Qo.logLevel=ky.VERBOSE,Ir=Qo.log.bind(Qo),t&&s_.set("logging_enabled",!0)):typeof e=="function"?Ir=e:(Ir=null,s_.remove("logging_enabled"))},Ue=function(...e){if(p1===!0&&(p1=!1,Ir===null&&s_.get("logging_enabled")===!0&&q1(!0)),Ir){let t=rl.apply(null,e);Ir(t)}},ol=function(e){return function(...t){Ue(e,...t)}},a_=function(...e){let t="FIREBASE INTERNAL ERROR: "+rl(...e);Qo.error(t)},Mn=function(...e){let t=`FIREBASE FATAL ERROR: ${rl(...e)}`;throw Qo.error(t),new Error(t)},Ye=function(...e){let t="FIREBASE WARNING: "+rl(...e);Qo.warn(t)},JL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qd=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},XL=function(e){if(fn()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ki="[MIN_NAME]",ai="[MAX_NAME]",Sr=function(e,t){if(e===t)return 0;if(e===ki||t===ai)return-1;if(t===ki||e===ai)return 1;{let n=g1(e),i=g1(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},eV=function(e,t){return e===t?0:e<t?-1:1},ka=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ae(t))},uv=function(e){if(typeof e!="object"||e===null)return Ae(e);let t=[];for(let i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=Ae(t[i]),n+=":",n+=uv(e[t[i]]);return n+="}",n},K1=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function He(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Q1=function(e){v(!qd(e),"Invalid JSON number");let t=11,n=52,i=(1<<t-1)-1,r,o,s,a,l;e===0?(o=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=a+i,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-i-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},tV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},nV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function iV(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}var rV=new RegExp("^-?(0*)\\d{1,10}$"),oV=-2147483648,sV=2147483647,g1=function(e){if(rV.test(e)){let t=Number(e);if(t>=oV&&t<=sV)return t}return null},rs=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw Ye("Exception was thrown by user callback.",n),t},Math.floor(0))}},aV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ba=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var l_=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Fy(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ye(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var c_=class{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ye(t)}},ja=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Cd="5",Z1="v",Y1="s",J1="r",X1="f",eI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tI="ls",nI="p",u_="ac",iI="websocket",rI="long_polling";var wd=class{constructor(t,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Er.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Er.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function lV(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function oI(e,t,n){v(typeof t=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let i;if(t===iI)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===rI)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);lV(e)&&(n.ns=e.namespace);let r=[];return He(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var d_=class{constructor(){this.counters_={}}incrementCounter(t,n=1){Rt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Ey(this.counters_)}};var Ym={},Jm={};function dv(e){let t=e.toString();return Ym[t]||(Ym[t]=new d_),Ym[t]}function cV(e,t){let n=e.toString();return Jm[n]||(Jm[n]=t()),Jm[n]}var f_=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&rs(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var m1="start",uV="close",dV="pLPCommand",fV="pRTLPCB",sI="id",aI="pw",lI="ser",hV="cb",pV="seg",gV="ts",mV="d",_V="dframe",cI=1870,uI=30,vV=cI-uI,yV=25e3,bV=3e4,Ga=class e{constructor(t,n,i,r,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ol(t),this.stats_=dv(n),this.urlFn=l=>(this.appCheckToken&&(l[u_]=this.appCheckToken),oI(n,rI,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new f_(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(bV)),XL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new h_((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===m1)this.id=a,this.password=l;else if(s===uV)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[m1]="t",i[lI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[hV]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Z1]=Cd,this.transportSessionId&&(i[Y1]=this.transportSessionId),this.lastSessionId&&(i[tI]=this.lastSessionId),this.applicationId&&(i[nI]=this.applicationId),this.appCheckToken&&(i[u_]=this.appCheckToken),typeof location<"u"&&location.hostname&&eI.test(location.hostname)&&(i[J1]=X1);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return fn()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!tV()&&!nV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=Ae(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=Dy(n),r=K1(i,vV);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(fn())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[_V]="t",i[sI]=t,i[aI]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=Ae(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},h_=class e{constructor(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,fn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=W1(),window[dV+this.uniqueCallbackIdentifier]=t,window[fV+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ue("frame writing exception"),a.stack&&Ue(a.stack),Ue(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ue("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[sI]=this.myID,t[aI]=this.myPW,t[lI]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uI+i.length<=cI;){let s=this.pendingSegs.shift();i=i+"&"+pV+r+"="+s.seg+"&"+gV+r+"="+s.ts+"&"+mV+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(yV)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,n){fn()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ue("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var CV=16384,wV=45e3,Dd=null;typeof MozWebSocket<"u"?Dd=MozWebSocket:typeof WebSocket<"u"&&(Dd=WebSocket);var qo=(()=>{class e{constructor(n,i,r,o,s,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ol(this.connId),this.stats_=dv(i),this.connURL=e.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[Z1]=Cd,!fn()&&typeof location<"u"&&location.hostname&&eI.test(location.hostname)&&(a[J1]=X1),i&&(a[Y1]=i),r&&(a[tI]=r),o&&(a[u_]=o),s&&(a[nI]=s),oI(n,iI,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Er.set("previous_websocket_failure",!0);try{let r;if(fn()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Cd}/${lv}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Dd(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Dd!==null&&!e.forceDisallow_}static previouslyFailed(){return Er.isInMemoryStorage||Er.get("previous_websocket_failure")===!0}markConnectionHealthy(){Er.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=bl(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=Ae(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=K1(i,CV);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wV))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),dI=(()=>{class e{static get ALL_TRANSPORTS(){return[Ga,qo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let i=qo&&qo.isAvailable(),r=i&&!qo.previouslyFailed();if(n.webSocketOnly&&(i||Ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[qo];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),DV=6e4,EV=5e3,IV=10*1024,TV=100*1024,Xm="t",_1="d",SV="s",v1="r",MV="e",y1="o",b1="a",C1="n",w1="p",AV="h",p_=class{constructor(t,n,i,r,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ol("c:"+this.id+":"),this.transportManager_=new dI(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ba(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>TV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>IV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Xm in t){let n=t[Xm];n===b1?this.upgradeIfSecondaryHealthy_():n===v1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===y1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=ka("t",t),i=ka("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:w1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:b1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:C1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=ka("t",t),i=ka("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=ka(Xm,t);if(_1 in t){let i=t[_1];if(n===AV){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===C1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===SV?this.onConnectionShutdown_(i):n===v1?this.onReset_(i):n===MV?a_("Server Error: "+i):n===y1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):a_("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Cd!==i&&Ye("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Ba(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(DV))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ba(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(EV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:w1,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Er.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Ed=class{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}};var Id=class{constructor(t){this.allowedEvents_=t,this.listeners_={},v(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});let r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){v(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var Td=class e extends Id{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Vf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return v(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var D1=32,E1=768,re=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function ie(){return new re("")}function q(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Fi(e){return e.pieces_.length-e.pieceNum_}function me(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new re(e.pieces_,t)}function fv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function NV(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Wa(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function fI(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new re(t,0)}function ye(e,t){let n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof re)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{let i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new re(n,0)}function K(e){return e.pieceNum_>=e.pieces_.length}function ot(e,t){let n=q(e),i=q(t);if(n===null)return t;if(n===i)return ot(me(e),me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function RV(e,t){let n=Wa(e,0),i=Wa(t,0);for(let r=0;r<n.length&&r<i.length;r++){let o=Sr(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function hv(e,t){if(Fi(e)!==Fi(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Kt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Fi(e)>Fi(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var g_=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Wa(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=gs(this.parts_[i]);hI(this)}};function xV(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=gs(t),hI(e)}function OV(e){let t=e.parts_.pop();e.byteLength_-=gs(t),e.parts_.length>0&&(e.byteLength_-=1)}function hI(e){if(e.byteLength_>E1)throw new Error(e.errorPrefix_+"has a key path longer than "+E1+" bytes ("+e.byteLength_+").");if(e.parts_.length>D1)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+D1+") or object contains a cycle "+Dr(e))}function Dr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var m_=class e extends Id{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return v(t==="visible","Unknown event type: "+t),[this.visible_]}};var Fa=1e3,PV=60*5*1e3,I1=30*1e3,kV=1.3,FV=3e4,LV="server_kill",T1=3,pv=(()=>{class e extends Ed{constructor(n,i,r,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=ol("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fa,this.maxReconnectDelay_=PV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!fn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");m_.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Td.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(Ae(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new Ve,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&Rt(n,"w")){let r=ui(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();Ye(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Ry(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=I1)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=Ny(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ae(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):a_("Unrecognized action received from server: "+Ae(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Fa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>FV&&(this.reconnectDelay_=Fa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*kV)}this.onConnectStatus_(!1)}establishConnection_(){return Te(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(f){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new p_(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,g=>{Ye(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(LV)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Ye(f),c())}}})}interrupt(n){Ue("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ue("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Cl(this.interruptReasons_)&&(this.reconnectDelay_=Fa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>uv(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new re(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Ue("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=T1&&(this.reconnectDelay_=I1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Ue("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=T1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";fn()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+lv.replace(/\./g,"-")]=1,Vf()?n["framework.cordova"]=1:Sy()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Td.getInstance().currentlyOnline();return Cl(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),Z=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var Zo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let i=new Z(ki,t),r=new Z(ki,n);return this.compare(i,r)!==0}minPost(){return Z.MIN}};var bd,Sd=class extends Zo{static get __EMPTY_NODE(){return bd}static set __EMPTY_NODE(t){bd=t}compare(t,n){return Sr(t.name,n.name)}isDefinedOn(t){throw Or("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Z.MIN}maxPost(){return new Z(ai,bd)}makePost(t,n){return v(typeof t=="string","KeyIndex indexValue must always be a string."),new Z(t,bd)}toString(){return".key"}},Sn=new Sd;var Ko=class{constructor(t,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,r&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},un=(()=>{class e{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??e.RED,this.left=o??Qt.EMPTY_NODE,this.right=s??Qt.EMPTY_NODE}copy(n,i,r,o,s){return new e(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return Qt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),__=class{copy(t,n,i,r,o){return this}insert(t,n,i){return new un(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Qt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,un.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,un.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ko(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ko(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ko(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ko(this.root_,null,this.comparator_,!0,t)}};Qt.EMPTY_NODE=new __;function VV(e,t){return Sr(e.name,t.name)}function gv(e,t){return Sr(e,t)}var v_;function BV(e){v_=e}var pI=function(e){return typeof e=="number"?"number:"+Q1(e):"string:"+e},gI=function(e){if(e.isLeafNode()){let t=e.val();v(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Rt(t,".sv"),"Priority must be a string or number.")}else v(e===v_||e.isEmpty(),"priority of unexpected type.");v(e===v_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var S1,Yo=(()=>{class e{static set __childrenNodeConstructor(n){S1=n}static get __childrenNodeConstructor(){return S1}constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gI(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return K(n)?this:q(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=q(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(v(r!==".priority"||Fi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+pI(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=Q1(this.value_):n+=this.value_,this.lazyHash_=z1(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return v(o>=0,"Unknown leaf type: "+i),v(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),mI,_I;function jV(e){mI=e}function UV(e){_I=e}var y_=class extends Zo{compare(t,n){let i=t.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Sr(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(ai,new Yo("[PRIORITY-POST]",_I))}makePost(t,n){let i=mI(t);return new Z(n,new Yo("[PRIORITY-POST]",i))}toString(){return".priority"}},ve=new y_;var HV=Math.log(2),b_=class{constructor(t){let n=o=>parseInt(Math.log(o)/HV,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},Md=function(e,t,n,i){e.sort(t);let r=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=e[l],f=n?n(d):d,new un(f,d.node,un.BLACK,null,null);{let h=parseInt(u/2,10)+l,g=r(l,h),m=r(h+1,c);return d=e[h],f=n?n(d):d,new un(f,d.node,un.BLACK,g,m)}},o=function(l){let c=null,u=null,d=e.length,f=function(g,m){let C=d-g,x=d;d-=g;let de=r(C+1,x),R=e[C],we=n?n(R):R;h(new un(we,R.node,m,null,de))},h=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){let m=l.nextBitIsOne(),C=Math.pow(2,l.count-(g+1));m?f(C,un.BLACK):(f(C,un.BLACK),f(C,un.RED))}return u},s=new b_(e.length),a=o(s);return new Qt(i||t,a)};var e_,zo={},Jo=class e{static get Default(){return v(zo&&ve,"ChildrenNode.ts has not been loaded"),e_=e_||new e({".priority":zo},{".priority":ve}),e_}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=ui(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Qt?n:null}hasIndex(t){return Rt(this.indexSet_,t.toString())}addIndex(t,n){v(t!==Sn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(Z.Wrap),s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=Md(i,t.getCompare()):a=zo;let l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let i=ps(this.indexes_,(r,o)=>{let s=ui(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),r===zo)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(Z.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),Md(a,s.getCompare())}else return zo;else{let a=n.get(t.name),l=r;return a&&(l=l.remove(new Z(t.name,a))),l.insert(t,t.node)}});return new e(i,this.indexSet_)}removeFromIndexes(t,n){let i=ps(this.indexes_,r=>{if(r===zo)return r;{let o=n.get(t.name);return o?r.remove(new Z(t.name,o)):r}});return new e(i,this.indexSet_)}};var La,B=(()=>{class e{static get EMPTY_NODE(){return La||(La=new e(new Qt(gv),null,Jo.Default))}constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&gI(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||La}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?La:i}}getChild(n){let i=q(n);return i===null?this:this.getImmediateChild(i).getChild(me(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(v(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new Z(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?La:this.priorityNode_;return new e(o,a,s)}}updateChild(n,i){let r=q(n);if(r===null)return i;{v(q(n)!==".priority"||Fi(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(me(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(ve,(a,l)=>{i[a]=l.val(n),r++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+pI(this.getPriority().val())+":"),this.forEachChild(ve,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":z1(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new Z(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new Z(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new Z(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Z.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Z.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===sl?-1:0}withIndex(n){if(n===Sn||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Sn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(ve),o=i.getIterator(ve),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Sn?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),C_=class extends B{constructor(){super(new Qt(gv),B.EMPTY_NODE,Jo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return B.EMPTY_NODE}isEmpty(){return!1}},sl=new C_;Object.defineProperties(Z,{MIN:{value:new Z(ki,B.EMPTY_NODE)},MAX:{value:new Z(ai,sl)}});Sd.__EMPTY_NODE=B.EMPTY_NODE;Yo.__childrenNodeConstructor=B;BV(sl);UV(sl);var $V=!0;function Ce(e,t=null){if(e===null)return B.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),v(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new Yo(n,Ce(t))}if(!(e instanceof Array)&&$V){let n=[],i=!1;if(He(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=Ce(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new Z(s,l)))}}),n.length===0)return B.EMPTY_NODE;let o=Md(n,VV,s=>s.name,gv);if(i){let s=Md(n,ve.getCompare());return new B(o,Ce(t),new Jo({".priority":s},{".priority":ve}))}else return new B(o,Ce(t),Jo.Default)}else{let n=B.EMPTY_NODE;return He(e,(i,r)=>{if(Rt(e,i)&&i.substring(0,1)!=="."){let o=Ce(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Ce(t))}}jV(Ce);var za=class extends Zo{constructor(t){super(),this.indexPath_=t,v(!K(t)&&q(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let i=this.extractChild(t.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Sr(t.name,n.name):o}makePost(t,n){let i=Ce(t),r=B.EMPTY_NODE.updateChild(this.indexPath_,i);return new Z(n,r)}maxPost(){let t=B.EMPTY_NODE.updateChild(this.indexPath_,sl);return new Z(ai,t)}toString(){return Wa(this.indexPath_,0).join("/")}};var w_=class extends Zo{compare(t,n){let i=t.node.compareTo(n.node);return i===0?Sr(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(t,n){let i=Ce(t);return new Z(n,i)}toString(){return".value"}},mv=new w_;function vI(e){return{type:"value",snapshotNode:e}}function Xo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function qa(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ka(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function GV(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Qa=class{constructor(t){this.index_=t}updateChild(t,n,i,r,o,s){v(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(n)?s.trackChildChange(qa(n,a)):v(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Xo(n,i)):s.trackChildChange(Ka(n,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(ve,(r,o)=>{n.hasChild(r)||i.trackChildChange(qa(r,o))}),n.isLeafNode()||n.forEachChild(ve,(r,o)=>{if(t.hasChild(r)){let s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(Ka(r,o,s))}else i.trackChildChange(Xo(r,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?B.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Ad=class e{constructor(t){this.indexedFilter_=new Qa(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,r,o,s){return this.matches(new Z(n,i))||(i=B.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,o,s)}updateFullNode(t,n,i){n.isLeafNode()&&(n=B.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(B.EMPTY_NODE);let o=this;return n.forEachChild(ve,(s,a)=>{o.matches(new Z(s,a))||(r=r.updateImmediateChild(s,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var D_=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ad(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,r,o,s){return this.rangedFilter_.matches(new Z(n,i))||(i=B.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,o,s):this.fullLimitUpdateChild_(t,n,i,o,s)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=B.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(B.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;v(a.numChildren()===this.limit_,"");let l=new Z(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=r.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!i.isEmpty()&&h>=0)return o?.trackChildChange(Ka(n,i,d)),a.updateImmediateChild(n,i);{o?.trackChildChange(qa(n,d));let m=a.updateImmediateChild(n,B.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Xo(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return i.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(qa(c.name,c.node)),o.trackChildChange(Xo(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,B.EMPTY_NODE)):t}};var Za=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ki}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ai}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ve}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function WV(e){return e.loadsAllData()?new Qa(e.getIndex()):e.hasLimit()?new D_(e):new Ad(e)}function zV(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function qV(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function E_(e,t,n){let i=e.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function KV(e,t,n){let i;return e.index_===Sn||n?i=E_(e,t,n):i=E_(e,t,ai),i.startAfterSet_=!0,i}function I_(e,t,n){let i=e.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function QV(e,t,n){let i;return e.index_===Sn||n?i=I_(e,t,n):i=I_(e,t,ki),i.endBeforeSet_=!0,i}function Kd(e,t){let n=e.copy();return n.index_=t,n}function M1(e){let t={};if(e.isDefault())return t;let n;if(e.index_===ve?n="$priority":e.index_===mv?n="$value":e.index_===Sn?n="$key":(v(e.index_ instanceof za,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ae(n),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";t[i]=Ae(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+Ae(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";t[i]=Ae(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+Ae(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function A1(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ve&&(t.i=e.index_.toString()),t}var T_=class e extends Ed{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(v(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ol("p:rest:"),this.listens_={}}listen(t,n,i,r){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,i),a={};this.listens_[s]=a;let l=M1(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),ui(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",r(f,null)}})}unlisten(t,n){let i=e.getListenId_(t,n);delete this.listens_[i]}get(t){let n=M1(t._queryParams),i=t._path.toString(),r=new Ve;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+xy(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=bl(a.responseText)}catch{Ye("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Ye("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var S_=class{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function Nd(){return{value:null,children:new Map}}function os(e,t,n){if(K(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let i=q(t);e.children.has(i)||e.children.set(i,Nd());let r=e.children.get(i);t=me(t),os(r,t,n)}}function M_(e,t){if(K(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let n=e.value;return e.value=null,n.forEachChild(ve,(i,r)=>{os(e,new re(i),r)}),M_(e,t)}}else if(e.children.size>0){let n=q(t);return t=me(t),e.children.has(n)&&M_(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function A_(e,t,n){e.value!==null?n(t,e.value):ZV(e,(i,r)=>{let o=new re(t.toString()+"/"+i);A_(r,o,n)})}function ZV(e,t){e.children.forEach((n,i)=>{t(i,n)})}var N_=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&He(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}};var N1=10*1e3,YV=30*1e3,JV=5*60*1e3,R_=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new N_(t);let i=N1+(YV-N1)*Math.random();Ba(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),n={},i=!1;He(t,(r,o)=>{o>0&&Rt(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Ba(this.reportStats_.bind(this),Math.floor(Math.random()*2*JV))}};var Tn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Tn||{});function _v(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function yv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var x_=class e{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Tn.ACK_USER_WRITE,this.source=_v()}operationForChild(t){if(K(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new re(t));return new e(ie(),n,this.revert)}}else return v(q(this.path)===t,"operationForChild called for unrelated child."),new e(me(this.path),this.affectedTree,this.revert)}};var Rd=class e{constructor(t,n){this.source=t,this.path=n,this.type=Tn.LISTEN_COMPLETE}operationForChild(t){return K(this.path)?new e(this.source,ie()):new e(this.source,me(this.path))}};var es=class e{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Tn.OVERWRITE}operationForChild(t){return K(this.path)?new e(this.source,ie(),this.snap.getImmediateChild(t)):new e(this.source,me(this.path),this.snap)}};var Ya=class e{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Tn.MERGE}operationForChild(t){if(K(this.path)){let n=this.children.subtree(new re(t));return n.isEmpty()?null:n.value?new es(this.source,ie(),n.value):new e(this.source,ie(),n)}else return v(q(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var An=class{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(K(t))return this.isFullyInitialized()&&!this.filtered_;let n=q(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var O_=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function XV(e,t,n,i){let r=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(GV(s.childName,s.snapshotNode))}),Va(e,r,"child_removed",t,i,n),Va(e,r,"child_added",t,i,n),Va(e,r,"child_moved",o,i,n),Va(e,r,"child_changed",t,i,n),Va(e,r,"value",t,i,n),r}function Va(e,t,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,l)=>t2(e,a,l)),s.forEach(a=>{let l=e2(e,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function e2(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function t2(e,t,n){if(t.childName==null||n.childName==null)throw Or("Should only compare child_ events.");let i=new Z(t.childName,t.snapshotNode),r=new Z(n.childName,n.snapshotNode);return e.index_.compare(i,r)}function Qd(e,t){return{eventCache:e,serverCache:t}}function Ua(e,t,n,i){return Qd(new An(t,n,i),e.serverCache)}function yI(e,t,n,i){return Qd(e.eventCache,new An(t,n,i))}function xd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Tr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var t_,n2=()=>(t_||(t_=new Qt(eV)),t_),st=class e{static fromObject(t){let n=new e(null);return He(t,(i,r)=>{n=n.set(new re(i),r)}),n}constructor(t,n=n2()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ie(),value:this.value};if(K(t))return null;{let i=q(t),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(me(t),n);return o!=null?{path:ye(new re(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(K(t))return this;{let n=q(t),i=this.children.get(n);return i!==null?i.subtree(me(t)):new e(null)}}set(t,n){if(K(t))return new e(n,this.children);{let i=q(t),o=(this.children.get(i)||new e(null)).set(me(t),n),s=this.children.insert(i,o);return new e(this.value,s)}}remove(t){if(K(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=q(t),i=this.children.get(n);if(i){let r=i.remove(me(t)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(K(t))return this.value;{let n=q(t),i=this.children.get(n);return i?i.get(me(t)):null}}setTree(t,n){if(K(t))return n;{let i=q(t),o=(this.children.get(i)||new e(null)).setTree(me(t),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new e(this.value,s)}}fold(t){return this.fold_(ie(),t)}fold_(t,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ye(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,ie(),n)}findOnPath_(t,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(K(t))return null;{let o=q(t),s=this.children.get(o);return s?s.findOnPath_(me(t),ye(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ie(),n)}foreachOnPath_(t,n,i){if(K(t))return this;{this.value&&i(n,this.value);let r=q(t),o=this.children.get(r);return o?o.foreachOnPath_(me(t),ye(n,r),i):new e(null)}}foreach(t){this.foreach_(ie(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(ye(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}};var dn=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new st(null))}};function Ha(e,t,n){if(K(t))return new dn(new st(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){let r=i.path,o=i.value,s=ot(r,t);return o=o.updateChild(s,n),new dn(e.writeTree_.set(r,o))}else{let r=new st(n),o=e.writeTree_.setTree(t,r);return new dn(o)}}}function P_(e,t,n){let i=e;return He(n,(r,o)=>{i=Ha(i,ye(t,r),o)}),i}function R1(e,t){if(K(t))return dn.empty();{let n=e.writeTree_.setTree(t,new st(null));return new dn(n)}}function k_(e,t){return Mr(e,t)!=null}function Mr(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ot(n.path,t)):null}function x1(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ve,(i,r)=>{t.push(new Z(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new Z(i,r.value))}),t}function Oi(e,t){if(K(t))return e;{let n=Mr(e,t);return n!=null?new dn(new st(n)):new dn(e.writeTree_.subtree(t))}}function F_(e){return e.writeTree_.isEmpty()}function ts(e,t){return bI(ie(),e.writeTree_,t)}function bI(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=bI(ye(e,r),o,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(ye(e,".priority"),i)),n}}function Zd(e,t){return EI(t,e)}function i2(e,t,n,i,r){v(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Ha(e.visibleWrites,t,n)),e.lastWriteId=i}function r2(e,t,n,i){v(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=P_(e.visibleWrites,t,n),e.lastWriteId=i}function o2(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}function s2(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);v(n>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&a2(a,i.path)?r=!1:Kt(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return l2(e),!0;if(i.snap)e.visibleWrites=R1(e.visibleWrites,i.path);else{let a=i.children;He(a,l=>{e.visibleWrites=R1(e.visibleWrites,ye(i.path,l))})}return!0}else return!1}function a2(e,t){if(e.snap)return Kt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&Kt(ye(e.path,n),t))return!0;return!1}function l2(e){e.visibleWrites=CI(e.allWrites,c2,ie()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function c2(e){return e.visible}function CI(e,t,n){let i=dn.empty();for(let r=0;r<e.length;++r){let o=e[r];if(t(o)){let s=o.path,a;if(o.snap)Kt(n,s)?(a=ot(n,s),i=Ha(i,a,o.snap)):Kt(s,n)&&(a=ot(s,n),i=Ha(i,ie(),o.snap.getChild(a)));else if(o.children){if(Kt(n,s))a=ot(n,s),i=P_(i,a,o.children);else if(Kt(s,n))if(a=ot(s,n),K(a))i=P_(i,ie(),o.children);else{let l=ui(o.children,q(a));if(l){let c=l.getChild(me(a));i=Ha(i,ie(),c)}}}else throw Or("WriteRecord should have .snap or .children")}}return i}function wI(e,t,n,i,r){if(!i&&!r){let o=Mr(e.visibleWrites,t);if(o!=null)return o;{let s=Oi(e.visibleWrites,t);if(F_(s))return n;if(n==null&&!k_(s,ie()))return null;{let a=n||B.EMPTY_NODE;return ts(s,a)}}}else{let o=Oi(e.visibleWrites,t);if(!r&&F_(o))return n;if(!r&&n==null&&!k_(o,ie()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(Kt(c.path,t)||Kt(t,c.path))},a=CI(e.allWrites,s,t),l=n||B.EMPTY_NODE;return ts(a,l)}}}function u2(e,t,n){let i=B.EMPTY_NODE,r=Mr(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ve,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=Oi(e.visibleWrites,t);return n.forEachChild(ve,(s,a)=>{let l=ts(Oi(o,new re(s)),a);i=i.updateImmediateChild(s,l)}),x1(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=Oi(e.visibleWrites,t);return x1(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function d2(e,t,n,i,r){v(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=ye(t,n);if(k_(e.visibleWrites,o))return null;{let s=Oi(e.visibleWrites,o);return F_(s)?r.getChild(n):ts(s,r.getChild(n))}}function f2(e,t,n,i){let r=ye(t,n),o=Mr(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=Oi(e.visibleWrites,r);return ts(s,i.getNode().getImmediateChild(n))}else return null}function h2(e,t){return Mr(e.visibleWrites,t)}function p2(e,t,n,i,r,o,s){let a,l=Oi(e.visibleWrites,t),c=Mr(l,ie());if(c!=null)a=c;else if(n!=null)a=ts(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),h=f.getNext();for(;h&&u.length<r;)d(h,i)!==0&&u.push(h),h=f.getNext();return u}else return[]}function g2(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function Od(e,t,n,i){return wI(e.writeTree,e.treePath,t,n,i)}function bv(e,t){return u2(e.writeTree,e.treePath,t)}function O1(e,t,n,i){return d2(e.writeTree,e.treePath,t,n,i)}function Pd(e,t){return h2(e.writeTree,ye(e.treePath,t))}function m2(e,t,n,i,r,o){return p2(e.writeTree,e.treePath,t,n,i,r,o)}function Cv(e,t,n){return f2(e.writeTree,e.treePath,t,n)}function DI(e,t){return EI(ye(e.treePath,t),e.writeTree)}function EI(e,t){return{treePath:e,writeTree:t}}var L_=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,i=t.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Ka(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,qa(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Xo(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Ka(i,t.snapshotNode,r.oldSnap));else throw Or("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var V_=class{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}},II=new V_,Ja=class{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new An(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cv(this.writes_,t,i)}}getChildAfterChild(t,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Tr(this.viewCache_),o=m2(this.writes_,r,n,1,i,t);return o.length===0?null:o[0]}};function _2(e){return{filter:e}}function v2(e,t){v(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),v(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function y2(e,t,n,i,r){let o=new L_,s,a;if(n.type===Tn.OVERWRITE){let c=n;c.source.fromUser?s=B_(e,t,c.path,c.snap,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!K(c.path),s=kd(e,t,c.path,c.snap,i,r,a,o))}else if(n.type===Tn.MERGE){let c=n;c.source.fromUser?s=C2(e,t,c.path,c.children,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=j_(e,t,c.path,c.children,i,r,a,o))}else if(n.type===Tn.ACK_USER_WRITE){let c=n;c.revert?s=E2(e,t,c.path,i,r,o):s=w2(e,t,c.path,c.affectedTree,i,r,o)}else if(n.type===Tn.LISTEN_COMPLETE)s=D2(e,t,n.path,i,o);else throw Or("Unknown operation type: "+n.type);let l=o.getChanges();return b2(t,s,l),{viewCache:s,changes:l}}function b2(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=xd(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(vI(xd(t)))}}function TI(e,t,n,i,r,o){let s=t.eventCache;if(Pd(i,n)!=null)return t;{let a,l;if(K(n))if(v(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=Tr(t),u=c instanceof B?c:B.EMPTY_NODE,d=bv(i,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=Od(i,Tr(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=q(n);if(c===".priority"){v(Fi(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=O1(i,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=me(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let f=O1(i,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=Cv(i,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return Ua(t,a,s.isFullyInitialized()||K(n),e.filter.filtersNodes())}}function kd(e,t,n,i,r,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(K(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),h,null)}else{let h=q(n);if(!l.isCompleteForPath(n)&&Fi(n)>1)return t;let g=me(n),C=l.getNode().getImmediateChild(h).updateChild(g,i);h===".priority"?c=u.updatePriority(l.getNode(),C):c=u.updateChild(l.getNode(),h,C,g,II,null)}let d=yI(t,c,l.isFullyInitialized()||K(n),u.filtersNodes()),f=new Ja(r,d,o);return TI(e,d,n,r,f,a)}function B_(e,t,n,i,r,o,s){let a=t.eventCache,l,c,u=new Ja(r,t,o);if(K(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,s),l=Ua(t,c,!0,e.filter.filtersNodes());else{let d=q(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),l=Ua(t,c,a.isFullyInitialized(),a.isFiltered());else{let f=me(n),h=a.getNode().getImmediateChild(d),g;if(K(f))g=i;else{let m=u.getCompleteChild(d);m!=null?fv(f)===".priority"&&m.getChild(fI(f)).isEmpty()?g=m:g=m.updateChild(f,i):g=B.EMPTY_NODE}if(h.equals(g))l=t;else{let m=e.filter.updateChild(a.getNode(),d,g,f,u,s);l=Ua(t,m,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function P1(e,t){return e.eventCache.isCompleteForChild(t)}function C2(e,t,n,i,r,o,s){let a=t;return i.foreach((l,c)=>{let u=ye(n,l);P1(t,q(u))&&(a=B_(e,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=ye(n,l);P1(t,q(u))||(a=B_(e,a,u,c,r,o,s))}),a}function k1(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function j_(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;K(n)?c=i:c=new st(null).setTree(n,i);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),g=k1(e,h,f);l=kd(e,l,new re(d),g,r,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let g=t.serverCache.getNode().getImmediateChild(d),m=k1(e,g,f);l=kd(e,l,new re(d),m,r,o,s,a)}}),l}function w2(e,t,n,i,r,o,s){if(Pd(r,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(K(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return kd(e,t,n,l.getNode().getChild(n),r,o,a,s);if(K(n)){let c=new st(null);return l.getNode().forEachChild(Sn,(u,d)=>{c=c.set(new re(u),d)}),j_(e,t,n,c,r,o,a,s)}else return t}else{let c=new st(null);return i.foreach((u,d)=>{let f=ye(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),j_(e,t,n,c,r,o,a,s)}}function D2(e,t,n,i,r){let o=t.serverCache,s=yI(t,o.getNode(),o.isFullyInitialized()||K(n),o.isFiltered());return TI(e,s,n,i,II,r)}function E2(e,t,n,i,r,o){let s;if(Pd(i,n)!=null)return t;{let a=new Ja(i,t,r),l=t.eventCache.getNode(),c;if(K(n)||q(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Od(i,Tr(t));else{let d=t.serverCache.getNode();v(d instanceof B,"serverChildren would be complete if leaf node"),u=bv(i,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=q(n),d=Cv(i,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,me(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,B.EMPTY_NODE,me(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Od(i,Tr(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||Pd(i,ie())!=null,Ua(t,c,s,e.filter.filtersNodes())}}var U_=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Qa(i.getIndex()),o=WV(i);this.processor_=_2(o);let s=n.serverCache,a=n.eventCache,l=r.updateFullNode(B.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(B.EMPTY_NODE,a.getNode(),null),u=new An(l,s.isFullyInitialized(),r.filtersNodes()),d=new An(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Qd(d,u),this.eventGenerator_=new O_(this.query_)}get query(){return this.query_}};function I2(e){return e.viewCache_.serverCache.getNode()}function T2(e){return xd(e.viewCache_)}function S2(e,t){let n=Tr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!K(t)&&!n.getImmediateChild(q(t)).isEmpty())?n.getChild(t):null}function F1(e){return e.eventRegistrations_.length===0}function M2(e,t){e.eventRegistrations_.push(t)}function L1(e,t,n){let i=[];if(n){v(t==null,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))r.push(s);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function V1(e,t,n,i){t.type===Tn.MERGE&&t.source.queryId!==null&&(v(Tr(e.viewCache_),"We should always have a full cache before handling merges"),v(xd(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,o=y2(e.processor_,r,t,n,i);return v2(e.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,SI(e,o.changes,o.viewCache.eventCache.getNode(),null)}function A2(e,t){let n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ve,(o,s)=>{i.push(Xo(o,s))}),n.isFullyInitialized()&&i.push(vI(n.getNode())),SI(e,i,n.getNode(),t)}function SI(e,t,n,i){let r=i?[i]:e.eventRegistrations_;return XV(e.eventGenerator_,t,n,r)}var Fd,Ld=class{constructor(){this.views=new Map}};function N2(e){v(!Fd,"__referenceConstructor has already been defined"),Fd=e}function R2(){return v(Fd,"Reference.ts has not been loaded"),Fd}function x2(e){return e.views.size===0}function wv(e,t,n,i){let r=t.source.queryId;if(r!==null){let o=e.views.get(r);return v(o!=null,"SyncTree gave us an op for an invalid query."),V1(o,t,n,i)}else{let o=[];for(let s of e.views.values())o=o.concat(V1(s,t,n,i));return o}}function MI(e,t,n,i,r){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=Od(n,r?i:null),l=!1;a?l=!0:i instanceof B?(a=bv(n,i),l=!1):(a=B.EMPTY_NODE,l=!1);let c=Qd(new An(a,l,!1),new An(i,r,!1));return new U_(t,c)}return s}function O2(e,t,n,i,r,o){let s=MI(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),M2(s,n),A2(s,n)}function P2(e,t,n,i){let r=t._queryIdentifier,o=[],s=[],a=Li(e);if(r==="default")for(let[l,c]of e.views.entries())s=s.concat(L1(c,n,i)),F1(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(r);l&&(s=s.concat(L1(l,n,i)),F1(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Li(e)&&o.push(new(R2())(t._repo,t._path)),{removed:o,events:s}}function AI(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Pi(e,t){let n=null;for(let i of e.views.values())n=n||S2(i,t);return n}function NI(e,t){if(t._queryParams.loadsAllData())return Yd(e);{let i=t._queryIdentifier;return e.views.get(i)}}function RI(e,t){return NI(e,t)!=null}function Li(e){return Yd(e)!=null}function Yd(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Vd;function k2(e){v(!Vd,"__referenceConstructor has already been defined"),Vd=e}function F2(){return v(Vd,"Reference.ts has not been loaded"),Vd}var L2=1,Bd=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new st(null),this.pendingWriteTree_=g2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Dv(e,t,n,i,r){return i2(e.pendingWriteTree_,t,n,i,r),r?ss(e,new es(_v(),t,n)):[]}function V2(e,t,n,i){r2(e.pendingWriteTree_,t,n,i);let r=st.fromObject(n);return ss(e,new Ya(_v(),t,r))}function xi(e,t,n=!1){let i=o2(e.pendingWriteTree_,t);if(s2(e.pendingWriteTree_,t)){let o=new st(null);return i.snap!=null?o=o.set(ie(),!0):He(i.children,s=>{o=o.set(new re(s),!0)}),ss(e,new x_(i.path,o,n))}else return[]}function al(e,t,n){return ss(e,new es(vv(),t,n))}function B2(e,t,n){let i=st.fromObject(n);return ss(e,new Ya(vv(),t,i))}function j2(e,t){return ss(e,new Rd(vv(),t))}function U2(e,t,n){let i=Ev(e,n);if(i){let r=Iv(i),o=r.path,s=r.queryId,a=ot(o,t),l=new Rd(yv(s),a);return Tv(e,o,l)}else return[]}function jd(e,t,n,i,r=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||RI(s,t))){let l=P2(s,t,n,i);x2(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Li(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=G2(f);for(let g=0;g<h.length;++g){let m=h[g],C=m.query,x=kI(e,m);e.listenProvider_.startListening($a(C),Xa(e,C),x.hashFn,x.onComplete)}}}!d&&c.length>0&&!i&&(u?e.listenProvider_.stopListening($a(t),null):c.forEach(f=>{let h=e.queryToTagMap.get(Xd(f));e.listenProvider_.stopListening($a(f),h)}))}W2(e,c)}return a}function xI(e,t,n,i){let r=Ev(e,i);if(r!=null){let o=Iv(r),s=o.path,a=o.queryId,l=ot(s,t),c=new es(yv(a),l,n);return Tv(e,s,c)}else return[]}function H2(e,t,n,i){let r=Ev(e,i);if(r){let o=Iv(r),s=o.path,a=o.queryId,l=ot(s,t),c=st.fromObject(n),u=new Ya(yv(a),l,c);return Tv(e,s,u)}else return[]}function H_(e,t,n,i=!1){let r=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(f,h)=>{let g=ot(f,r);o=o||Pi(h,g),s=s||Li(h)});let a=e.syncPointTree_.get(r);a?(s=s||Li(a),o=o||Pi(a,ie())):(a=new Ld,e.syncPointTree_=e.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=B.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((h,g)=>{let m=Pi(g,ie());m&&(o=o.updateImmediateChild(h,m))}));let c=RI(a,t);if(!c&&!t._queryParams.loadsAllData()){let f=Xd(t);v(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=z2();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Zd(e.pendingWriteTree_,r),d=O2(a,t,n,u,o,l);if(!c&&!s&&!i){let f=NI(a,t);d=d.concat(q2(e,t,f))}return d}function Jd(e,t,n){let r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=ot(s,t),c=Pi(a,l);if(c)return c});return wI(r,t,o,n,!0)}function $2(e,t){let n=t._path,i=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=ot(c,n);i=i||Pi(u,d)});let r=e.syncPointTree_.get(n);r?i=i||Pi(r,ie()):(r=new Ld,e.syncPointTree_=e.syncPointTree_.set(n,r));let o=i!=null,s=o?new An(i,!0,!1):null,a=Zd(e.pendingWriteTree_,t._path),l=MI(r,t,a,o?s.getNode():B.EMPTY_NODE,o);return T2(l)}function ss(e,t){return OI(t,e.syncPointTree_,null,Zd(e.pendingWriteTree_,ie()))}function OI(e,t,n,i){if(K(e.path))return PI(e,t,n,i);{let r=t.get(ie());n==null&&r!=null&&(n=Pi(r,ie()));let o=[],s=q(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=DI(i,s);o=o.concat(OI(a,l,c,u))}return r&&(o=o.concat(wv(r,e,i,n))),o}}function PI(e,t,n,i){let r=t.get(ie());n==null&&r!=null&&(n=Pi(r,ie()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=DI(i,s),u=e.operationForChild(s);u&&(o=o.concat(PI(u,a,l,c)))}),r&&(o=o.concat(wv(r,e,i,n))),o}function kI(e,t){let n=t.query,i=Xa(e,n);return{hashFn:()=>(I2(t)||B.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?U2(e,n._path,i):j2(e,n._path);{let o=iV(r,n);return jd(e,n,null,o)}}}}function Xa(e,t){let n=Xd(t);return e.queryToTagMap.get(n)}function Xd(e){return e._path.toString()+"$"+e._queryIdentifier}function Ev(e,t){return e.tagToQueryMap.get(t)}function Iv(e){let t=e.indexOf("$");return v(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new re(e.substr(0,t))}}function Tv(e,t,n){let i=e.syncPointTree_.get(t);v(i,"Missing sync point for query tag that we're tracking");let r=Zd(e.pendingWriteTree_,t);return wv(i,n,r,null)}function G2(e){return e.fold((t,n,i)=>{if(n&&Li(n))return[Yd(n)];{let r=[];return n&&(r=AI(n)),He(i,(o,s)=>{r=r.concat(s)}),r}})}function $a(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(F2())(e._repo,e._path):e}function W2(e,t){for(let n=0;n<t.length;++n){let i=t[n];if(!i._queryParams.loadsAllData()){let r=Xd(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function z2(){return L2++}function q2(e,t,n){let i=t._path,r=Xa(e,t),o=kI(e,n),s=e.listenProvider_.startListening($a(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)v(!Li(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!K(c)&&u&&Li(u))return[Yd(u).query];{let f=[];return u&&(f=f.concat(AI(u).map(h=>h.query))),He(d,(h,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening($a(u),Xa(e,u))}}return s}var $_=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},G_=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=ye(this.path_,t);return new e(this.syncTree_,n)}node(){return Jd(this.syncTree_,this.path_)}},K2=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},B1=function(e,t,n){if(!e||typeof e!="object")return e;if(v(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Q2(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Z2(e[".sv"],t);v(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Q2=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+e)}},Z2=function(e,t,n){e.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&v(!1,"Unexpected increment value: "+i);let r=t.node();if(v(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},FI=function(e,t,n,i){return Mv(t,new G_(n,e),i)},Sv=function(e,t,n){return Mv(e,new $_(t),n)};function Mv(e,t,n){let i=e.getPriority().val(),r=B1(i,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=B1(s.getValue(),t,n);return a!==s.getValue()||r!==s.getPriority().val()?new Yo(a,Ce(r)):e}else{let s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Yo(r))),s.forEachChild(ve,(a,l)=>{let c=Mv(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var el=class{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}};function ef(e,t){let n=t instanceof re?t:new re(t),i=e,r=q(n);for(;r!==null;){let o=ui(i.node.children,r)||{children:{},childCount:0};i=new el(r,i,o),n=me(n),r=q(n)}return i}function Ar(e){return e.node.value}function Av(e,t){e.node.value=t,W_(e)}function LI(e){return e.node.childCount>0}function Y2(e){return Ar(e)===void 0&&!LI(e)}function tf(e,t){He(e.node.children,(n,i)=>{t(new el(n,e,i))})}function VI(e,t,n,i){n&&!i&&t(e),tf(e,r=>{VI(r,t,!0,i)}),n&&i&&t(e)}function J2(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function ll(e){return new re(e.parent===null?e.name:ll(e.parent)+"/"+e.name)}function W_(e){e.parent!==null&&X2(e.parent,e.name,e)}function X2(e,t,n){let i=Y2(n),r=Rt(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,W_(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,W_(e))}var eB=/[\[\].#$\/\u0000-\u001F\u007F]/,tB=/[\[\].#$\u0000-\u001F\u007F]/,n_=10*1024*1024,nf=function(e){return typeof e=="string"&&e.length!==0&&!eB.test(e)},BI=function(e){return typeof e=="string"&&e.length!==0&&!tB.test(e)},nB=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),BI(e)},tl=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!qd(e)||e&&typeof e=="object"&&Rt(e,".sv")},Nn=function(e,t,n,i){i&&t===void 0||cl(lt(e,"value"),t,n)},cl=function(e,t,n){let i=n instanceof re?new g_(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Dr(i));if(typeof t=="function")throw new Error(e+"contains a function "+Dr(i)+" with contents = "+t.toString());if(qd(t))throw new Error(e+"contains "+t.toString()+" "+Dr(i));if(typeof t=="string"&&t.length>n_/3&&gs(t)>n_)throw new Error(e+"contains a string greater than "+n_+" utf8 bytes "+Dr(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(He(t,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!nf(s)))throw new Error(e+" contains an invalid key ("+s+") "+Dr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);xV(i,s),cl(e,a,i),OV(i)}),r&&o)throw new Error(e+' contains ".value" child '+Dr(i)+" in addition to actual children.")}},iB=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];let o=Wa(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!nf(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(RV);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&Kt(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},jI=function(e,t,n,i){if(i&&t===void 0)return;let r=lt(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");let o=[];He(t,(s,a)=>{let l=new re(s);if(cl(r,a,ye(n,l)),fv(l)===".priority"&&!tl(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),iB(r,o)},Nv=function(e,t,n){if(!(n&&t===void 0)){if(qd(t))throw new Error(lt(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!tl(t))throw new Error(lt(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ul=function(e,t,n,i){if(!(i&&n===void 0)&&!nf(n))throw new Error(lt(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},as=function(e,t,n,i){if(!(i&&n===void 0)&&!BI(n))throw new Error(lt(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rB=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),as(e,t,n,i)},Et=function(e,t){if(q(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},UI=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!nf(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!nB(n))throw new Error(lt(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var z_=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function rf(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],o=r.getPath();n!==null&&!hv(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function HI(e,t,n){rf(e,n),$I(e,i=>hv(i,t))}function It(e,t,n){rf(e,n),$I(e,i=>Kt(i,t)||Kt(t,i))}function $I(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let o=r.path;t(o)?(oB(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function oB(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let i=n.getEventRunner();Ir&&Ue("event: "+n.toString()),rs(i)}}}var GI="repo_interrupt",sB=25,q_=class{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new z_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Nd(),this.transactionQueueTree_=new el,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function aB(e,t,n){if(e.stats_=dv(e.repoInfo_),e.forceRestClient_||aV())e.server_=new T_(e.repoInfo_,(i,r,o,s)=>{j1(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>U1(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new pv(e.repoInfo_,t,(i,r,o,s)=>{j1(e,i,r,o,s)},i=>{U1(e,i)},i=>{lB(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=cV(e.repoInfo_,()=>new R_(e.stats_,e.server_)),e.infoData_=new S_,e.infoSyncTree_=new Bd({startListening:(i,r,o,s)=>{let a=[],l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=al(e.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Rv(e,"connected",!1),e.serverSyncTree_=new Bd({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);It(e.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function WI(e){let n=e.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function dl(e){return K2({timestamp:WI(e)})}function j1(e,t,n,i,r){e.dataUpdateCount++;let o=new re(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){let l=ps(n,c=>Ce(c));s=H2(e.serverSyncTree_,o,l,r)}else{let l=Ce(n);s=xI(e.serverSyncTree_,o,l,r)}else if(i){let l=ps(n,c=>Ce(c));s=B2(e.serverSyncTree_,o,l)}else{let l=Ce(n);s=al(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=ns(e,o)),It(e.eventQueue_,a,s)}function U1(e,t){Rv(e,"connected",t),t===!1&&dB(e)}function lB(e,t){He(t,(n,i)=>{Rv(e,n,i)})}function Rv(e,t,n){let i=new re("/.info/"+t),r=Ce(n);e.infoData_.updateSnapshot(i,r);let o=al(e.infoSyncTree_,i,r);It(e.eventQueue_,i,o)}function of(e){return e.nextWriteId_++}function cB(e,t,n){let i=$2(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(r=>{let o=Ce(r).withIndex(t._queryParams.getIndex());H_(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=al(e.serverSyncTree_,t._path,o);else{let a=Xa(e.serverSyncTree_,t);s=xI(e.serverSyncTree_,t._path,o,a)}return It(e.eventQueue_,t._path,s),jd(e.serverSyncTree_,t,n,null,!0),o},r=>(ls(e,"get for query "+Ae(t)+" failed: "+r),Promise.reject(new Error(r))))}function xv(e,t,n,i,r){ls(e,"set",{path:t.toString(),value:n,priority:i});let o=dl(e),s=Ce(n,i),a=Jd(e.serverSyncTree_,t),l=Sv(s,a,o),c=of(e),u=Dv(e.serverSyncTree_,t,l,c,!0);rf(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let g=f==="ok";g||Ye("set at "+t+" failed: "+f);let m=xi(e.serverSyncTree_,c,!g);It(e.eventQueue_,t,m),Vi(e,r,f,h)});let d=Pv(e,t);ns(e,d),It(e.eventQueue_,d,[])}function uB(e,t,n,i){ls(e,"update",{path:t.toString(),value:n});let r=!0,o=dl(e),s={};if(He(n,(a,l)=>{r=!1,s[a]=FI(ye(t,a),Ce(l),e.serverSyncTree_,o)}),r)Ue("update() called with empty data.  Don't do anything."),Vi(e,i,"ok",void 0);else{let a=of(e),l=V2(e.serverSyncTree_,t,s,a);rf(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||Ye("update at "+t+" failed: "+c);let f=xi(e.serverSyncTree_,a,!d),h=f.length>0?ns(e,t):t;It(e.eventQueue_,h,f),Vi(e,i,c,u)}),He(n,c=>{let u=Pv(e,ye(t,c));ns(e,u)}),It(e.eventQueue_,t,[])}}function dB(e){ls(e,"onDisconnectEvents");let t=dl(e),n=Nd();A_(e.onDisconnect_,ie(),(r,o)=>{let s=FI(r,o,e.serverSyncTree_,t);os(n,r,s)});let i=[];A_(n,ie(),(r,o)=>{i=i.concat(al(e.serverSyncTree_,r,o));let s=Pv(e,r);ns(e,s)}),e.onDisconnect_=Nd(),It(e.eventQueue_,ie(),i)}function fB(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{i==="ok"&&M_(e.onDisconnect_,t),Vi(e,n,i,r)})}function H1(e,t,n,i){let r=Ce(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{o==="ok"&&os(e.onDisconnect_,t,r),Vi(e,i,o,s)})}function hB(e,t,n,i,r){let o=Ce(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{s==="ok"&&os(e.onDisconnect_,t,o),Vi(e,r,s,a)})}function pB(e,t,n,i){if(Cl(n)){Ue("onDisconnect().update() called with empty data.  Don't do anything."),Vi(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(r,o)=>{r==="ok"&&He(n,(s,a)=>{let l=Ce(a);os(e.onDisconnect_,ye(t,s),l)}),Vi(e,i,r,o)})}function gB(e,t,n){let i;q(t._path)===".info"?i=H_(e.infoSyncTree_,t,n):i=H_(e.serverSyncTree_,t,n),HI(e.eventQueue_,t._path,i)}function K_(e,t,n){let i;q(t._path)===".info"?i=jd(e.infoSyncTree_,t,n):i=jd(e.serverSyncTree_,t,n),HI(e.eventQueue_,t._path,i)}function zI(e){e.persistentConnection_&&e.persistentConnection_.interrupt(GI)}function mB(e){e.persistentConnection_&&e.persistentConnection_.resume(GI)}function ls(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ue(n,...t)}function Vi(e,t,n,i){t&&rs(()=>{if(n==="ok")t(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,t(s)}})}function _B(e,t,n,i,r,o){ls(e,"transaction on "+t);let s={path:t,update:n,onComplete:i,status:null,order:W1(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Ov(e,t,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{cl("transaction failed: Data returned ",l,s.path),s.status=0;let c=ef(e.transactionQueueTree_,t),u=Ar(c)||[];u.push(s),Av(c,u);let d;typeof l=="object"&&l!==null&&Rt(l,".priority")?(d=ui(l,".priority"),v(tl(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Jd(e.serverSyncTree_,t)||B.EMPTY_NODE).getPriority().val();let f=dl(e),h=Ce(l,d),g=Sv(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=g,s.currentWriteId=of(e);let m=Dv(e.serverSyncTree_,t,g,s.currentWriteId,s.applyLocally);It(e.eventQueue_,t,m),sf(e,e.transactionQueueTree_)}}function Ov(e,t,n){return Jd(e.serverSyncTree_,t,n)||B.EMPTY_NODE}function sf(e,t=e.transactionQueueTree_){if(t||af(e,t),Ar(t)){let n=KI(e,t);v(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&vB(e,ll(t),n)}else LI(t)&&tf(t,n=>{sf(e,n)})}function vB(e,t,n){let i=n.map(c=>c.currentWriteId),r=Ov(e,t,i),o=r,s=r.hash();for(let c=0;c<n.length;c++){let u=n[c];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=ot(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{ls(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(xi(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();af(e,ef(e.transactionQueueTree_,t)),sf(e,e.transactionQueueTree_),It(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)rs(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ye("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ns(e,t)}},s)}function ns(e,t){let n=qI(e,t),i=ll(n),r=KI(e,n);return yB(e,r,i),i}function yB(e,t,n){if(t.length===0)return;let i=[],r=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=ot(n,l.path),u=!1,d;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(xi(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=sB)u=!0,d="maxretry",r=r.concat(xi(e.serverSyncTree_,l.currentWriteId,!0));else{let f=Ov(e,l.path,s);l.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){cl("transaction failed: Data returned ",h,l.path);let g=Ce(h);typeof h=="object"&&h!=null&&Rt(h,".priority")||(g=g.updatePriority(f.getPriority()));let C=l.currentWriteId,x=dl(e),de=Sv(g,f,x);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=de,l.currentWriteId=of(e),s.splice(s.indexOf(C),1),r=r.concat(Dv(e.serverSyncTree_,l.path,de,l.currentWriteId,l.applyLocally)),r=r.concat(xi(e.serverSyncTree_,C,!0))}else u=!0,d="nodata",r=r.concat(xi(e.serverSyncTree_,l.currentWriteId,!0))}It(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}af(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)rs(i[a]);sf(e,e.transactionQueueTree_)}function qI(e,t){let n,i=e.transactionQueueTree_;for(n=q(t);n!==null&&Ar(i)===void 0;)i=ef(i,n),t=me(t),n=q(t);return i}function KI(e,t){let n=[];return QI(e,t,n),n.sort((i,r)=>i.order-r.order),n}function QI(e,t,n){let i=Ar(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);tf(t,r=>{QI(e,r,n)})}function af(e,t){let n=Ar(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,Av(t,n.length>0?n:void 0)}tf(t,i=>{af(e,i)})}function Pv(e,t){let n=ll(qI(e,t)),i=ef(e.transactionQueueTree_,t);return J2(i,r=>{i_(e,r)}),i_(e,i),VI(i,r=>{i_(e,r)}),n}function i_(e,t){let n=Ar(t);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(v(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(xi(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Av(t,void 0):n.length=o+1,It(e.eventQueue_,ll(t),r);for(let s=0;s<i.length;s++)rs(i[s])}}function bB(e){let t="",n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function CB(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ye(`Invalid query segment '${n}' in query '${e}'`)}return t}var Q_=function(e,t){let n=wB(e),i=n.namespace;n.domain==="firebase.com"&&Mn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||JL();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wd(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new re(n.pathString)}},wB=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=bB(e.substring(u,d)));let f=CB(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let h=t.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let g=t.indexOf(".");i=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=i}"ns"in f&&(o=f.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var $1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",DB=function(){let e=0,t=[];return function(n){let i=n===e;e=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=$1.charAt(n%64),n=Math.floor(n/64);v(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=$1.charAt(t[r]);return v(s.length===20,"nextPushId: Length should be 20."),s}}();var Ud=class{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}},Hd=class{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var nl=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var $d=class{constructor(t,n){this._repo=t,this._path=n}cancel(){let t=new Ve;return fB(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Et("OnDisconnect.remove",this._path);let t=new Ve;return H1(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Et("OnDisconnect.set",this._path),Nn("OnDisconnect.set",t,this._path,!1);let n=new Ve;return H1(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){Et("OnDisconnect.setWithPriority",this._path),Nn("OnDisconnect.setWithPriority",t,this._path,!1),Nv("OnDisconnect.setWithPriority",n,!1);let i=new Ve;return hB(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){Et("OnDisconnect.update",this._path),jI("OnDisconnect.update",t,this._path,!1);let n=new Ve;return pB(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};var at=class e{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return K(this._path)?null:fv(this._path)}get ref(){return new Tt(this._repo,this._path)}get _queryIdentifier(){let t=A1(this._queryParams),n=uv(t);return n==="{}"?"default":n}get _queryObject(){return A1(this._queryParams)}isEqual(t){if(t=Je(t),!(t instanceof e))return!1;let n=this._repo===t._repo,i=hv(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+NV(this._path)}};function lf(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Bi(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Sn){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==ki)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==ai)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(e.getIndex()===ve){if(t!=null&&!tl(t)||n!=null&&!tl(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v(e.getIndex()instanceof za||e.getIndex()===mv,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function cf(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Tt=class e extends at{constructor(t,n){super(t,n,new Za,!1)}get parent(){let t=fI(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},is=class e{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new re(t),i=li(this.ref,t);return new e(this._node.getChild(n),i,ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new e(r,li(this.ref,i),ve)))}hasChild(t){let n=new re(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function fl(e,t){return e=Je(e),e._checkNotDeleted("ref"),t!==void 0?li(e._root,t):e._root}function uf(e,t){e=Je(e),e._checkNotDeleted("refFromURL");let n=Q_(t,e._repo.repoInfo_.nodeAdmin);UI("refFromURL",n);let i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&Mn("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),fl(e,n.path.toString())}function li(e,t){return e=Je(e),q(e._path)===null?rB("child","path",t,!1):as("child","path",t,!1),new Tt(e._repo,ye(e._path,t))}function df(e,t){e=Je(e),Et("push",e._path),Nn("push",t,e._path,!0);let n=WI(e._repo),i=DB(n),r=li(e,i),o=li(e,i),s;return t!=null?s=cs(o,t).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function kv(e){return Et("remove",e._path),cs(e,null)}function cs(e,t){e=Je(e),Et("set",e._path),Nn("set",t,e._path,!1);let n=new Ve;return xv(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Fv(e,t){e=Je(e),Et("setPriority",e._path),Nv("setPriority",t,!1);let n=new Ve;return xv(e._repo,ye(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function Lv(e,t,n){if(Et("setWithPriority",e._path),Nn("setWithPriority",t,e._path,!1),Nv("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let i=new Ve;return xv(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function Vv(e,t){jI("update",t,e._path,!1);let n=new Ve;return uB(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function ff(e){e=Je(e);let t=new nl(()=>{}),n=new il(t);return cB(e._repo,e,n).then(i=>new is(i,new Tt(e._repo,e._path),e._queryParams.getIndex()))}var il=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let i=n._queryParams.getIndex();return new Ud("value",this,new is(t.snapshotNode,new Tt(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Hd(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Gd=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Hd(this,t,n):null}createEvent(t,n){v(t.childName!=null,"Child events should have a childName.");let i=li(new Tt(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new Ud(t.type,this,new is(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function hl(e,t,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=n,c=(u,d)=>{K_(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new nl(n,o||void 0),a=t==="value"?new il(s):new Gd(t,s);return gB(e._repo,e,a),()=>K_(e._repo,e,a)}function us(e,t,n,i){return hl(e,"value",t,n,i)}function hf(e,t,n,i){return hl(e,"child_added",t,n,i)}function pf(e,t,n,i){return hl(e,"child_changed",t,n,i)}function gf(e,t,n,i){return hl(e,"child_moved",t,n,i)}function mf(e,t,n,i){return hl(e,"child_removed",t,n,i)}function _f(e,t,n){let i=null,r=n?new nl(n):null;t==="value"?i=new il(r):t&&(i=new Gd(t,r)),K_(e._repo,e,i)}var St=class{},Wd=class extends St{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){Nn("endAt",this._value,t._path,!0);let n=I_(t._queryParams,this._value,this._key);if(cf(n),Bi(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new at(t._repo,t._path,n,t._orderByCalled)}};function Bv(e,t){return ul("endAt","key",t,!0),new Wd(e,t)}var Z_=class extends St{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){Nn("endBefore",this._value,t._path,!1);let n=QV(t._queryParams,this._value,this._key);if(cf(n),Bi(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new at(t._repo,t._path,n,t._orderByCalled)}};function jv(e,t){return ul("endBefore","key",t,!0),new Z_(e,t)}var zd=class extends St{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){Nn("startAt",this._value,t._path,!0);let n=E_(t._queryParams,this._value,this._key);if(cf(n),Bi(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new at(t._repo,t._path,n,t._orderByCalled)}};function Uv(e=null,t){return ul("startAt","key",t,!0),new zd(e,t)}var Y_=class extends St{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){Nn("startAfter",this._value,t._path,!1);let n=KV(t._queryParams,this._value,this._key);if(cf(n),Bi(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new at(t._repo,t._path,n,t._orderByCalled)}};function Hv(e,t){return ul("startAfter","key",t,!0),new Y_(e,t)}var J_=class extends St{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new at(t._repo,t._path,zV(t._queryParams,this._limit),t._orderByCalled)}};function $v(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new J_(e)}var X_=class extends St{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new at(t._repo,t._path,qV(t._queryParams,this._limit),t._orderByCalled)}};function Gv(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new X_(e)}var ev=class extends St{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){lf(t,"orderByChild");let n=new re(this._path);if(K(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new za(n),r=Kd(t._queryParams,i);return Bi(r),new at(t._repo,t._path,r,!0)}};function Wv(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return as("orderByChild","path",e,!1),new ev(e)}var tv=class extends St{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){lf(t,"orderByKey");let n=Kd(t._queryParams,Sn);return Bi(n),new at(t._repo,t._path,n,!0)}};function zv(){return new tv}var nv=class extends St{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){lf(t,"orderByPriority");let n=Kd(t._queryParams,ve);return Bi(n),new at(t._repo,t._path,n,!0)}};function qv(){return new nv}var iv=class extends St{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){lf(t,"orderByValue");let n=Kd(t._queryParams,mv);return Bi(n),new at(t._repo,t._path,n,!0)}};function Kv(){return new iv}var rv=class extends St{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(Nn("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Wd(this._value,this._key)._apply(new zd(this._value,this._key)._apply(t))}};function Qv(e,t){return ul("equalTo","key",t,!0),new rv(e,t)}function Mt(e,...t){let n=Je(e);for(let i of t)n=i._apply(n);return n}N2(Tt);k2(Tt);var EB="FIREBASE_DATABASE_EMULATOR_HOST",ov={},IB=!1;function TB(e,t,n,i){e.repoInfo_=new wd(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function Zv(e,t,n,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||Mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=Q_(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[EB]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=Q_(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new ja(ja.OWNER):new c_(e.name,e.options,t);UI("Invalid Firebase Database URL",s),K(s.path)||Mn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=MB(a,e,u,new l_(e,n));return new sv(d,e)}function SB(e,t){let n=ov[t];(!n||n[e.key]!==e)&&Mn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),zI(e),delete n[e.key]}function MB(e,t,n,i){let r=ov[t.name];r||(r={},ov[t.name]=r);let o=r[e.toURLString()];return o&&Mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new q_(e,IB,n,i),r[e.toURLString()]=o,o}var sv=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(aB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Tt(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(SB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Mn("Cannot call "+t+" on a deleted database.")}};function ZI(){dI.IS_TRANSPORT_INITIALIZED&&Ye("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Yv(){ZI(),Ga.forceDisallow()}function Jv(){ZI(),qo.forceDisallow(),Ga.forceAllow()}function YI(e=_s(),t){let n=Uf(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let i=Iy("database");i&&vf(n,...i)}return n}function vf(e,t,n,i={}){e=Je(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Mn("Cannot call useEmulator() after instance has already been initialized.");let r=e._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ja(ja.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:Ty(i.mockUserToken,e.app.options.projectId);o=new ja(s)}TB(r,t,n,o)}function Xv(e){e=Je(e),e._checkNotDeleted("goOffline"),zI(e._repo)}function ey(e){e=Je(e),e._checkNotDeleted("goOnline"),mB(e._repo)}function ty(e,t){q1(e,t)}function AB(e){cv(Ly),ms(new On("database",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return Zv(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),We(f1,h1,e),We(f1,h1,"esm2017")}var NB={".sv":"timestamp"};function ny(){return NB}function iy(e){return{".sv":{increment:e}}}var av=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function ry(e,t,n){var i;if(e=Je(e),Et("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,o=new Ve,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new is(u,new Tt(e._repo,e._path),ve),o.resolve(new av(c,d)))},a=us(e,()=>{});return _B(e._repo,e._path,t,s,a,r),o.promise}pv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};pv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};AB();var RB="@firebase/database-compat",xB="2.0.3";var OB=new Pr("@firebase/database-compat"),JI=function(e){let t="FIREBASE WARNING: "+e;OB.warn(t)};var PB=function(e,t,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(lt(e,t)+"must be a boolean.")},kB=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(lt(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var oy=class{constructor(t){this._delegate=t}cancel(t){O("OnDisconnect.cancel",0,1,arguments.length),Fe("OnDisconnect.cancel","onComplete",t,!0);let n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){O("OnDisconnect.remove",0,1,arguments.length),Fe("OnDisconnect.remove","onComplete",t,!0);let n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){O("OnDisconnect.set",1,2,arguments.length),Fe("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){O("OnDisconnect.setWithPriority",2,3,arguments.length),Fe("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(t,n);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,n){if(O("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,JI("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Fe("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(t);return n&&i.then(()=>n(null),r=>n(r)),i}};var sy=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return O("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Nr=class e{constructor(t,n){this._database=t,this._delegate=n}val(){return O("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return O("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return O("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return O("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return O("DataSnapshot.child",0,1,arguments.length),t=String(t),as("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}hasChild(t){return O("DataSnapshot.hasChild",1,1,arguments.length),as("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return O("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return O("DataSnapshot.forEach",1,1,arguments.length),Fe("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new e(this._database,n)))}hasChildren(){return O("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return O("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return O("DataSnapshot.ref",0,0,arguments.length),new ci(this._database,this._delegate.ref)}get ref(){return this.getRef()}},yf=class e{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,r){var o;O("Query.on",2,4,arguments.length),Fe("Query.on","callback",n,!1);let s=e.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{n.call(s.context,new Nr(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(t){case"value":return us(this._delegate,a,l),n;case"child_added":return hf(this._delegate,a,l),n;case"child_removed":return mf(this._delegate,a,l),n;case"child_changed":return pf(this._delegate,a,l),n;case"child_moved":return gf(this._delegate,a,l),n;default:throw new Error(lt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if(O("Query.off",0,3,arguments.length),kB("Query.off",t,!0),Fe("Query.off","callback",n,!0),Bf("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,_f(this._delegate,t,r)}else _f(this._delegate,t)}get(){return ff(this._delegate).then(t=>new Nr(this.database,t))}once(t,n,i,r){O("Query.once",1,4,arguments.length),Fe("Query.once","callback",n,!0);let o=e.getCancelAndContextArgs_("Query.once",i,r),s=new Ve,a=(c,u)=>{let d=new Nr(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":us(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":hf(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":mf(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":pf(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":gf(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(lt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return O("Query.limitToFirst",1,1,arguments.length),new e(this.database,Mt(this._delegate,$v(t)))}limitToLast(t){return O("Query.limitToLast",1,1,arguments.length),new e(this.database,Mt(this._delegate,Gv(t)))}orderByChild(t){return O("Query.orderByChild",1,1,arguments.length),new e(this.database,Mt(this._delegate,Wv(t)))}orderByKey(){return O("Query.orderByKey",0,0,arguments.length),new e(this.database,Mt(this._delegate,zv()))}orderByPriority(){return O("Query.orderByPriority",0,0,arguments.length),new e(this.database,Mt(this._delegate,qv()))}orderByValue(){return O("Query.orderByValue",0,0,arguments.length),new e(this.database,Mt(this._delegate,Kv()))}startAt(t=null,n){return O("Query.startAt",0,2,arguments.length),new e(this.database,Mt(this._delegate,Uv(t,n)))}startAfter(t=null,n){return O("Query.startAfter",0,2,arguments.length),new e(this.database,Mt(this._delegate,Hv(t,n)))}endAt(t=null,n){return O("Query.endAt",0,2,arguments.length),new e(this.database,Mt(this._delegate,Bv(t,n)))}endBefore(t=null,n){return O("Query.endBefore",0,2,arguments.length),new e(this.database,Mt(this._delegate,jv(t,n)))}equalTo(t,n){return O("Query.equalTo",1,2,arguments.length),new e(this.database,Mt(this._delegate,Qv(t,n)))}toString(){return O("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return O("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(O("Query.isEqual",1,1,arguments.length),!(t instanceof e)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,Fe(t,"cancel",r.cancel,!0),r.context=i,Bf(t,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(lt(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new ci(this.database,new Tt(this._delegate._repo,this._delegate._path))}},ci=class e extends yf{constructor(t,n){super(t,new at(n._repo,n._path,new Za,!1)),this.database=t,this._delegate=n}getKey(){return O("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return O("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,li(this._delegate,t))}getParent(){O("Reference.parent",0,0,arguments.length);let t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return O("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(t,n){O("Reference.set",1,2,arguments.length),Fe("Reference.set","onComplete",n,!0);let i=cs(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}update(t,n){if(O("Reference.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,JI("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Et("Reference.update",this._delegate._path),Fe("Reference.update","onComplete",n,!0);let i=Vv(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){O("Reference.setWithPriority",2,3,arguments.length),Fe("Reference.setWithPriority","onComplete",i,!0);let r=Lv(this._delegate,t,n);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){O("Reference.remove",0,1,arguments.length),Fe("Reference.remove","onComplete",t,!0);let n=kv(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){O("Reference.transaction",1,3,arguments.length),Fe("Reference.transaction","transactionUpdate",t,!1),Fe("Reference.transaction","onComplete",n,!0),PB("Reference.transaction","applyLocally",i,!0);let r=ry(this._delegate,t,{applyLocally:i}).then(o=>new sy(o.committed,new Nr(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(t,n){O("Reference.setPriority",1,2,arguments.length),Fe("Reference.setPriority","onComplete",n,!0);let i=Fv(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}push(t,n){O("Reference.push",0,2,arguments.length),Fe("Reference.push","onComplete",n,!0);let i=df(this._delegate,t),r=i.then(s=>new e(this.database,s));n&&r.then(()=>n(null),s=>n(s));let o=new e(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Et("Reference.onDisconnect",this._delegate._path),new oy(new $d(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Rr=class{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Yv,forceLongPolling:Jv}}useEmulator(t,n,i={}){vf(this._delegate,t,n,i)}ref(t){if(O("database.ref",0,1,arguments.length),t instanceof ci){let n=uf(this._delegate,t.toString());return new ci(this,n)}else{let n=fl(this._delegate,t);return new ci(this,n)}}refFromURL(t){O("database.refFromURL",1,1,arguments.length);let i=uf(this._delegate,t);return new ci(this,i)}goOffline(){return O("database.goOffline",0,0,arguments.length),Xv(this._delegate)}goOnline(){return O("database.goOnline",0,0,arguments.length),ey(this._delegate)}};Rr.ServerValue={TIMESTAMP:ny(),increment:e=>iy(e)};function FB({app:e,url:t,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){cv(n);let a=new jf("database-standalone"),l=new wl("auth-internal",a);l.setComponent(new On("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new wl("app-check-internal",a),c.setComponent(new On("app-check-internal",()=>r,"PRIVATE"))),{instance:new Rr(Zv(e,l,c,t,s),e),namespace:o}}var LB=Object.freeze({__proto__:null,initStandalone:FB});var VB=Rr.ServerValue;function BB(e){e.INTERNAL.registerComponent(new On("database-compat",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:n});return new Rr(r,i)},"PUBLIC").setServiceProps({Reference:ci,Query:yf,Database:Rr,DataSnapshot:Nr,enableLogging:ty,INTERNAL:LB,ServerValue:VB}).setMultipleInstances(!0)),e.registerVersion(RB,xB)}BB(ct);function pl(e,t,n="on",i=di){return new A(r=>{let o=null;return o=e[n](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),n==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),n==="on"?{unsubscribe(){o!=null&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(S(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),Es())}function jB(e){return typeof e=="string"}function UB(e){return typeof e.exportVal=="function"}function iT(e){return e==null}function rT(e){return typeof e.set=="function"}function XI(e,t){return rT(t)?t:e.ref(t)}function oT(e,t){if(jB(e))return t.stringCase();if(rT(e))return t.firebaseCase();if(UB(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function sT(e){return(iT(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function aT(e,t,n){t=sT(t);let i=t.map(r=>pl(e,r,"on",n));return zi(...i)}function HB(e,t,n){let i=aT(e,t).pipe(Qr((r,o)=>[...r,o],[]));return GB(e,i,n)}function $B(e,t){return pl(e,"value","on",t).pipe(S(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function GB(e,t,n){return $B(e,n).pipe(Zr(t),S(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),mh(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),S(r=>r.actions))}function eT(e,t){return function(i,r){return oT(i,{stringCase:()=>e.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function WB(e){return function(n){return n?oT(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function zB(e,t,n){return pl(e,"value","once",n).pipe(ce(i=>{let r=[T(i)];return t.forEach(o=>r.push(pl(e,o,"on",n))),zi(...r).pipe(Qr(KB,[]))}),Xl())}function lT(e,t){let n=e.length;for(let i=0;i<n;i++)if(e[i].payload.key===t)return i;return-1}function qB(e,t){if(iT(t))return 0;{let n=lT(e,t);return n===-1?e.length:n+1}}function KB(e,t){let{payload:n,prevKey:i,key:r}=t,o=lT(e,r),s=qB(e,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==i&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(i==null)return[t,...e];e=e.slice(),e.splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function tT(e,t,n){return t=sT(t),zB(e,t,n)}function QB(e,t,n){let i=t.schedulers.outsideAngular,r=p(P).run(()=>e.ref);return{query:e,update:eT(r,"update"),set:eT(r,"set"),push:o=>r.push(o),remove:WB(r),snapshotChanges(o){return tT(e,o,i).pipe(zt(n))},stateChanges(o){return aT(e,o,i).pipe(zt(n))},auditTrail(o){return HB(e,o,i).pipe(zt(n))},valueChanges(o,s){return tT(e,o,i).pipe(S(l=>l.map(c=>s&&s.idField?j(y({},c.payload.val()),{[s.idField]:c.key}):c.payload.val())),zt(n))}}}function nT(e,t){return function(){return pl(e,"value","on",t)}}function ZB(e,t,n){return{query:e,snapshotChanges(){return nT(e,t.schedulers.outsideAngular)().pipe(zt(n))},update(i){return e.ref.update(i)},set(i){return e.ref.set(i)},remove(){return e.ref.remove()},valueChanges(){return nT(e,t.schedulers.outsideAngular)().pipe(zt(n),S(r=>r.payload.exists()?r.payload.val():null))}}}var YB=new b("angularfire2.realtimeDatabaseURL"),JB=new b("angularfire2.database.use-emulator"),cT=(()=>{class e{schedulers;database;injector=p(Ee);constructor(n,i,r,o,s,a,l,c,u,d,f,h,g,m,C){this.schedulers=a;let x=l,de=Pa(n,s,i);c&&Zm(de,s,u,f,h,g,d,m),this.database=yd(`${de.name}.database.${r}`,"AngularFireDatabase",de.name,()=>{let R=s.runOutsideAngular(()=>de.database(r||void 0));return x&&R.useEmulator(...x),R},[x])}list(n,i){let r=p(P).runOutsideAngular(()=>XI(this.database,n)),o=r;return i&&(o=i(r)),QB(o,this,this.injector)}object(n){let i=p(P).runOutsideAngular(()=>XI(this.database,n));return ZB(i,this,this.injector)}createPushId(){return p(P).runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||e)(_(Go),_(Wo,8),_(YB,8),_(Ze),_(P),_(an),_(JB,8),_(rt,8),_(Gm,8),_(Wm,8),_(zm,8),_(qm,8),_(Km,8),_(Qm,8),_(sn,8))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();var XB=["*"];var ej=["dialog"];var uT={animation:!0,transitionTimerDelayMs:5},tj=(()=>{class e{constructor(){this.animation=uT.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function nj(e){let{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),i=parseFloat(t),r=parseFloat(n);return(i+r)*1e3}function dT(e){return typeof e=="string"}function ay(e){return e!=null}function ij(e){return e&&e.then}function fT(e){return(e||document.body).getBoundingClientRect()}function rj(e){return t=>new A(n=>{let i=s=>e.run(()=>n.next(s)),r=s=>e.run(()=>n.error(s)),o=()=>e.run(()=>n.complete());return t.subscribe({next:i,error:r,complete:o})})}var oj=()=>{},{transitionTimerDelayMs:sj}=uT,bf=new Map,xr=(e,t,n,i)=>{let r=i.context||{},o=bf.get(t);if(o)switch(i.runningTransition){case"continue":return Re;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),bf.delete(t)}let s=n(t,i.animation,r)||oj;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>s()),T(void 0).pipe(rj(e));let a=new G,l=new G,c=a.pipe(hh(!0));bf.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let u=nj(t);return e.runOutsideAngular(()=>{let d=Ot(t,"transitionend").pipe(ze(c),Se(({target:h})=>h===t)),f=uh(u+sj).pipe(ze(c));dh(f,d,l).pipe(ze(c)).subscribe(()=>{bf.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var hT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var pT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var gT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})(),mT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var s9=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})();var aj=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function _T(e){let t=Array.from(e.querySelectorAll(aj)).filter(n=>n.tabIndex!==-1);return[t[0],t[t.length-1]]}var lj=(e,t,n,i=!1)=>{e.runOutsideAngular(()=>{let r=Ot(t,"focusin").pipe(ze(n),S(o=>o.target));Ot(t,"keydown").pipe(ze(n),Se(o=>o.key==="Tab"),Zr(r)).subscribe(([o,s])=>{let[a,l]=_T(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Ot(t,"click").pipe(ze(n),Zr(r),S(o=>o[1])).subscribe(o=>o.focus())})};var a9=new Date(1882,10,12),l9=new Date(2174,10,25);var c9=1e3*60*60*24;var uy=1080,cj=24*uy,uj=12*uy+793,u9=29*cj+uj,d9=11*uy+204;var vT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var yT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})(),dj=(()=>{class e{constructor(){this._ngbConfig=p(tj),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ds=class{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}};var fj=(()=>{class e{constructor(){this._document=p(ke)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hj=(()=>{class e{constructor(){this._nativeElement=p(bt).nativeElement,this._zone=p(P),this._injector=p(oe)}ngOnInit(){vo({mixedReadWrite:()=>xr(this._zone,this._nativeElement,(n,i)=>{i&&fT(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return xr(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=te({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(cu("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),fr("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),fs=class{update(t){}close(t){}dismiss(t){}},pj=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],gj=["animation","backdropClass"],ly=class{_applyWindowOptions(t,n){pj.forEach(i=>{ay(n[i])&&(t[i]=n[i])})}_applyBackdropOptions(t,n){gj.forEach(i=>{ay(n[i])&&(t[i]=n[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ze(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ze(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new G,this._dismissed=new G,this._hidden=new G,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let n=this._beforeDismiss();ij(n)?n.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):n!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():T(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ds(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},cy=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(cy||{}),mj=(()=>{class e{constructor(){this._document=p(ke),this._elRef=p(bt),this._zone=p(P),this._injector=p(oe),this._closed$=new G,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new fe,this.shown=new G,this.hidden=new G}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":dT(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,vo({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=xr(this._zone,n,()=>n.classList.remove("show"),i),o=xr(this._zone,this._dialogEl.nativeElement,()=>{},i),s=Ds(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let n={animation:this.animation,runningTransition:"continue"},i=xr(this._zone,this._elRef.nativeElement,(o,s)=>{s&&fT(o),o.classList.add("show")},n),r=xr(this._zone,this._dialogEl.nativeElement,()=>{},n);Ds(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{Ot(n,"keydown").pipe(ze(this._closed$),Se(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(cy.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;Ot(this._dialogEl.nativeElement,"mousedown").pipe(ze(this._closed$),xe(()=>i=!1),ce(()=>Ot(n,"mouseup").pipe(ze(this._closed$),Pt(1))),Se(({target:r})=>n===r)).subscribe(()=>{i=!0}),Ot(n,"click").pipe(ze(this._closed$)).subscribe(({target:r})=>{n===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(cy.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let i=n.querySelector("[ngbAutofocus]"),r=_T(n)[0];(i||r||n).focus()}}_restoreFocus(){let n=this._document.body,i=this._elWithFocus,r;i&&i.focus&&n.contains(i)?r=i:r=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&xr(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=te({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&fu(ej,7),i&2){let o;Gs(o=Ws())&&(r._dialogEl=o.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(i,r){i&2&&(bo("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy)("role",r.role),cu("modal d-block"+(r.windowClass?" "+r.windowClass:"")),fr("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:XB,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(Aw(),E(0,"div",1,0)(2,"div",2),Nw(3),I()()),i&2&&cu("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),_j=(()=>{class e{constructor(){this._applicationRef=p(Vt),this._injector=p(oe),this._environmentInjector=p(Ee),this._document=p(ke),this._scrollBar=p(fj),this._activeWindowCmptHasChanged=new G,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new fe;let n=p(P);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];lj(n,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){let o=r.container instanceof HTMLElement?r.container:ay(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new fs;n=r.injector||n;let a=n.get(Ee,null)||this._environmentInjector,l=this._getContentRef(n,a,i,s,r),c=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new ly(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(Pt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=f=>{d.close(f)},s.dismiss=f=>{d.dismiss(f)},s.update=f=>{d.update(f)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=mu(hj,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=mu(mj,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_getContentRef(n,i,r,o,s){return r?r instanceof Gn?this._createFromTemplateRef(r,o):dT(r)?this._createFromString(r):this._createFromComponent(n,i,r,o,s):new ds([])}_createFromTemplateRef(n,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=n.createEmbeddedView(r);return this._applicationRef.attachView(o),new ds([o.rootNodes],o)}_createFromString(n){let i=this._document.createTextNode(`${n}`);return new ds([[i]])}_createFromComponent(n,i,r,o,s){let a=oe.create({providers:[{provide:fs,useValue:o}],parent:n}),l=mu(r,{environmentInjector:i,elementInjector:a}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new ds([[c]],l.hostView,l)}_setAriaHidden(n){let i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let i=()=>{let r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dy=(()=>{class e{constructor(){this._injector=p(oe),this._modalStack=p(_j),this._config=p(dj)}open(n,i={}){let r=y(j(y({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({providers:[dy]})}}return e})();var CT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var wT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var DT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var ET=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var IT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var TT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var ST=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var MT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var AT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var f9=new b("live announcer delay",{providedIn:"root",factory:()=>100});var NT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})();var RT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({})}}return e})(),vj=[hT,pT,gT,mT,vT,yT,bT,CT,RT,wT,DT,ET,IT,TT,ST,MT,AT,NT],xT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=U({imports:[vj,hT,pT,gT,mT,vT,yT,bT,CT,RT,wT,DT,ET,IT,TT,ST,MT,AT,NT]})}}return e})();var PT="auth",gl=class{constructor(t){return t}},ml=class{constructor(){return xa(PT)}};var fy=new b("angularfire2.auth-instances");function vU(e,t){let n=md(PT,e,t);return n&&new gl(n)}function yU(e){return(t,n)=>{let i=t.runOutsideAngular(()=>e(n));return new gl(i)}}var bU={provide:ml,deps:[[new Qe,fy]]},CU={provide:gl,useFactory:vU,deps:[[new Qe,fy],si]};function kT(e,...t){return We("angularfire",qt.full,"auth"),vn([CU,bU,{provide:fy,useFactory:yU(e),multi:!0,deps:[P,oe,an,Cr,[new Qe,sn],...t]}])}var FT=ln(Hf,!0);var At=class{constructor(t){return t}},LT="database",hy=class{constructor(){return xa(LT)}};var py=new b("angularfire2.database-instances");function wU(e,t){let n=md(LT,e,t);return n&&new At(n)}function DU(e){return(t,n)=>{let i=t.runOutsideAngular(()=>e(n));return new At(i)}}var EU={provide:hy,deps:[[new Qe,py]]},IU={provide:At,useFactory:wU,deps:[[new Qe,py],si]};function VT(e,...t){return We("angularfire",qt.full,"rtdb"),vn([IU,EU,{provide:py,useFactory:DU(e),multi:!0,deps:[P,oe,an,Cr,[new Qe,ml],[new Qe,sn],...t]}])}var Cf=ln(ff,!0),BT=ln(YI,!0);var gy=ln(us,!0);var jT=ln(df,!0);var Rn=ln(fl,!0);var UT=ln(cs,!0);var ji=class e{constructor(t,n){this.fireauth=t;this.router=n}db=p(At);login(t,n){this.fireauth.signInWithEmailAndPassword(t,n).then(()=>{alert("Login successful"),this.router.navigate(["/home"])},i=>{alert("something went wrong"),console.error(i),this.router.navigate(["/login"])})}register(t,n,i,r){this.fireauth.createUserWithEmailAndPassword(i,r).then(o=>{if(o.user){let s=o.user.uid,a="user/"+s,l=Rn(this.db,a);UT(l,{name:t,email:i,photo:n,uid:s}).then(()=>{alert("Registration successful"),this.router.navigate(["/login"])}).catch(u=>{console.error("Error saving user details:",u),alert("Error saving user details")})}},o=>{alert("Something went wrong"),console.error(o)})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),localStorage.clear(),sessionStorage.clear(),this.router.navigate(["/login"]),console.log("Logged out successfully")},t=>{console.log(t),alert("something went wrong")})}static \u0275fac=function(n){return new(n||e)(_(rt),_(Ai))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var hs=class e{constructor(t,n){this.activeModal=t;this.authentication=n}name="";photo="";email="";password="";ngOnInit(){}register(){if(this.email==""){alert("Please enter email");return}if(this.password==""){alert("Please enter password");return}this.authentication.register(this.name,this.photo,this.email,this.password),this.email="",this.password="",this.name="",this.photo="",this.closeModal()}closeModal(){this.activeModal.close()}onFileSelected(t){if(t.target.files.length>0){let n=t.target.files[0];this.photo=n.name}}onSubmit(t){t.valid&&(console.log("Form Submitted:",t.value),this.activeModal.close(t.value))}static \u0275fac=function(n){return new(n||e)(N(fs),N(ji))};static \u0275cmp=te({type:e,selectors:[["app-register-modal"]],standalone:!1,decls:27,vars:4,consts:[["registerForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container-form"],[1,"form-group"],["for","name"],["type","name","id","name","name","name","required","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","autocomplete","new-password",1,"form-control",3,"ngModelChange","ngModel"],["for","photo"],["type","file","id","photo","name","photo","required","","autocomplete","off",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary",3,"click","disabled"]],template:function(n,i){if(n&1){let r=hr();E(0,"div",1)(1,"h4",2),ne(2,"Register"),I(),E(3,"button",3),pe("click",function(){return Bt(r),jt(i.closeModal())}),E(4,"span",4),ne(5,"\xD7"),I()()(),E(6,"div",5)(7,"form",6,0)(9,"div",7)(10,"label",8),ne(11,"Name"),I(),E(12,"input",9),wn("ngModelChange",function(s){return Bt(r),Jn(i.name,s)||(i.name=s),jt(s)}),I()(),E(13,"div",7)(14,"label",10),ne(15,"Email"),I(),E(16,"input",11),wn("ngModelChange",function(s){return Bt(r),Jn(i.email,s)||(i.email=s),jt(s)}),I()(),E(17,"div",7)(18,"label",12),ne(19,"Create New Password"),I(),E(20,"input",13),wn("ngModelChange",function(s){return Bt(r),Jn(i.password,s)||(i.password=s),jt(s)}),I()(),E(21,"div",7)(22,"label",14),ne(23,"Upload Daily Profile"),I(),E(24,"input",15),pe("change",function(s){return Bt(r),jt(i.onFileSelected(s))}),I()(),E(25,"button",16),pe("click",function(){return Bt(r),jt(i.register())}),ne(26,"Register"),I()()()}if(n&2){let r=zs(8);V(12),Cn("ngModel",i.name),V(4),Cn("ngModel",i.email),V(4),Cn("ngModel",i.password),V(5),ue("disabled",r.invalid)}},dependencies:[Ku,Si,Ro,zu,ua,_r,ca],styles:[".container-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:25px!important}.modal-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;column-gap:12px}"]})};var wf=class e{constructor(t,n){this.authentication=t;this.modalService=n}email="";password="";db=p(cT);ngOnInit(){}login(){if(this.email==""){alert("Please enter email");return}if(this.password==""){alert("Please enter password");return}this.authentication.login(this.email,this.password),this.email="",this.password=""}openRegisterModal(){this.modalService.open(hs).result.then(n=>{n&&console.log("Registered User:",n)}).catch(()=>{})}static \u0275fac=function(n){return new(n||e)(N(ji),N(dy))};static \u0275cmp=te({type:e,selectors:[["app-login-page"]],standalone:!1,decls:13,vars:2,consts:[[1,"cont"],[1,"form"],["for","username"],["type","text","id","username","name","username","placeholder","Email Id","required","","autocomplete","on",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","placeholder","Password","required","","autocomplete","on",3,"ngModelChange","ngModel"],["type","submit",3,"click"],[1,"link",3,"click"]],template:function(n,i){n&1&&(E(0,"div",0)(1,"form",1)(2,"label",2),ne(3,"Email Id"),I(),E(4,"input",3),wn("ngModelChange",function(o){return Jn(i.email,o)||(i.email=o),o}),I(),E(5,"label",4),ne(6,"Password"),I(),E(7,"input",5),wn("ngModelChange",function(o){return Jn(i.password,o)||(i.password=o),o}),I(),E(8,"button",6),pe("click",function(){return i.login()}),ne(9,"Login"),I()(),E(10,"p",7),pe("click",function(){return i.openRegisterModal()}),ne(11,"Register"),I()(),Y(12,"router-outlet")),n&2&&(V(4),Cn("ngModel",i.email),V(3),Cn("ngModel",i.password))},dependencies:[Ma,Ku,Si,Ro,zu,ua,_r,ca],styles:[".cont[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;width:100vw;place-items:center;justify-content:center}.form[_ngcontent-%COMP%]{width:300px;background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 5px 10px #0000001a;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px}.link[_ngcontent-%COMP%]:hover{cursor:default;font-size:18px}"]})};var xn=class e{constructor(t,n){this.db=t;this.fireauth=n;this.fireauth.authState.subscribe(i=>{i&&(this.senderUid=i.uid)})}senderUid=null;receiverUid=null;messagesSubject=new Ne([]);messages$=this.messagesSubject.asObservable();setReceiverUid(t){this.receiverUid=t.uid,console.log("[ChatsService] Receiver UID set to:",this.receiverUid),this.senderUid&&this.receiverUid&&this.listenToMessages(this.senderUid,this.receiverUid)}sendNewMessage(t){if(!this.senderUid||!this.receiverUid){console.error("[ChatsService] Sender or Receiver UID not set.");return}let n={timestamp:new Date().toISOString(),sender:this.senderUid,receiver:this.receiverUid,message:t},i=Rn(this.db,"chats/");jT(i,n).then(()=>console.log("[ChatsService] Message sent:",n)).catch(r=>console.error("[ChatsService] Error sending message:",r))}listenToMessages(t,n){let i=Rn(this.db,"chats/");gy(i,r=>{let o=[];r.forEach(a=>{let l=a.val(),c=l.sender?.trim?.(),u=l.receiver?.trim?.();(c===t&&u===n||c===n&&u===t)&&o.push(y({id:a.key},l))});let s=o.sort((a,l)=>new Date(a.timestamp).getTime()-new Date(l.timestamp).getTime());this.messagesSubject.next(s)})}clearMessages(){this.messagesSubject.next([])}listenToLatestMessage(t,n){let i=new G,r=Rn(this.db,"chats/");return gy(r,o=>{let s=[];o.forEach(l=>{let c=l.val();(c.sender===t&&c.receiver===n||c.sender===n&&c.receiver===t)&&s.push(y({id:l.key},c))}),s.sort((l,c)=>new Date(l.timestamp).getTime()-new Date(c.timestamp).getTime());let a=s[s.length-1];a?i.next({message:a.message,timestamp:a.timestamp}):i.next({message:"No messages yet",timestamp:""})}),i}static \u0275fac=function(n){return new(n||e)(_(At),_(rt))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ui=class e{photo=null;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=te({type:e,selectors:[["app-dp"]],inputs:{photo:"photo"},standalone:!1,decls:1,vars:1,consts:[["alt","User",1,"dp",3,"src"]],template:function(n,i){n&1&&Y(0,"img",0),n&2&&ue("src",i.photo,AC)},styles:[".dp[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50px;display:flex}"]})};function TU(e,t){e&1&&(E(0,"div",9)(1,"p",10),ne(2,"21"),I()())}var Ef=class e{constructor(t,n){this.fireauth=t;this.chatsService=n}currentUser=null;latestMessage="Loading...";latestTime="";user;userSelected=new fe;latestMessageSub;selectUser(){this.userSelected.emit(this.user)}ngOnInit(){this.fireauth.authState.subscribe(t=>{t&&this.user?.uid&&(this.currentUser=t.uid,this.subscribeToLatestMessage())})}subscribeToLatestMessage(){if(!this.currentUser||!this.user?.uid)return;let t=this.chatsService.listenToLatestMessage(this.currentUser,this.user.uid);this.latestMessageSub=t.subscribe(n=>{this.latestMessage=n.message,n.timestamp!==""&&(this.latestTime=this.formatTime(n.timestamp))})}formatTime(t){let n=new Date(t),r=new Date().getTime()-n.getTime(),o=24*60*60*1e3;return r<o?n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString([],{month:"short",day:"numeric"})}ngOnDestroy(){this.latestMessageSub&&this.latestMessageSub.unsubscribe()}static \u0275fac=function(n){return new(n||e)(N(rt),N(xn))};static \u0275cmp=te({type:e,selectors:[["app-message-card"]],inputs:{user:"user"},outputs:{userSelected:"userSelected"},standalone:!1,decls:16,vars:14,consts:[[1,"contact",3,"click"],[3,"photo"],[1,"contact-info"],[1,"text","username"],[1,"text","disabled"],[1,"space"],[1,"right"],[1,"time","disabled"],["class","notifications",4,"ngIf"],[1,"notifications"],[1,"number"]],template:function(n,i){n&1&&(E(0,"div",0),pe("click",function(){return i.selectUser()}),Y(1,"app-dp",1),E(2,"div",2)(3,"h4",3),ne(4),$t(5,"slice"),I(),E(6,"p",4),ne(7),$t(8,"slice"),I(),E(9,"p",4),ne(10),I()(),Y(11,"div",5),E(12,"div",6)(13,"span",7),ne(14),I(),tt(15,TU,3,0,"div",8),I()()),n&2&&(V(),ue("photo","assets/users/"+i.user.photo),V(3),Di(" ",i.user.name.length>10?pr(5,6,i.user.name,0,10)+"...":i.user.name," "),V(3),Di("@",i.user.uid.length>20?pr(8,10,i.user.uid,0,20)+"...":i.user.uid,""),V(3),nt(i.latestMessage),V(4),nt(i.latestTime),V(),ue("ngIf",!1))},dependencies:[Ii,Ui,Io],styles:[".contact[_ngcontent-%COMP%]{position:relative;background-color:#fff;display:flex;align-items:center;z-index:13;width:fit-content;min-width:300px;column-gap:24px;justify-content:left;flex-direction:row;overflow:visible;padding:24px;border-radius:15px;transition:transform .3s ease,box-shadow .3s ease}.contact[_ngcontent-%COMP%]:hover{transform:translate(5px);z-index:14;box-shadow:0 0 24px #3535357e}.text[_ngcontent-%COMP%]{margin:2px}.contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.username[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.disabled[_ngcontent-%COMP%]{color:#aaa}.time[_ngcontent-%COMP%]{margin-top:0;align-self:flex-start}.notifications[_ngcontent-%COMP%]{color:#fff;background-color:#ff3939;height:18px;width:18px;text-align:center;justify-content:center;display:flex;flex-direction:column;border-radius:50px;padding:2px}.number[_ngcontent-%COMP%]{text-align:center;font-size:12px;font-weight:bolder;margin:0}.right[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:6px;justify-content:center;align-items:center}.space[_ngcontent-%COMP%]{flex-grow:1}"]})};var If=class e{searchTerm="";searchEvent=new fe;onSearchChange(t){this.searchTerm=t.target.value,this.searchEvent.emit(this.searchTerm)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=te({type:e,selectors:[["app-search-bar"]],outputs:{searchEvent:"searchEvent"},standalone:!1,decls:4,vars:0,consts:[[1,"search-box"],["type","text","placeholder","Search",1,"text-input",3,"input"],[1,"btn"],["src","assets/svg/search.svg"]],template:function(n,i){n&1&&(E(0,"div",0)(1,"input",1),pe("input",function(o){return i.onSearchChange(o)}),I(),E(2,"button",2),Y(3,"img",3),I()())},styles:[".search-box[_ngcontent-%COMP%]{background-color:#ececec;display:flex;align-items:center;width:max-width;column-gap:12px;justify-content:left;flex-direction:row;padding:15px 25px;border-radius:30px;z-index:0}.btn[_ngcontent-%COMP%]{border:none;background-color:transparent;padding:0;display:flex;align-items:center;justify-content:center}.text-input[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:20px;flex-grow:1;width:auto}.text-input[_ngcontent-%COMP%]:focus{border:none;outline:none}img[_ngcontent-%COMP%]{color:#757575}"]})};function AU(e,t){if(e&1){let n=hr();E(0,"div")(1,"app-message-card",5),pe("userSelected",function(r){Bt(n);let o=Ht();return jt(o.onUserSelected(r))}),I()()}if(e&2){let n=t.$implicit;V(),ue("user",n)}}var Tf=class e{constructor(t,n){this.db=t;this.chatsService=n}users=[];filteredUsers=[];searchSubject=new G;userSelected=new fe;ngOnInit(){return Te(this,null,function*(){let t=Rn(this.db,"user/"),n=yield Cf(t);if(n.exists()){let i=n.val();this.users=Object.values(i),this.filteredUsers=[...this.users],console.log(this.users)}else console.log("User data not found");this.searchSubject.pipe(fh(300)).subscribe(i=>{this.filteredUsers=this.users.filter(r=>r.name.toLowerCase().includes(i.toLowerCase())||r.uid.toLowerCase().includes(i.toLowerCase()))})})}onSearch(t){this.searchSubject.next(t)}onUserSelected(t){if(console.log("[SideBarComponent] User selected:",t),!t?.uid){console.warn("[SideBarComponent] No UID found in selected user");return}this.chatsService.setReceiverUid(t.uid),this.userSelected.emit(t)}static \u0275fac=function(n){return new(n||e)(N(At),N(xn))};static \u0275cmp=te({type:e,selectors:[["app-side-bar"]],outputs:{userSelected:"userSelected"},standalone:!1,decls:5,vars:1,consts:[[1,"cont"],[1,"search-bar-wrapper"],[3,"searchEvent"],[1,"inner-container"],[4,"ngFor","ngForOf"],[3,"userSelected","user"]],template:function(n,i){n&1&&(E(0,"div",0)(1,"div",1)(2,"app-search-bar",2),pe("searchEvent",function(o){return i.onSearch(o)}),I()(),E(3,"div",3),tt(4,AU,2,1,"div",4),I()()),n&2&&(V(4),ue("ngForOf",i.filteredUsers))},dependencies:[Au,Ef,If],styles:[".cont[_ngcontent-%COMP%]{width:fit-content;background-color:#fff;padding-top:25px;border-radius:30px;z-index:0}.inner-container[_ngcontent-%COMP%]{height:73vh;position:relative;overflow-y:scroll;overflow-x:visible!important;z-index:12;padding:25px}@media screen and (max-width: 1366px){.inner-container[_ngcontent-%COMP%]{height:62vh}}.inner-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.search-bar-wrapper[_ngcontent-%COMP%]{position:sticky;top:0;z-index:0;background:#fff;padding-left:25px;padding-right:25px;border-radius:12px}"]})};var Sf=class e{constructor(t,n){this.fireauth=t;this.db=n}getCurrentUser(){return Te(this,null,function*(){let t=yield this.fireauth.currentUser;if(t){let n=t.uid,i=Rn(this.db,"user/"+n),r=yield Cf(i);return r.exists()?(console.log(r),r.val()):(console.log("User data not found"),null)}})}static \u0275fac=function(n){return new(n||e)(_(rt),_(At))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var Mf=class e{constructor(t,n,i){this.currentUserService=t;this.authenticationService=n;this.fireauth=i}username=null;name=null;photo=null;userData;logout(){this.authenticationService.logout()}ngOnInit(){return Te(this,null,function*(){this.fireauth.authState.subscribe(t=>Te(this,null,function*(){t?(this.userData=yield this.currentUserService.getCurrentUser(),this.userData&&(this.username=this.userData.uid,this.name=this.userData.name,this.photo="assets/users/"+this.userData.photo)):console.log("No user is logged in")}))})}static \u0275fac=function(n){return new(n||e)(N(Sf),N(ji),N(rt))};static \u0275cmp=te({type:e,selectors:[["app-user-profile"]],standalone:!1,decls:13,vars:7,consts:[[1,"cont"],[3,"photo"],[1,"userdetails"],[1,"name"],[1,"username"],[1,"spacer"],[1,"btn"],["src","assets/svg/notification.svg"],[1,"btn",3,"click"],["src","assets/svg/logout.svg"]],template:function(n,i){n&1&&(E(0,"div",0),Y(1,"app-dp",1),E(2,"div",2)(3,"div",3),ne(4),I(),E(5,"div",4),ne(6),$t(7,"slice"),I()(),Y(8,"div",5),E(9,"button",6),Y(10,"img",7),I(),E(11,"button",8),pe("click",function(){return i.logout()}),Y(12,"img",9),I()()),n&2&&(V(),ue("photo",i.photo),V(3),nt(i.name),V(2),Di(" @",(i.username||"").length>10?pr(7,3,i.username,0,10)+"...":i.username||""," "))},dependencies:[Ui,Io],styles:[".cont[_ngcontent-%COMP%]{display:flex;flex-direction:row;column-gap:20px;align-items:center;justify-content:left;background-color:transparent;width:auto;padding:10px}.spacer[_ngcontent-%COMP%]{flex-grow:1}.userdetails[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:4px}.name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.username[_ngcontent-%COMP%]{font-size:14px;color:#8f8f8f}.btn[_ngcontent-%COMP%]{border:none;background-color:transparent;padding:0;display:flex;align-items:center;justify-content:center}"]})};var Af=class e{constructor(t){this.chatsService=t}newMessage="";sendMessage(){this.newMessage.trim()&&(this.chatsService.sendNewMessage(this.newMessage),this.newMessage="")}static \u0275fac=function(n){return new(n||e)(N(xn))};static \u0275cmp=te({type:e,selectors:[["app-message"]],standalone:!1,decls:8,vars:1,consts:[[1,"cont"],[1,"btn"],["src","assets/svg/attachment.svg"],["type","text","placeholder","Type a message . . .",1,"typemessage",3,"ngModelChange","keydown.enter","ngModel"],["src","assets/svg/smiley.svg"],[1,"send-btn",3,"click"],["src","assets/svg/send.svg"]],template:function(n,i){n&1&&(E(0,"div",0)(1,"button",1),Y(2,"img",2),I(),E(3,"input",3),wn("ngModelChange",function(o){return Jn(i.newMessage,o)||(i.newMessage=o),o}),pe("keydown.enter",function(){return i.sendMessage()}),I(),E(4,"button",1),Y(5,"img",4),I(),E(6,"button",5),pe("click",function(){return i.sendMessage()}),Y(7,"img",6),I()()),n&2&&(V(3),Cn("ngModel",i.newMessage))},dependencies:[Si,Ro,_r],styles:[".btn[_ngcontent-%COMP%]{border:none;background-color:transparent;padding:0;display:flex;align-items:center;justify-content:center}.cont[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#fff;padding:15px 20px;column-gap:15px;border-radius:50px}.send-btn[_ngcontent-%COMP%]{border:none;display:flex;align-items:center;justify-content:center;width:45px;height:45px;background-color:#267fec;border-radius:50px}.typemessage[_ngcontent-%COMP%]{flex-grow:1;background-color:transparent;border:none;font-size:22px}.typemessage[_ngcontent-%COMP%]:focus{outline:none;border:none;box-shadow:none}"]})};function PU(e,t){if(e&1&&(E(0,"div",1),Y(1,"app-dp",2),E(2,"h4",3),ne(3),$t(4,"slice"),I()()),e&2){let n=Ht();V(),ue("photo","assets/users/"+n.selectedUser.photo),V(2),nt(n.selectedUser.name.length>10?pr(4,2,n.selectedUser.name,0,10)+"...":n.selectedUser.name)}}var Nf=class e{selectedUser;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=te({type:e,selectors:[["app-header"]],inputs:{selectedUser:"selectedUser"},standalone:!1,decls:1,vars:1,consts:[["class","cont",4,"ngIf"],[1,"cont"],[3,"photo"],[1,"text","username"]],template:function(n,i){n&1&&tt(0,PU,5,6,"div",0),n&2&&ue("ngIf",i.selectedUser)},dependencies:[Ii,Ui,Io],styles:[".username[_ngcontent-%COMP%]{font-weight:bolder;font-size:24px}.text[_ngcontent-%COMP%]{margin:2px}.cont[_ngcontent-%COMP%]{background-color:#fff;display:flex;padding:20px;flex-direction:row;column-gap:20px;justify-content:left;align-items:center;border-radius:12px;margin:0 20px 5px}"]})};var Rf=class e{message;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=te({type:e,selectors:[["app-sent-message"]],inputs:{message:"message"},standalone:!1,decls:6,vars:5,consts:[[1,"cont"],[1,"message"],[1,"time"]],template:function(n,i){n&1&&(E(0,"div",0)(1,"p",1),ne(2),I(),E(3,"p",2),ne(4),$t(5,"date"),I()()),n&2&&(V(2),nt(i.message.message),V(2),nt(hu(5,2,i.message.timestamp,"shortTime")))},dependencies:[Nu],styles:[".cont[_ngcontent-%COMP%]{justify-content:right;display:flex;flex-direction:column;align-items:flex-end}.message[_ngcontent-%COMP%]{font-size:18px;color:#fff;max-width:700px;text-align:justify;padding:30px;margin:20px 20px 10px;background-color:#267fec;border-radius:40px}.time[_ngcontent-%COMP%]{color:#757575;max-width:700px;text-align:justify;padding:0 30px;margin:0 0 20px 20px}"]})};var xf=class e{message;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=te({type:e,selectors:[["app-receive-message"]],inputs:{message:"message"},standalone:!1,decls:6,vars:5,consts:[[1,"cont"],[1,"message"],[1,"time"]],template:function(n,i){n&1&&(E(0,"div",0)(1,"p",1),ne(2),I(),E(3,"p",2),ne(4),$t(5,"date"),I()()),n&2&&(V(2),nt(i.message.message),V(2),nt(hu(5,2,i.message.timestamp,"shortTime")))},dependencies:[Nu],styles:[".cont[_ngcontent-%COMP%]{justify-content:right;display:flex;flex-direction:column;align-items:flex-start}.message[_ngcontent-%COMP%]{font-size:18px;max-width:700px;text-align:justify;padding:30px;margin:20px 20px 10px;background-color:#fff;border-radius:40px}.time[_ngcontent-%COMP%]{max-width:700px;text-align:justify;color:#757575;padding:0 30px;margin:0 20px 20px 0}"]})};var VU=["scrollContainer"];function BU(e,t){if(e&1&&Y(0,"app-sent-message",8),e&2){let n=Ht().$implicit;ue("message",n)}}function jU(e,t){if(e&1&&Y(0,"app-receive-message",8),e&2){let n=Ht().$implicit;ue("message",n)}}function UU(e,t){if(e&1&&(uu(0),tt(1,BU,1,1,"app-sent-message",7)(2,jU,1,1,"app-receive-message",7),du()),e&2){let n=t.$implicit,i=Ht(2);V(),ue("ngIf",n.sender===i.SenderUid),V(),ue("ngIf",n.sender!==i.SenderUid)}}function HU(e,t){if(e&1&&(E(0,"div",4,0)(2,"div",5),tt(3,UU,3,2,"ng-container",6),I()()),e&2){let n=Ht();V(3),ue("ngForOf",n.messages)}}var Of=class e{constructor(t,n){this.chatsService=t;this.fireauth=n}selectedUser;messages=[];SenderUid=null;scrollContainer;messageSubscription;ngOnInit(){this.fireauth.authState.subscribe(t=>{t&&(this.SenderUid=t.uid,console.log("[ChatBox] Logged in with UID:",this.SenderUid))})}ngOnChanges(t){t.selectedUser&&this.selectedUser&&(console.log("[ChatBox] selectedUser changed:",this.selectedUser),this.messages=[],this.chatsService.clearMessages(),this.chatsService.setReceiverUid(this.selectedUser),this.subscribeToMessages())}subscribeToMessages(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.messageSubscription=this.chatsService.messages$.subscribe(t=>{this.messages=t,setTimeout(()=>this.scrollToBottom(),100)})}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe()}scrollToBottom(){this.scrollContainer&&(this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight)}static \u0275fac=function(n){return new(n||e)(N(xn),N(rt))};static \u0275cmp=te({type:e,selectors:[["app-chat-box"]],viewQuery:function(n,i){if(n&1&&fu(VU,5),n&2){let r;Gs(r=Ws())&&(i.scrollContainer=r.first)}},inputs:{selectedUser:"selectedUser"},standalone:!1,features:[Qn],decls:3,vars:2,consts:[["scrollContainer",""],[1,"cont"],[3,"selectedUser"],["class","chatBox",4,"ngIf"],[1,"chatBox"],[1,"messages"],[4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],[3,"message"]],template:function(n,i){n&1&&(E(0,"div",1),Y(1,"app-header",2),tt(2,HU,4,1,"div",3),I()),n&2&&(V(),ue("selectedUser",i.selectedUser),V(),ue("ngIf",i.SenderUid))},dependencies:[Au,Ii,Nf,Rf,xf],styles:[".cont[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.chatBox[_ngcontent-%COMP%]{flex-grow:1;height:50vh;background-color:transparent;padding:20px;margin:0 20px 5px;max-height:80vh;overflow-y:auto;display:flex;flex-direction:column-reverse}.chatBox[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.messages[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})};function GU(e,t){if(e&1&&(E(0,"div",5)(1,"div",6),Y(2,"app-chat-box",7),I(),Y(3,"app-message"),I()),e&2){let n=Ht();V(2),ue("selectedUser",n.selectedUser)}}function WU(e,t){e&1&&(E(0,"div",8),Y(1,"img",9),E(2,"p"),ne(3,"Select a Chat to Start a Conversation"),I()())}var Pf=class e{selectedUser=null;onUserSelected(t){this.selectedUser=t}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=te({type:e,selectors:[["app-home"]],standalone:!1,decls:7,vars:2,consts:[["StartTemplate",""],[1,"cont"],[1,"container-left"],[3,"userSelected"],["class","container-right",4,"ngIf","ngIfElse"],[1,"container-right"],[1,"chatBox"],[3,"selectedUser"],[1,"start-container"],["src","assets/svg/chat.svg"]],template:function(n,i){if(n&1){let r=hr();E(0,"div",1)(1,"div",2),Y(2,"app-user-profile"),E(3,"app-side-bar",3),pe("userSelected",function(s){return Bt(r),jt(i.onUserSelected(s))}),I()(),tt(4,GU,4,1,"div",4),I(),tt(5,WU,4,0,"ng-template",null,0,vg)}if(n&2){let r=zs(6);V(4),ue("ngIf",i.selectedUser)("ngIfElse",r)}},dependencies:[Ii,Tf,Mf,Af,Of],styles:[".cont[_ngcontent-%COMP%]{margin:0;justify-content:center;width:100%;display:flex;flex-direction:row;column-gap:12px;padding:21px}.container-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:5px}.container-right[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}.chatBox[_ngcontent-%COMP%]{flex-grow:1}.start-container[_ngcontent-%COMP%]{background-color:#fff;align-items:center;text-align:center;justify-content:center;flex-grow:1;display:flex;flex-direction:column;font-size:22px;font-weight:bolder}"]})};var zU=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:wf},{path:"home",component:Pf},{path:"register",component:hs}],kf=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=H({type:e});static \u0275inj=U({imports:[xm.forRoot(zU),xm]})};var Ff=class e{username=null;constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=te({type:e,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(n,i){n&1&&Y(0,"router-outlet")},dependencies:[Ma],encapsulation:2})};var yy={production:!1,firebaseConfig:{apiKey:"AIzaSyAgRrxXPQESUCLSKb0AHnTOa8CoThW2Qwg",authDomain:"chattingapp-598c3.firebaseapp.com",databaseURL:"https://chattingapp-598c3-default-rtdb.firebaseio.com",projectId:"chattingapp-598c3",storageBucket:"chattingapp-598c3.firebasestorage.app",messagingSenderId:"710654607847",appId:"1:710654607847:web:1f862ddda635e2f7a97d42"}};var Lf=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=H({type:e,bootstrap:[Ff]});static \u0275inj=U({providers:[Fm(()=>Lm(yy.firebaseConfig)),VT(()=>BT()),Fm(()=>Lm({projectId:"chattingapp-598c3",appId:"1:710654607847:web:1f862ddda635e2f7a97d42",databaseURL:"https://chattingapp-598c3-default-rtdb.firebaseio.com",storageBucket:"chattingapp-598c3.firebasestorage.app",apiKey:"AIzaSyAgRrxXPQESUCLSKb0AHnTOa8CoThW2Qwg",authDomain:"chattingapp-598c3.firebaseapp.com",messagingSenderId:"710654607847",measurementId:"G-7RBM3FR662"})),kT(()=>FT())],imports:[OD,kf,iE,wD,u1.initializeApp(yy.firebaseConfig),d1,xT]})};xD().bootstrapModule(Lf,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
